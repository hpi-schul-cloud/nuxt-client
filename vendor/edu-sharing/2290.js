"use strict";(self.webpackChunkapp_as_web_component=self.webpackChunkapp_as_web_component||[]).push([[2290],{22290:(f,g,t)=>{t.r(g),t.d(g,{UploadPageModule:()=>c});var u=t(50555),r=t(22941),d=t(81771),e=t(65879),l=t(52081),m=t(76754),v=t(87110),T=t(96814),D=t(94618),h=t(66848),P=t(71365);function i(s,I){1&s&&e._UZ(0,"es-global-progress")}const E=[{path:"",component:(()=>{class s{constructor(a,o,O,U,C,M){this.translations=a,this.nodeHelper=o,this.connector=O,this.events=U,this.route=C,this.uploadDialogs=M,this.loading=!0,this.translations.waitForInit().subscribe(()=>{this.connector.isLoggedIn(!1).subscribe(_=>{_.statusCode===d.u6.STATUS_CODE_OK&&this.nodeHelper.getDefaultInboxFolder().subscribe(A=>{this.parent=A,this.route.queryParams.subscribe(x=>{this.reurl=x.reurl}),this._openUploadDialog()})})})}_openUploadDialog(){this.loading=!1,this.uploadDialogs.openUploadDialog({parent:this.parent,chooseParent:!0,multiple:!1}).then(a=>{this._onDone(a)})}_onDone(a){null!=a?(this.nodeHelper.addNodeToLms(a[0],this.reurl),window.close()):this._cancel()}_cancel(){this.events.broadcastEvent(d.I_.EVENT_UPLOAD_CANCELED),window.close(),this._openUploadDialog()}static#t=this.\u0275fac=function(o){return new(o||s)(e.Y36(l.fA),e.Y36(m.G),e.Y36(d.xD),e.Y36(d.I_),e.Y36(r.gz),e.Y36(v.t))};static#e=this.\u0275cmp=e.Xpm({type:s,selectors:[["es-upload-page"]],decls:4,vars:4,consts:[[4,"ngIf"],["esTitle","",1,"cdk-visually-hidden"]],template:function(o,O){1&o&&(e.YNc(0,i,1,0,"es-global-progress",0),e.TgZ(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&o&&(e.Q6J("ngIf",O.loading),e.xp6(2),e.Oqu(e.lcZ(3,2,"WORKSPACE.ADD_OBJECT_TITLE")))},dependencies:[T.O5,D.d,h.M,P.X$]})}return s})()}];let p=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=e.oAB({type:s});static#s=this.\u0275inj=e.cJS({imports:[r.Bz.forChild(E),r.Bz]})}return s})(),c=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=e.oAB({type:s});static#s=this.\u0275inj=e.cJS({imports:[u.m,p]})}return s})()},66848:(f,g,t)=>{t.d(g,{M:()=>D});var u=t(72079),r=t(12994),d=t(77504),e=t(96124),l=t(65879),m=t(6593),v=t(52081),T=t(81771);let D=(()=>{class h{constructor(i,n,E,p){this.elementRef=i,this.documentTitle=n,this.translations=E,this.pageHeading=new u.xQ,this.titleOverride=new u.xQ,this.pageTitle=new u.xQ,this.mutationObserver=new MutationObserver(()=>this.updatePageHeading()),this.mutationObserver.observe(this.elementRef.nativeElement,{characterData:!0,subtree:!0}),(0,r.aj)([this.pageHeading,this.titleOverride]).pipe((0,e.U)(([c,s])=>s??c)).subscribe(this.pageTitle),(0,r.aj)([(0,d.D)({branding:p.get("branding"),siteTitle:p.get("siteTitle","edu-sharing")}),this.pageTitle,this.translations.waitForInit()]).subscribe(([c,s])=>this.updateTitle(c,s))}ngOnChanges(i){if(i.esTitle){const n=i.esTitle.currentValue;this.titleOverride.next(""===n?null:n??"")}}ngOnInit(){this.updatePageHeading()}ngOnDestroy(){this.mutationObserver.disconnect()}updatePageHeading(){this.pageHeading.next(this.elementRef.nativeElement.textContent)}updateTitle(i,n){this.documentTitle.setTitle(n?i.branding?n+" - "+i.siteTitle:n:i.siteTitle)}static#t=this.\u0275fac=function(n){return new(n||h)(l.Y36(l.SBq),l.Y36(m.Dx),l.Y36(v.fA),l.Y36(T.eB))};static#e=this.\u0275dir=l.lG2({type:h,selectors:[["","esTitle",""]],inputs:{esTitle:"esTitle"},features:[l.TTD]})}return h})()}}]);