"use strict";(self.webpackChunkapp_as_web_component=self.webpackChunkapp_as_web_component||[]).push([[7924],{17924:(aa,nt,l)=>{l.r(nt),l.d(nt,{AdminPageModule:()=>Wi});var t=l(65879),g=l(56223),At=l(49016),C=l(96814);const Mt=["editorContainer"],K=new t.OlP("NGX_MONACO_EDITOR_CONFIG");let it,ot=!1,ft=(()=>{class o{set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}constructor(e){this.config=e,this.onInit=new t.vpe,this._insideNg=!1}ngAfterViewInit(){ot?it.then(()=>{this.initMonaco(this._options,this.insideNg)}):(ot=!0,it=new Promise(e=>{const i=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void e();const n=c=>{let _=c||window.require,u={paths:{vs:`${i}/monaco/min/vs`}};Object.assign(u,this.config.requireConfig||{}),_.config(u),_(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(this.config.monacoRequire)n(this.config.monacoRequire);else if(window.require)if(window.require.config)n();else{var a=`${i}/monaco/min/vs/loader.js`,r=new XMLHttpRequest;r.addEventListener("load",()=>{let c=document.createElement("script");c.type="text/javascript",c.text=["var nodeRequire = require;",r.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join("\n"),document.body.appendChild(c),n(window.monacoAmdRequire)}),r.open("GET",a),r.send()}else{const c=document.createElement("script");c.type="text/javascript",c.src=`${i}/monaco/min/vs/loader.js`,c.addEventListener("load",()=>{n()}),document.body.appendChild(c)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&t.Gf(Mt,7),2&i){let a;t.iGM(a=t.CRH())&&(n._editorContainer=a.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}return o})(),at=(()=>{class o extends ft{set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}constructor(e,i){super(i),this.zone=e,this.editorConfig=i,this._value="",this.propagateChange=n=>{},this.onTouched=()=>{}}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,i){const n=!!e.model;if(n){const a=monaco.editor.getModel(e.model.uri||"");a?(e.model=a,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}i?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),n||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(a=>{const r=this._editor.getValue();this.zone.run(()=>{this.propagateChange(r),this._value=r})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,At.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.R0b),t.Y36(K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[t._Bn([{provide:g.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}]),t.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(i,n){1&i&&t._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]})}return o})(),Ot=(()=>{class o{static forRoot(e={}){return{ngModule:o,providers:[{provide:K,useValue:e}]}}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[C.ez]})}return o})();var Tt=l(2962),xt=l(50555),J=l(22941),h=l(15861),v=l(86825),P=l(48098),d=l(52081),It=l(54699),B=l(94462),p=l(81771),W=l(83848),N=l(64634),S=l(90721),V=l(53461),U=l(4254),k=l(68504),Pt=l(47159),w=l(36692),Nt=l(5178),b=l(1189),x=l(71365),st=l(13838),rt=l(94618),R=l(17162),q=l(23680),I=l(32296),X=l(75986),$=l(22557),j=l(3305),A=l(64170),y=l(24516),ct=l(56263),Z=l(87466),H=l(98525),m=l(25313),Et=l(12883),vt=l(19374),bt=l(65928),Zt=l(66848),Lt=l(77504),Q=l(52598),Dt=l(82599);const lt=function(){return{standalone:!0}};function St(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ngx-monaco-editor",2),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.ngModelChange.emit(n))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("options",e.options)("ngModel",e.ngModel)("ngModelOptions",t.DdM(3,lt))}}function Rt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"textarea",3),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.ngModelChange.emit(n))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("ngModel",e.ngModel)("ngModelOptions",t.DdM(2,lt))}}let _t=(()=>{class o{constructor(e){this.configService=e,this.ngModelChange=new t.vpe,this.configService.observeConfig().subscribe(i=>{this.editorType=i.admin?.editorType||"Monaco"})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(P.E4))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-code-editor"]],inputs:{options:"options",ngModel:"ngModel"},outputs:{ngModelChange:"ngModelChange"},decls:2,vars:2,consts:[[3,"options","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"options","ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"]],template:function(i,n){1&i&&(t.YNc(0,St,1,4,"ngx-monaco-editor",0),t.YNc(1,Rt,1,3,"textarea",1)),2&i&&(t.Q6J("ngIf","Monaco"===n.editorType),t.xp6(1),t.Q6J("ngIf","Textarea"===n.editorType))},dependencies:[C.O5,g.Fj,g.JJ,g.On,at],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%}textarea[_ngcontent-%COMP%]{border:1px solid #eee;width:100%;min-height:100%;resize:vertical;overflow:auto}textarea[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus-visible{outline:none;border:1px solid var(--primary)}ngx-monaco-editor[_ngcontent-%COMP%]{width:100%;resize:vertical;overflow:auto}[_nghost-%COMP%]     ngx-monaco-editor.roConfig .view-lines{opacity:.7}"]})}return o})();function yt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"mat-slide-toggle",9),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.showRO=n)}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.showRO),t.xp6(1),t.hij(" ",t.lcZ(3,2,"ADMIN.GLOBAL_CONFIG.SHOW_RO")," ")}}const wt=function(){return{key:"security.configuration.inlineEditing"}};function qt(o,s){1&o&&(t.TgZ(0,"es-info-message",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.xi3(2,1,"ADMIN.GLOBAL_CONFIG.EDIT_DISABLED",t.DdM(4,wt))," "))}function Ut(o,s){1&o&&(t.TgZ(0,"es-info-message",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.GLOBAL_CONFIG.VOLATILE_WARNING")))}function Gt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"es-info-message",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"h3",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4)(8,"es-code-editor",12),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.configs.reference=n)}),t.qZA(),t.TgZ(9,"mat-hint")(10,"div"),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.GLOBAL_CONFIG.INHERIT_INFO")),t.xp6(3),t.hij(" ",t.lcZ(6,7,"ADMIN.GLOBAL_CONFIG.BASE_CONFIG_TITLE")," "),t.xp6(3),t.Q6J("options",e.codeOptionsHocoonRO)("ngModel",e.configs.reference),t.xp6(3),t.Oqu(t.lcZ(12,9,"ADMIN.GLOBAL_CONFIG.BASE_CONFIG_HINT"))}}function Ft(o,s){1&o&&(t.TgZ(0,"es-info-message",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.GLOBAL_CONFIG.VOLATILE_WARNING")))}const Jt=function(){return{standalone:!0}};function kt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Ft,3,3,"es-info-message",3),t.TgZ(5,"div",4)(6,"es-code-editor",13),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.configs.extension=n)}),t.qZA(),t.TgZ(7,"mat-hint")(8,"div"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"ADMIN.GLOBAL_CONFIG.EXTENSION_CONFIG_TITLE")," "),t.xp6(2),t.Q6J("ngIf",e.editSupported),t.xp6(2),t.Q6J("options",e.codeOptionsHocoonRW)("ngModel",e.configs.extension)("ngModelOptions",t.DdM(10,Jt)),t.xp6(3),t.Oqu(t.lcZ(10,8,"ADMIN.GLOBAL_CONFIG.EXTENSION_CONFIG_HINT"))}}function jt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",4)(5,"es-code-editor",12),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.configs.clusterDeployment=n)}),t.qZA(),t.TgZ(6,"mat-hint")(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,4,"ADMIN.GLOBAL_CONFIG.CLUSTER_DEPLOYMENT_CONFIG_TITLE")," "),t.xp6(3),t.Q6J("options",e.codeOptionsHocoonRO)("ngModel",e.configs.clusterDeployment),t.xp6(3),t.hij(" ",t.lcZ(9,6,"ADMIN.GLOBAL_CONFIG.CLUSTER_DEPLOYMENT_CONFIG_HINT")," ")}}function Ht(o,s){if(1&o&&(t.ynx(0),t.YNc(1,jt,10,8,"ng-container",6),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.configs.clusterDeployment)}}function Qt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",4)(5,"es-code-editor",5),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.configs.clusterOverride=n)}),t.qZA(),t.TgZ(6,"mat-hint")(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,4,"ADMIN.GLOBAL_CONFIG.CLUSTER_OVERRIDE_CONFIG_TITLE")," "),t.xp6(3),t.Q6J("options",e.codeOptionsHocoonRW)("ngModel",e.configs.clusterOverride),t.xp6(3),t.Oqu(t.lcZ(9,6,"ADMIN.GLOBAL_CONFIG.CLUSTER_OVERRIDE_CONFIG_HINT"))}}function Yt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",4)(5,"es-code-editor",12),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.configs.nodeDeployment=n)}),t.qZA(),t.TgZ(6,"mat-hint")(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,4,"ADMIN.GLOBAL_CONFIG.NODE_DEPLOYMENT_CONFIG_TITLE")," "),t.xp6(3),t.Q6J("options",e.codeOptionsHocoonRO)("ngModel",e.configs.nodeDeployment),t.xp6(3),t.Oqu(t.lcZ(9,6,"ADMIN.GLOBAL_CONFIG.NODE_DEPLOYMENT_CONFIG_HINT"))}}function Kt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",4)(5,"es-code-editor",12),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.configs.parsed=n)}),t.qZA(),t.TgZ(6,"mat-hint")(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,4,"ADMIN.GLOBAL_CONFIG.PARSED_TITLE")," "),t.xp6(3),t.Q6J("options",e.codeOptionsHocoonRO)("ngModel",e.configs.parsed),t.xp6(3),t.Oqu(t.lcZ(9,6,"ADMIN.GLOBAL_CONFIG.PARSED_HINT"))}}function Bt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"es-info-message",11),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.save())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"ADMIN.GLOBAL_CONFIG.WARNING")),t.xp6(3),t.Oqu(t.lcZ(6,4,"SAVE")))}let Wt=(()=>{class o{static#t=this.CONFIG_FILE_REFERENCE="edu-sharing.reference.conf";static#e=this.EXTENSION_CONFIG_FILE="edu-sharing.application.conf";static#n=this.OVERRIDE_CONFIG_FILE="edu-sharing.override.conf";static#o=this.CONFIG_DEPLOYMENT_FILE="edu-sharing.deployment.conf";static#i=this.CLIENT_CONFIG_FILE="client.config.xml";onCtrlS(e){e.preventDefault(),this.save()}constructor(e,i,n,a){this.adminService=e,this.configService=i,this.dialogs=n,this.toast=a,this.codeOptionsHocoonRO={minimap:{enabled:!1},language:"json",readOnly:!0,automaticLayout:!0},this.codeOptionsHocoonRW={minimap:{enabled:!1},language:"json",automaticLayout:!0},this.clientCodeOptions={minimap:{enabled:!1},language:"xml",automaticLayout:!0},this.configs={clientConfig:null,reference:null,clusterDeployment:null,nodeDeployment:null,extension:null,clusterOverride:null,nodeOverride:null,parsed:null},this.size="medium",this.showRO=!1,this.editSupported=!1,this.adminService.getConfigFile(o.CLIENT_CONFIG_FILE,"DEFAULTS").subscribe(r=>this.configs.clientConfig=r),this.adminService.getConfigFile(o.CONFIG_FILE_REFERENCE,"DEFAULTS").subscribe(r=>this.configs.reference=r),this.adminService.getConfigFile(o.EXTENSION_CONFIG_FILE,"DEFAULTS").subscribe(r=>this.configs.extension=r),this.adminService.getConfigFile(o.CONFIG_DEPLOYMENT_FILE,"CLUSTER").subscribe(r=>this.configs.clusterDeployment=r),this.adminService.getConfigFile(o.CONFIG_DEPLOYMENT_FILE,"NODE").subscribe(r=>this.configs.nodeDeployment=r),this.adminService.getConfigFile(o.OVERRIDE_CONFIG_FILE,"CLUSTER").subscribe(r=>this.configs.clusterOverride=r),this.adminService.getConfigFile(o.OVERRIDE_CONFIG_FILE,"NODE").subscribe(r=>this.configs.nodeOverride=r),this.adminService.getConfigMerged().subscribe(r=>{this.configs.parsed=JSON.stringify(r,null,2),this.setEditSupported(r?.security?.configuration?.inlineEditing)},()=>{this.setEditSupported(!1)})}setEditSupported(e){this.editSupported=e,this.showRO=!this.editSupported,this.codeOptionsHocoonRW={...this.codeOptionsHocoonRW,readOnly:!this.editSupported},this.clientCodeOptions={...this.clientCodeOptions,readOnly:!this.editSupported}}displayError(e){console.warn(e),this.toast.closeProgressSpinner(),this.dialogs.openGenericDialog({title:"ADMIN.GLOBAL_CONFIG.ERROR",message:"ADMIN.GLOBAL_CONFIG.PARSE_ERROR",messageParameters:{error:e?.error?.error},messageMode:"html",closable:V.IA.Disabled,buttons:[{label:"ADMIN.GLOBAL_CONFIG.CHECK",config:{color:"danger"}}]})}save(){this.toast.showProgressSpinner(),(0,Lt.D)([this.adminService.updateConfigFile(o.CLIENT_CONFIG_FILE,"DEFAULTS",this.configs.clientConfig),this.adminService.updateConfigFile(o.EXTENSION_CONFIG_FILE,"DEFAULTS",this.configs.extension),this.adminService.updateConfigFile(o.OVERRIDE_CONFIG_FILE,"CLUSTER",this.configs.clusterOverride),this.adminService.updateConfigFile(o.OVERRIDE_CONFIG_FILE,"NODE",this.configs.nodeOverride)]).subscribe(()=>{this.adminService.refreshAppInfo().subscribe(()=>{this.toast.closeProgressSpinner(),this.configService.observeConfig({forceUpdate:!0}).subscribe(()=>{this.toast.closeProgressSpinner(),this.toast.toast("ADMIN.GLOBAL_CONFIG.SAVED")},e=>this.displayError(e))},e=>this.displayError(e))})}static#a=this.\u0275fac=function(i){return new(i||o)(t.Y36(Q.F),t.Y36(P.E4),t.Y36(w.H),t.Y36(b.F))};static#s=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-admin-config"]],hostBindings:function(i,n){1&i&&t.NdJ("keydown.control.s",function(r){return n.onCtrlS(r)})},decls:20,vars:21,consts:[["class","config-hide",4,"ngIf"],["mode","info",4,"ngIf"],[1,"mat-heading-3","mat-heading-underline"],["mode","warning",4,"ngIf"],[1,"monaco-editor"],[3,"options","ngModel","ngModelChange"],[4,"ngIf"],["class","actions",4,"ngIf"],[1,"config-hide"],["name","showRO",1,"toggle-reverse",3,"ngModel","ngModelChange"],["mode","info"],["mode","warning"],[1,"roConfig",3,"options","ngModel","ngModelChange"],[3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div"),t.YNc(1,yt,4,4,"div",0),t.YNc(2,qt,3,5,"es-info-message",1),t.TgZ(3,"h3",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Ut,3,3,"es-info-message",3),t.TgZ(7,"div",4)(8,"es-code-editor",5),t.NdJ("ngModelChange",function(r){return n.configs.clientConfig=r}),t.qZA(),t.TgZ(9,"mat-hint")(10,"div"),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.YNc(13,Gt,13,11,"ng-container",6),t.YNc(14,kt,11,11,"ng-container",6),t.YNc(15,Ht,2,1,"ng-container",6),t.YNc(16,Qt,10,8,"ng-container",6),t.YNc(17,Yt,10,8,"ng-container",6),t.YNc(18,Kt,10,8,"ng-container",6),t.YNc(19,Bt,7,6,"div",7),t.qZA()),2&i&&(t.Gre("config config-size-",n.size,""),t.xp6(1),t.Q6J("ngIf",n.editSupported),t.xp6(1),t.Q6J("ngIf",!n.editSupported),t.xp6(2),t.hij(" ",t.lcZ(5,17,"ADMIN.GLOBAL_CONFIG.CLIENT_CONFIG_TITLE")," "),t.xp6(2),t.Q6J("ngIf",n.editSupported),t.xp6(2),t.Q6J("options",n.clientCodeOptions)("ngModel",n.configs.clientConfig),t.xp6(3),t.Oqu(t.lcZ(12,19,"ADMIN.GLOBAL_CONFIG.CLIENT_CONFIG_HINT")),t.xp6(2),t.Q6J("ngIf",n.showRO),t.xp6(1),t.Q6J("ngIf",n.configs.extension),t.xp6(1),t.Q6J("ngIf",n.showRO),t.xp6(1),t.Q6J("ngIf",n.editSupported||n.configs.clusterOverride),t.xp6(1),t.Q6J("ngIf",n.showRO&&n.configs.nodeDeployment),t.xp6(1),t.Q6J("ngIf",n.showRO),t.xp6(1),t.Q6J("ngIf",n.editSupported))},dependencies:[C.O5,g.JJ,g.On,R.u,I.lW,A.bx,Dt.Rr,_t,x.X$],styles:["es-info-message[_ngcontent-%COMP%]{display:flex;padding:20px 0}.config[_ngcontent-%COMP%]{width:100%;height:100%;max-width:1300px;padding-right:20px}.config[_ngcontent-%COMP%]   .config-hide[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:20px;background-color:#eee;border-radius:20px}.config[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin:10px 0}.config-size-medium[_ngcontent-%COMP%]   es-code-editor[_ngcontent-%COMP%]{min-height:200px}.size-chooser[_ngcontent-%COMP%] > mat-label[_ngcontent-%COMP%]{padding-right:20px}.config-size-large[_ngcontent-%COMP%]   es-code-editor[_ngcontent-%COMP%]{min-height:500px;height:calc(100vh - 220px)}"]})}return o})();var z=l(81955),T=l(46680),dt=l(14636),Vt=l(99260);function Xt(o,s){1&o&&(t.TgZ(0,"es-info-message",3),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.FRONTPAGE.DISABLED"),"\n"))}function $t(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"es-collection-chooser",4),t.NdJ("onCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.chooseCollection=!1)})("onChoose",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.setCollection(n))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("@fromRight",e.chooseCollection)}}function zt(o,s){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,"ADMIN.FRONTPAGE.MODE."+e))}}const G=function(){return{standalone:!0}};function te(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",29)(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-hint"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",30),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.collectionName=n)}),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,4,"ADMIN.FRONTPAGE.COLLECTION_LABEL")),t.xp6(3),t.Oqu(t.lcZ(7,6,"ADMIN.FRONTPAGE.COLLECTION_HINT")),t.xp6(2),t.Q6J("ngModel",e.collectionName)("ngModelOptions",t.DdM(8,G))}}function ee(o,s){1&o&&(t.TgZ(0,"div",31)(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-hint"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",32),t.qZA(),t.TgZ(10,"mat-checkbox",33),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&o&&(t.xp6(3),t.AsE("",t.lcZ(4,4,"ADMIN.FRONTPAGE.TIMESPAN_LABEL")," (",t.lcZ(5,6,"ADMIN.FRONTPAGE.TIMESPAN_DAYS"),")"),t.xp6(4),t.Oqu(t.lcZ(8,8,"ADMIN.FRONTPAGE.TIMESPAN_HINT")),t.xp6(4),t.hij(" ",t.lcZ(12,10,"ADMIN.FRONTPAGE.TIMESPAN.all")," "))}function ne(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",34)(2,"button",35),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.chooseCollection=!0)}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"ADMIN.FRONTPAGE.CHOOSE_COLLECTION")," "))}function oe(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FIELD_REQUIRED")))}function ie(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FIELD_VALIDATION_ERROR_INTEGER")))}function ae(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.FRONTPAGE.TOTAL_COUNT_OUT_OF_RANGE")))}function se(o,s){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,oe,3,3,"span",25),t.YNc(2,ie,3,3,"span",25),t.YNc(3,ae,3,3,"span",25),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.form.get("totalCount").errors.required),t.xp6(1),t.Q6J("ngIf",e.form.get("totalCount").errors.pattern),t.xp6(1),t.Q6J("ngIf",e.form.get("totalCount").errors.outOfRange)}}function re(o,s){1&o&&(t.TgZ(0,"es-info-message"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.FRONTPAGE.TOTAL_COUNT_LARGER_HINT")," "))}function ce(o,s){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,"ADMIN.FRONTPAGE.CONDITION_TYPE."+e))}}function le(o,s){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function _e(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-hint"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"mat-select",48),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.condition.value=n)}),t.YNc(8,le,2,2,"mat-option",21),t.qZA()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.FRONTPAGE.CUSTOM_QUERY_CONDITION_VALUE")),t.xp6(3),t.Oqu(t.lcZ(6,7,"ADMIN.FRONTPAGE.CUSTOM_QUERY_CONDITION_VALUE_HINT")),t.xp6(2),t.Q6J("ngModel",e.condition.value)("ngModelOptions",t.DdM(9,G)),t.xp6(1),t.Q6J("ngForOf",i.toolpermissions)}}function de(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-hint"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-select",42),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.condition.type=n)}),t.YNc(10,ce,3,4,"mat-option",21),t.qZA()(),t.YNc(11,_e,9,10,"mat-form-field",25),t.TgZ(12,"mat-radio-group",43),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.condition.negate=n)}),t.TgZ(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-radio-button",28),t._uU(17,"true"),t.qZA(),t.TgZ(18,"mat-radio-button",28),t._uU(19,"false"),t.qZA()(),t.TgZ(20,"button",44),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(4);return t.KtG(r.removeQueryCondition(a))}),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",45)(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"es-code-editor",46),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.query=n)}),t.qZA(),t.TgZ(28,"mat-hint")(29,"div"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.queryHelp())}),t._uU(33),t.ALo(34,"translate"),t.qZA()()()()}if(2&o){const e=s.$implicit,i=t.oxw(4);t.xp6(4),t.Oqu(t.lcZ(5,17,"ADMIN.FRONTPAGE.CUSTOM_QUERY_CONDITION_TYPE")),t.xp6(3),t.Oqu(t.lcZ(8,19,"ADMIN.FRONTPAGE.CUSTOM_QUERY_CONDITION_TYPE_HINT")),t.xp6(2),t.Q6J("ngModel",e.condition.type)("ngModelOptions",t.DdM(31,G)),t.xp6(1),t.Q6J("ngForOf",i.conditionTypes),t.xp6(1),t.Q6J("ngIf","TOOLPERMISSION"===e.condition.type),t.xp6(1),t.Q6J("ngModel",e.condition.negate)("ngModelOptions",t.DdM(32,G)),t.xp6(2),t.Oqu(t.lcZ(15,21,"ADMIN.FRONTPAGE.CUSTOM_QUERY_CONDITION_NEGATE")),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("value",!0),t.xp6(3),t.hij(" ",t.lcZ(22,23,"ADMIN.FRONTPAGE.CUSTOM_QUERY_REMOVE_CONDITION")," "),t.xp6(4),t.Oqu(t.lcZ(26,25,"ADMIN.FRONTPAGE.CUSTOM_QUERY_LABEL")),t.xp6(2),t.Q6J("options",i.codeOptions)("ngModel",e.query),t.xp6(3),t.Oqu(t.lcZ(31,27,"ADMIN.FRONTPAGE.CUSTOM_QUERY_HINT")),t.xp6(3),t.hij(" ",t.lcZ(34,29,"ADMIN.FRONTPAGE.CUSTOM_QUERY_HINT_HELP")," ")}}function pe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",19)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-hint"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",36),t.YNc(10,se,4,3,"mat-error",25),t.qZA(),t.TgZ(11,"mat-form-field")(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"mat-hint"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",37),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.config.frontpage.displayCount=n)}),t.qZA()()(),t.TgZ(19,"div",38),t.YNc(20,re,3,3,"es-info-message",25),t.qZA(),t.YNc(21,de,35,33,"div",39),t.TgZ(22,"div",19)(23,"div")(24,"button",35),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.addQueryCondition())}),t._uU(25),t.ALo(26,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,9,"ADMIN.FRONTPAGE.TOTAL_COUNT_LABEL")),t.xp6(3),t.Oqu(t.lcZ(8,11,"ADMIN.FRONTPAGE.TOTAL_COUNT_HINT")),t.xp6(3),t.Q6J("ngIf",e.form.get("totalCount").errors),t.xp6(3),t.Oqu(t.lcZ(14,13,"ADMIN.FRONTPAGE.DISPLAY_COUNT_LABEL")),t.xp6(3),t.Oqu(t.lcZ(17,15,"ADMIN.FRONTPAGE.DISPLAY_COUNT_HINT")),t.xp6(2),t.Q6J("ngModel",e.config.frontpage.displayCount),t.xp6(2),t.Q6J("ngIf",e.form.get("totalCount").value>e.form.get("displayCount").value),t.xp6(1),t.Q6J("ngForOf",e.config.frontpage.queries),t.xp6(4),t.hij(" ",t.lcZ(26,17,"ADMIN.FRONTPAGE.CUSTOM_QUERY_ADD_CONDITION")," ")}}function ge(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"form",16)(1,"h4",17),t._UZ(2,"i",18),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",19)(6,"div")(7,"mat-form-field")(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"mat-hint"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"mat-select",20),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.config.frontpage.mode=n)}),t.YNc(15,zt,3,4,"mat-option",21),t.qZA()()(),t.YNc(16,te,9,9,"div",22),t.YNc(17,ee,13,12,"div",23),t.qZA(),t.YNc(18,ne,5,3,"div",24),t.YNc(19,pe,27,19,"div",25),t.TgZ(20,"div",19)(21,"div",26)(22,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.save())}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.Q6J("formGroup",e.form),t.xp6(3),t.hij("",t.lcZ(4,13,"ADMIN.FRONTPAGE.GENERAL")," "),t.xp6(6),t.Oqu(t.lcZ(10,15,"ADMIN.FRONTPAGE.MODE_LABEL")),t.xp6(3),t.Oqu(t.lcZ(13,17,"ADMIN.FRONTPAGE.MODE_HINT")),t.xp6(2),t.Q6J("ngModel",e.config.frontpage.mode)("ngModelOptions",t.DdM(21,G)),t.xp6(1),t.Q6J("ngForOf",e.modes),t.xp6(1),t.Q6J("ngIf","collection"===e.config.frontpage.mode),t.xp6(1),t.Q6J("ngIf","collection"!==e.config.frontpage.mode),t.xp6(1),t.Q6J("ngIf","collection"===e.config.frontpage.mode),t.xp6(1),t.Q6J("ngIf","collection"!==e.config.frontpage.mode),t.xp6(3),t.Q6J("disabled",!e.form.valid),t.xp6(1),t.hij(" ",t.lcZ(24,19,"SAVE")," ")}}function ue(o,s){if(1&o&&(t.TgZ(0,"h5",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.FRONTPAGE.PREVIEW_ERROR."+e.previewError)," ")}}function me(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"es-node-entries-wrapper",50),t.NdJ("clickItem",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onOpenNode.emit(n.element))})("dblClickItem",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onOpenNode.emit(n.element))}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("columns",e.previewColumns)("dataSource",e.previewNodesDataSource)("checkbox",!1)("displayType",e.NodeEntriesDisplayType.Grid)("elementInteractionType",e.InteractionType.Emitter)("scope","dummy")}}function he(o,s){1&o&&(t._UZ(0,"h5",51),t.ALo(1,"translate")),2&o&&t.s9C("innerHTML",t.lcZ(1,1,"ADMIN.FRONTPAGE.PREVIEW_HINT"),t.oJD)}function Ce(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",5),t.YNc(1,ge,25,22,"form",6),t.TgZ(2,"h4",7),t._UZ(3,"i",8),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"div",9)(7,"button",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.updatePreviews())}),t._UZ(8,"i",11),t.qZA()()(),t.TgZ(9,"div",12),t.YNc(10,ue,3,3,"h5",13),t.YNc(11,me,1,6,"es-node-entries-wrapper",14),t.qZA(),t.YNc(12,he,2,3,"h5",15),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.config),t.xp6(3),t.hij("",t.lcZ(5,5,"ADMIN.FRONTPAGE.PREVIEW")," "),t.xp6(6),t.Q6J("ngIf",e.previewError),t.xp6(1),t.Q6J("ngIf",!e.previewError),t.xp6(1),t.Q6J("ngIf",!e.previewLoading&&!e.previewError)}}let Ae=(()=>{class o{constructor(e,i,n,a,r,c,_,u,f){this.adminService=e,this.collectionService=i,this.dialogs=n,this.formBuilder=a,this.mdsService=r,this.nodeService=c,this.toast=_,this.translate=u,this.configService=f,this.NodeEntriesDisplayType=d.P8,this.InteractionType=d.s_,this.onOpenNode=new t.vpe,this.previewLoading=!0,this.modes=["collection","rating","views","downloads"],this.conditionTypes=["TOOLPERMISSION"],this.previewNodesDataSource=new d.AL,this.previewColumns=[],this.collectionName="",this.chooseCollection=!1,this.codeOptions={minimap:{enabled:!1},language:"json"},this.form=this.formBuilder.group({totalCount:["",[g.kI.required,g.kI.min(1),g.kI.pattern("[0-9]*")]],displayCount:["",[g.kI.required,g.kI.min(1),g.kI.pattern("[0-9]*")]],timespan:["",[g.kI.required,g.kI.min(1),g.kI.pattern("[0-9]*")]],timespanAll:[]},{validator:[Me]}),this.form.valueChanges.subscribe(O=>{O.timespanAll?this.form.get("timespan").disable({emitEvent:!1}):this.form.get("timespan").enable({emitEvent:!1})}),this.mdsService.getSet().subscribe(O=>{this.previewColumns=z.h.getColumns(this.translate,O,"search")}),this.adminService.getToolpermissions().subscribe(O=>this.toolpermissions=Object.keys(O)),this.update()}ngAfterViewInit(){this.nodeEntries.initOptionsGenerator({})}save(){for(const e of Object.keys(this.form.value))this.config.frontpage[e]=this.form.value[e];this.toast.showProgressSpinner(),this.adminService.updateRepositoryConfig(this.config).subscribe(()=>{this.update(),this.toast.toast("ADMIN.FRONTPAGE.SAVED")})}update(){var e=this;return(0,h.Z)(function*(){try{e.config=yield e.adminService.getRepositoryConfig().toPromise();const i=e.form.value;for(const n of Object.keys(i))i[n]=e.config.frontpage[n];i.timespan||(i.timespan=e.form.get("timespan").value),e.form.setValue(i),e.toast.closeProgressSpinner(),e.config.frontpage.collection&&e.collectionService.getCollection(e.config.frontpage.collection).subscribe(n=>{e.collectionName=n.collection.title})}catch(i){e.toast.error(i),e.toast.closeProgressSpinner(),(yield e.dialogs.openGenericDialog({title:"ADMIN.FRONTPAGE.CONFIG_BROKEN",message:"ADMIN.FRONTPAGE.CONFIG_BROKEN_INFO",buttons:[{label:"CANCEL",config:{color:"standard"}},{label:"ADMIN.FRONTPAGE.RESET",config:{color:"danger"}}],closable:V.IA.Standard,maxWidth:500})).afterClosed().subscribe(a=>{"ADMIN.FRONTPAGE.RESET"===a?(e.toast.showProgressSpinner(),e.adminService.updateRepositoryConfig(null).subscribe(()=>{e.update()})):e.toast.closeProgressSpinner()})}e.updatePreviews()})()}updatePreviews(){this.previewLoading=!0,this.previewNodesDataSource.reset(),this.previewError=null,this.nodeService.getChildren(T.u.NODES_FRONTPAGE,[],{propertyFilter:[T.u.ALL]}).subscribe(e=>{this.previewLoading=!1,this.previewNodesDataSource.setData(e.nodes,e.pagination)},e=>{this.previewError=S.d.errorContains(e,"No Elasticsearch instance")?"ELASTICSEARCH":"UNKNOWN"})}openNode(e){this.onOpenNode.emit(e.node)}setCollection(e){this.config.frontpage.collection=e.ref.id,this.collectionName=e.title,this.chooseCollection=!1}queryHelp(){}addQueryCondition(){this.config.frontpage.queries||(this.config.frontpage.queries=[]),this.config.frontpage.queries.push({condition:{type:this.conditionTypes[0],negate:!1}})}removeQueryCondition(e){this.config.frontpage.queries.splice(this.config.frontpage.queries.indexOf(e),1)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Q.F),t.Y36(p.i6),t.Y36(w.H),t.Y36(g.QS),t.Y36(p.xW),t.Y36(p.xE),t.Y36(b.F),t.Y36(x.sK),t.Y36(dt.e))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-admin-frontpage"]],viewQuery:function(i,n){if(1&i&&t.Gf(d.cE,5),2&i){let a;t.iGM(a=t.CRH())&&(n.nodeEntries=a.first)}},outputs:{onOpenNode:"onOpenNode"},decls:5,vars:7,consts:[["class","info-disabled",4,"ngIf"],["class","dialog-right","title","WORKSPACE.SELECT_COLLECTION",3,"onCancel","onChoose",4,"ngIf"],["class","frontpage",4,"ngIf"],[1,"info-disabled"],["title","WORKSPACE.SELECT_COLLECTION",1,"dialog-right",3,"onCancel","onChoose"],[1,"frontpage"],[3,"formGroup",4,"ngIf"],[1,"mat-heading-4","mat-heading-underline","preview-heading"],["esIcon","apps"],[1,"reload"],["mat-icon-button","",3,"click"],["esIcon","refresh"],[1,"group","preview"],["class","mat-heading-5 preview-error",4,"ngIf"],[3,"columns","dataSource","checkbox","displayType","elementInteractionType","scope","clickItem","dblClickItem",4,"ngIf"],["class","mat-heading-5 preview-hint",3,"innerHTML",4,"ngIf"],[3,"formGroup"],[1,"mat-heading-4","mat-heading-underline"],["esIcon","settings"],[1,"group"],["id","mode",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","mode-collection",4,"ngIf"],["class","config-timespan",4,"ngIf"],["class","group",4,"ngIf"],[4,"ngIf"],[1,"save"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"mode-collection"],["matInput","","id","collection","type","text","readonly","true",3,"ngModel","ngModelOptions","ngModelChange"],[1,"config-timespan"],["matInput","","id","timespan","type","number","min","1","formControlName","timespan"],["formControlName","timespanAll"],[1,"select-collection"],["mat-raised-button","","color","primary",3,"click"],["matInput","","id","totalCount","formControlName","totalCount","type","number"],["matInput","","id","displayCount","type","number","formControlName","displayCount",3,"ngModel","ngModelChange"],[1,"group-info"],["class","group queries",4,"ngFor","ngForOf"],[1,"group","queries"],[1,"condition"],["id","conditionType",3,"ngModel","ngModelOptions","ngModelChange"],[1,"negate",3,"ngModel","ngModelOptions","ngModelChange"],["mat-flat-button","","color","warn",3,"click"],[1,"monaco-editor"],[3,"options","ngModel","ngModelChange"],["mat-button","",3,"click"],["id","conditionValue",3,"ngModel","ngModelOptions","ngModelChange"],[1,"mat-heading-5","preview-error"],[3,"columns","dataSource","checkbox","displayType","elementInteractionType","scope","clickItem","dblClickItem"],[1,"mat-heading-5","preview-hint",3,"innerHTML"]],template:function(i,n){1&i&&(t.YNc(0,Xt,3,3,"es-info-message",0),t.ALo(1,"async"),t.YNc(2,$t,1,1,"es-collection-chooser",1),t.YNc(3,Ce,13,7,"div",2),t.ALo(4,"async")),2&i&&(t.Q6J("ngIf",!t.lcZ(1,3,n.configService.get("frontpage.enabled",!0))),t.xp6(2),t.Q6J("ngIf",n.chooseCollection),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,5,n.configService.get("frontpage.enabled",!0))))},dependencies:[Vt.a,C.sg,C.O5,d.ar,d.cE,g._Y,g.Fj,g.wV,g.JJ,g.JL,g.qQ,g.On,R.u,q.ey,I.lW,I.RK,X.oG,A.KE,A.hX,A.bx,A.TO,y.Nt,Z.VQ,Z.U0,H.gD,g.sg,g.u,_t,C.Ov,x.X$],styles:[".info-disabled[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20%}.frontpage[_ngcontent-%COMP%]{width:100%;max-width:1300px}.frontpage[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{justify-content:flex-end}.frontpage[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin:0 10%}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;margin:50px 10%}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .select-collection[_ngcontent-%COMP%]{justify-content:flex-end}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .config-timespan[_ngcontent-%COMP%]{display:flex;flex-direction:column}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .config-timespan[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{padding-bottom:15px}.frontpage[_ngcontent-%COMP%]   .group.queries[_ngcontent-%COMP%]{margin:30px 12%}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .monaco-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:0 10px}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{display:inline;width:100%}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .mode-collection[_ngcontent-%COMP%]{flex-direction:column}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .mode-collection[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:20px}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .condition[_ngcontent-%COMP%]{flex-direction:column}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .condition[_ngcontent-%COMP%]   .negate[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:wrap}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .condition[_ngcontent-%COMP%]   .negate[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{width:100%}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .condition[_ngcontent-%COMP%]   .negate[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{padding:5px 10px}.frontpage[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > .condition[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px}.frontpage[_ngcontent-%COMP%]   .group.preview[_ngcontent-%COMP%]{margin:20px 20px 10px}.frontpage[_ngcontent-%COMP%]   .group.preview[_ngcontent-%COMP%]   es-node-entries-wrapper[_ngcontent-%COMP%]{display:inline}.frontpage[_ngcontent-%COMP%]   .preview-heading[_ngcontent-%COMP%]   .reload[_ngcontent-%COMP%]{text-align:right;flex-grow:1}[_nghost-%COMP%]     .group .mat-form-field-wrapper{width:100%}[_nghost-%COMP%]     h5.preview-error{display:flex;justify-content:center}[_nghost-%COMP%]     h5.preview-hint{padding:10px 10%;display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     h5.preview-hint li{list-style:square}"]})}return o})();const Me=o=>{const s=o.get("displayCount"),e=o.get("totalCount");return parseInt(s.value,10)>parseInt(e.value,10)&&e.setErrors({outOfRange:!0}),null};var pt=l(27661),fe=l(61396),L=l(74104),Oe=l(87548),F=l(99994),E=l(8077),Te=l(99992),xe=l(80723),Ie=l(26083),gt=l(61871),Pe=l(76754),Ne=l(38034);const Ee=["groupedChart"];function ve(o,s){1&o&&t._UZ(0,"es-spinner")}function be(o,s){1&o&&(t.TgZ(0,"h5",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.STATISTICS.NO_DATA")," "))}function Ze(o,s){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.STATISTICS.GROUP_TEMPLATE."+e.name)," ")}}function Le(o,s){if(1&o&&(t.TgZ(0,"mat-radio-button",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,"ADMIN.STATISTICS.HEADERS."+e))}}function De(o,s){if(1&o&&(t.TgZ(0,"mat-radio-button",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=s.$implicit,i=t.oxw();t.s9C("value",e),t.Q6J("disabled",e==i.customGroup),t.xp6(1),t.Oqu(t.lcZ(2,3,"ADMIN.STATISTICS.HEADERS."+e))}}function Se(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-radio-group",5),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.customGroupMode=n)}),t.TgZ(5,"mat-radio-button",36),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-radio-button",37),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"ADMIN.STATISTICS.SINGLE_MODE")),t.xp6(2),t.Q6J("ngModel",e.customGroupMode),t.xp6(2),t.Oqu(t.lcZ(7,6,"ADMIN.STATISTICS.MODE_NODES")),t.xp6(3),t.Oqu(t.lcZ(10,8,"ADMIN.STATISTICS.MODE_USERS"))}}function Re(o,s){1&o&&t._UZ(0,"es-spinner")}function ye(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.STATISTICS.HEADERS."+e))}}function we(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.Oqu(i.customGroupLabels[e]||e)}}function qe(o,s){if(1&o&&(t.TgZ(0,"mat-header-cell"),t.YNc(1,ye,3,3,"span",12),t.YNc(2,we,2,1,"span",12),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf","action"===e||"count"===e||e==i.customGroup),t.xp6(1),t.Q6J("ngIf",!("action"===e||"count"===e||e==i.customGroup))}}function Ue(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.STATISTICS.ACTIONS."+e[i]))}}function Ge(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(e[i])}}function Fe(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.displayValue)}}function Je(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(e.entry.groups[e.action]?e.entry.groups[e.action][n.customUnfold][i]:0)}}function ke(o,s){if(1&o&&(t.TgZ(0,"mat-cell"),t.YNc(1,Ue,3,3,"span",12),t.YNc(2,Ge,2,1,"span",12),t.YNc(3,Fe,2,1,"span",12),t.YNc(4,Je,2,1,"span",12),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf","action"===e),t.xp6(1),t.Q6J("ngIf","count"===e),t.xp6(1),t.Q6J("ngIf",e==i.customGroup),t.xp6(1),t.Q6J("ngIf",!("action"===e||"count"===e||e==i.customGroup))}}function je(o,s){1&o&&(t.ynx(0,42),t.YNc(1,qe,3,2,"mat-header-cell",43),t.YNc(2,ke,5,4,"mat-cell",44),t.BQk()),2&o&&t.Q6J("matColumnDef",s.$implicit)}function He(o,s){1&o&&t._UZ(0,"mat-header-row")}function Qe(o,s){1&o&&t._UZ(0,"mat-row",45)}function Ye(o,s){if(1&o&&(t.TgZ(0,"mat-table",38),t.YNc(1,je,3,1,"ng-container",39),t.YNc(2,He,1,0,"mat-header-row",40),t.YNc(3,Qe,1,0,"mat-row",41),t.qZA()),2&o){const e=t.oxw();t.ekj("mat-table-clickable","NODES"===e.singleMode),t.Q6J("dataSource",e.customGroupData),t.xp6(1),t.Q6J("ngForOf",e.customGroupRows),t.xp6(1),t.Q6J("matHeaderRowDef",e.customGroupRows)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.customGroupRows)}}function Ke(o,s){1&o&&(t.TgZ(0,"es-info-message"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.STATISTICS.NODES_MEDIACENTER_INFO")," "))}function Be(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"textarea",53),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(4);return t.KtG(a.exportProperties=n)}),t.qZA(),t.TgZ(6,"mat-hint"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div")(10,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.export())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(4);t.Q6J("@overlay",e.showExport),t.xp6(3),t.Oqu(t.lcZ(4,5,"ADMIN.STATISTICS.EXPORT_PROPERTIES")),t.xp6(2),t.Q6J("ngModel",e.exportProperties),t.xp6(2),t.Oqu(t.lcZ(8,7,"ADMIN.STATISTICS.EXPORT_PROPERTIES_HINT")),t.xp6(4),t.hij(" ",t.lcZ(12,9,"ADMIN.STATISTICS.EXPORT")," ")}}function We(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",50)(1,"h4",51),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.showExport=!n.showExport)}),t._UZ(2,"i",52),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"i",22),t.qZA(),t.YNc(7,Be,13,11,"div",12),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,3,"ADMIN.STATISTICS.EXPORT_LABEL")),t.xp6(2),t.Q6J("esIcon","keyboard_arrow_"+(e.showExport?"up":"down")),t.xp6(1),t.Q6J("ngIf",e.showExport)}}function Ve(o,s){1&o&&(t.TgZ(0,"h5",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.STATISTICS.NO_DATA")," "))}function Xe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"es-node-entries-wrapper",55),t.NdJ("clickItem",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onOpenNode.emit(n.element))}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("scope",e.Scope.Admin)("dataSource",e.nodesDataSource)("elementInteractionType",e.InteractionType.Emitter)("checkbox",!1)("displayType",e.NodeEntriesDisplayType.Table)("columns",e.columns)}}function $e(o,s){1&o&&(t.TgZ(0,"es-info-message"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.STATISTICS.SLICE_INFO_DOWNLOAD")," "))}function ze(o,s){if(1&o&&(t.ynx(0),t.YNc(1,We,8,5,"div",32),t.YNc(2,Ve,3,3,"h5",13),t.YNc(3,Xe,1,6,"es-node-entries-wrapper",49),t.YNc(4,$e,3,3,"es-info-message",12),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(e.nodesNoData||null!=e.nodesDataSource&&e.nodesDataSource.isLoading)),t.xp6(1),t.Q6J("ngIf",e.nodesNoData&&!e.nodesDataSource.isLoading),t.xp6(1),t.Q6J("ngIf",!(e.nodesNoData&&!e.nodesDataSource.isLoading)),t.xp6(1),t.Q6J("ngIf",!e.nodesNoData)}}function tn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",46),t.ALo(1,"translate"),t.TgZ(2,"h4",2),t._UZ(3,"i",47),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Ke,3,3,"es-info-message",12),t.TgZ(7,"div",4)(8,"div",9)(9,"div")(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"mat-calendar",10),t.NdJ("selectedChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.nodesStart=n)}),t.qZA()(),t.TgZ(14,"div")(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-calendar",11),t.NdJ("selectedChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.nodesEnd=n)}),t.qZA()()(),t.TgZ(19,"button",48),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshNodes())}),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.YNc(22,ze,5,4,"ng-container",12),t.qZA()}if(2&o){const e=t.oxw();t.s9C("label",t.lcZ(1,14,"ADMIN.STATISTICS.NODES")),t.xp6(4),t.hij(" ",t.lcZ(5,16,"ADMIN.STATISTICS.NODES")," "),t.xp6(2),t.Q6J("ngIf",e._mediacenter),t.xp6(1),t.Q6J("@overlay",!(null!=e.nodesDataSource&&e.nodesDataSource.isLoading)),t.xp6(4),t.Oqu(t.lcZ(12,18,"ADMIN.STATISTICS.FROM")),t.xp6(2),t.Q6J("selected",e.nodesStart)("maxDate",e.nodesEnd),t.xp6(3),t.Oqu(t.lcZ(17,20,"ADMIN.STATISTICS.TO")),t.xp6(2),t.Q6J("selected",e.nodesEnd)("minDate",e.nodesStart)("maxDate",e.today),t.xp6(1),t.Q6J("disabled",null==e.nodesDataSource?null:e.nodesDataSource.isLoading),t.xp6(1),t.hij(" ",t.lcZ(21,22,"ADMIN.STATISTICS.NODES_APPLY")," "),t.xp6(2),t.Q6J("ngIf",null!==e.nodesDataSource)}}function en(o,s){1&o&&(t.TgZ(0,"div",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.STATISTICS.ARCHIVED_EMPTY")," "))}function nn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",56),t.ALo(1,"translate"),t.TgZ(2,"h4",2),t._UZ(3,"i",57),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",58)(7,"es-info-message",59),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"es-node-entries-wrapper",60),t.NdJ("clickItem",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.downloadArchivedNode(n.element))}),t.YNc(11,en,3,3,"ng-template",null,61,t.W1O),t.qZA()()()}if(2&o){const e=t.oxw();t.s9C("label",t.lcZ(1,8,"ADMIN.STATISTICS.ARCHIVED")),t.xp6(4),t.hij(" ",t.lcZ(5,10,"ADMIN.STATISTICS.ARCHIVED")," "),t.xp6(4),t.hij(" ",t.lcZ(9,12,"ADMIN.STATISTICS.ARCHIVED_INFO")," "),t.xp6(2),t.Q6J("elementInteractionType",e.InteractionType.Emitter)("displayType",e.NodeEntriesDisplayType.Table)("dataSource",e.archivedNodesDataSource)("checkbox",!1)("columns",e.archivedNodesColumns)}}function on(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",50)(1,"h4",2),t._UZ(2,"i",52),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div")(6,"div")(7,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.export())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()()()}2&o&&(t.xp6(3),t.hij("",t.lcZ(4,2,"ADMIN.STATISTICS.EXPORT_LABEL")," "),t.xp6(5),t.hij(" ",t.lcZ(9,4,"ADMIN.STATISTICS.EXPORT")," "))}E.kL.register(E.vn,E.ZL,E.uw,E.od,E.u,E.De,E.f$,E.Dx);class M{set mediacenter(s){this._mediacenter=s,this.refresh()}static#t=this.DAY_OFFSET=864e5;static#e=this.DEFAULT_OFFSET=7*M.DAY_OFFSET;static#n=this.DEFAULT_OFFSET_SINGLE=3*M.DAY_OFFSET;set groupedStart(s){this._groupedStart=s,this._groupedStart.setHours(0,0,0),this.refreshGroups()}get groupedStart(){return this._groupedStart}set groupedEnd(s){this._groupedEnd=s,this._groupedEnd.setHours(23,59,59),this.refreshGroups()}get groupedEnd(){return this._groupedEnd}set groupedMode(s){this._groupedMode=s,this.refreshGroups()}get groupedMode(){return this._groupedMode}set customGroupStart(s){this._customGroupStart=s,this._customGroupStart.setHours(0,0,0),this.refreshCustomGroups()}get customGroupStart(){return this._customGroupStart}set customGroupEnd(s){this._customGroupEnd=s,this._customGroupEnd.setHours(23,59,59),this.refreshCustomGroups()}get customGroupEnd(){return this._customGroupEnd}set customGroup(s){this._customGroup=s,this.customGroup==this.customUnfold&&(this.customUnfold=null),this.refreshCustomGroups()}get customGroup(){return this._customGroup}set customGroupMode(s){this._customGroupMode=s,this.refreshCustomGroups()}get customGroupMode(){return this._customGroupMode}set customUnfold(s){this._customUnfold=s,this.refreshCustomGroups()}get customUnfold(){return this._customUnfold}set singleStart(s){this._singleStart=s,this._singleStart.setHours(0,0,0),this.refreshSingle()}get singleStart(){return this._singleStart}set singleEnd(s){this._singleEnd=s,this._singleEnd.setHours(23,59,59),this.refreshSingle()}get singleEnd(){return this._singleEnd}set singleMode(s){this._singleMode=s,this.refreshSingle()}get singleMode(){return this._singleMode}set nodesStart(s){this._nodesStart=s,this._nodesStart.setHours(0,0,0),this.nodesDataSource=null}get nodesStart(){return this._nodesStart}set nodesEnd(s){this._nodesEnd=s,this._nodesEnd.setHours(23,59,59),this.nodesDataSource=null}get nodesEnd(){return this._nodesEnd}constructor(s,e,i,n,a,r,c,_,u,f,O,et){this.admin=s,this.statistics=e,this.uiService=i,this.toast=n,this.storage=a,this.changeDetectorRef=r,this.applicationRef=c,this.connector=_,this.translate=u,this.searchService=f,this.config=O,this.nodeHelperService=et,this.Scope=d.sX,this.NodeEntriesDisplayType=d.P8,this.InteractionType=d.s_,this.finishedPreload=!1,this.onOpenNode=new t.vpe,this.today=new Date,this._groupedStart=new Date,this._groupedEnd=new Date,this._singleStart=new Date,this._singleEnd=new Date,this._customGroupStart=new Date,this._customGroupEnd=new Date,this._customUnfold="",this._nodesStart=new Date,this._nodesEnd=new Date,this._groupedMode="Daily",this._singleMode="NODES",this._customGroupMode="NODES",this.nodesDataSource=null,this.currentTab=0,this.showModes=!1,this.archivedNodesDataSource=new d.AL,this.archivedNodesColumns=[new d.HC("NODE",T.u.LOM_PROP_TITLE)],this.initColumns(),this.groupedStart=new Date((new Date).getTime()-M.DEFAULT_OFFSET),this.groupedEnd=new Date,this.singleStart=new Date((new Date).getTime()-M.DEFAULT_OFFSET_SINGLE),this.singleEnd=new Date,this.customGroupStart=new Date((new Date).getTime()-M.DEFAULT_OFFSET),this.customGroupEnd=new Date,this.nodesStart=new Date((new Date).getTime()-M.DEFAULT_OFFSET),this.nodesEnd=new Date}ngOnInit(){var s=this;return(0,h.Z)(function*(){s.groupModeTemplates=yield s.config.get("admin.statistics.templates",[{name:"group_organization",group:"authority_organization"},{name:"group_mediacenter",group:"authority_mediacenter"},{name:"group_organization_unfold_mediacenter",group:"authority_organization",unfold:"authority_mediacenter"}]).toPromise(),s.currentTemplate=s.groupModeTemplates[0],s.applyTemplate(s.currentTemplate,!1),s.additionalGroups=yield s.config.get("admin.statistics.groups",[]).toPromise(),s.customGroups=["authority_organization","authority_mediacenter","license"].concat(s.additionalGroups),s.customGroups.length&&(s.customGroup=s.customGroups[0]),s.nodesPermission=s.connector.hasToolPermissionInstant(T.u.TOOLPERMISSION_GLOBAL_STATISTICS_NODES),s.userPermission=s.connector.hasToolPermissionInstant(T.u.TOOLPERMISSION_GLOBAL_STATISTICS_USER),s.finishedPreload=!0,s.refresh()})()}refresh(){this.refreshArchived(),this.refreshGroups(),this.refreshSingle(),this.refreshCustomGroups()}refreshGroups(){this.finishedPreload&&(this.groupedLoading=!0,this.statistics.getStatisticsNode(this._groupedStart,new Date(this._groupedEnd.getTime()+M.DAY_OFFSET),this._groupedMode,this.getMediacenter()).subscribe(s=>{"None"!==this._groupedMode?this.statistics.getStatisticsUser(this._groupedStart,new Date(this._groupedEnd.getTime()+M.DAY_OFFSET),this._groupedMode,this.getMediacenter()).subscribe(e=>{this.processGroupData(s,e)},e=>{this.processGroupData(s,null)}):this.processGroupData(s,null)},s=>{this.statistics.getStatisticsUser(this._groupedStart,new Date(this._groupedEnd.getTime()+M.DAY_OFFSET),this._groupedMode,this.getMediacenter()).subscribe(e=>{this.processGroupData(null,e)})}))}getMediacenter(){return this._mediacenter?this._mediacenter.authorityName:""}processGroupData(s,e){this.groupedLoading=!1,s&&s.length?(this.groupedNoData=!1,this.uiService.waitForComponent(this,"groupedChartRef").subscribe(()=>{const n=this.groupedChartRef.nativeElement.getContext("2d");this.groupedChart&&this.groupedChart.destroy(),this.groupedChart=this.initGroupedChart(s,e,n),this.groupedChartData={node:s,user:e}})):this.groupedNoData=!0}initGroupedChart(s,e,i){let a,n=s?s.map(r=>Math.max(r.counts.VIEW_MATERIAL||0,r.counts.VIEW_MATERIAL_EMBEDDED||0,r.counts.DOWNLOAD_MATERIAL||0,r.counts.VIEW_COLLECTION||0,r.counts.VIEW_MATERIAL_PLAY_MEDIA||0)).reduce((r,c)=>Math.max(r,c)):0;return e&&(n=Math.max(n,e.map(r=>r.counts.LOGIN_USER_SESSION||0).reduce((r,c)=>Math.max(r,c)))),a=s?{labels:s.map(r=>r.date),datasets:[{label:this.translate.instant("ADMIN.STATISTICS.VIEWS"),backgroundColor:"rgb(30,52,192)",data:s.map(r=>r.counts.VIEW_MATERIAL?r.counts.VIEW_MATERIAL:0)},{label:this.translate.instant("ADMIN.STATISTICS.VIEWS_EMBEDDED"),backgroundColor:"rgb(117,48,192)",data:s.map(r=>r.counts.VIEW_MATERIAL_EMBEDDED?r.counts.VIEW_MATERIAL_EMBEDDED:0)},{label:this.translate.instant("ADMIN.STATISTICS.VIEWS_COLLECTION"),backgroundColor:"rgb(55,166,154)",data:s.map(r=>r.counts.VIEW_COLLECTION?r.counts.VIEW_COLLECTION:0)},{label:this.translate.instant("ADMIN.STATISTICS.OPEN_EXTERNAL_LINK"),backgroundColor:"rgb(197,96,73)",data:s.map(r=>r.counts.OPEN_EXTERNAL_LINK?r.counts.OPEN_EXTERNAL_LINK:0)},{label:this.translate.instant("ADMIN.STATISTICS.DOWNLOADS"),backgroundColor:"rgb(40,146,192)",data:s.map(r=>r.counts.DOWNLOAD_MATERIAL?r.counts.DOWNLOAD_MATERIAL:0)},{label:this.translate.instant("ADMIN.STATISTICS.VIEWS_PLAY_MEDIA"),backgroundColor:"rgb(192,173,40)",data:s.map(r=>r.counts.VIEW_MATERIAL_PLAY_MEDIA?r.counts.VIEW_MATERIAL_PLAY_MEDIA:0)}]}:{labels:[],datasets:[]},e&&a.datasets.push({label:this.translate.instant("ADMIN.STATISTICS.USER_LOGINS"),backgroundColor:"rgb(22,192,73)",data:e.map(r=>r.counts.LOGIN_USER_SESSION?r.counts.LOGIN_USER_SESSION:0)}),new E.kL(i,{type:"bar",data:a,options:{responsive:!0,aspectRatio:3,plugins:{legend:{display:!0},tooltip:{}},scales:{y:{type:"linear",max:n}}}})}refreshNodes(){if(!this.finishedPreload)return;this.nodesDataSource=new d.AL,this.nodesDataSource.isLoading=!0,this.nodesNoData=!0;const s=this.config.instant("admin.statistics.nodeGroup");this.statistics.getStatisticsNode(this._nodesStart,new Date(this._nodesEnd.getTime()),"Node",this.getMediacenter(),s?[s]:null).subscribe(e=>{this.nodesDataSource.isLoading=!1,this.nodesNoData=0===e.length,this.nodesDataSource.setData(e.map(i=>(i.node.counts=i,i.node)))},e=>{this.toast.error(e),this.nodesDataSource.isLoading=!1,this.nodesNoData=!0})}getValidMode(s){return this._mediacenter||(this.nodesPermission?this.userPermission||(s="NODES"):s="USERS"),s}refreshSingle(){if(!this.finishedPreload)return;this.singleDataRows=null,this.singleLoading=!0;const s=this.getValidMode(this._singleMode);"NODES"===s&&(this.singleDataRows=["date","action","node","authority","authority_organization","authority_mediacenter"].concat(this.additionalGroups||[]),this.statistics.getStatisticsNode(this._singleStart,new Date(this._singleEnd.getTime()+M.DAY_OFFSET),"None",this.getMediacenter(),this.additionalGroups).subscribe(e=>{this.singleData=e.map(i=>({action:Object.keys(i.counts)[0],date:i.date,node:pt.b.getName(i.node),authority:i.authority,entry:i})),this.singleLoading=!1})),"USERS"===s&&(this.singleDataRows=["date","action","authority","authority_organization","authority_mediacenter"].concat(this.additionalGroups||[]),this.statistics.getStatisticsUser(this._singleStart,new Date(this._singleEnd.getTime()+M.DAY_OFFSET),"None",this.getMediacenter(),this.additionalGroups).subscribe(e=>{this.singleData=e.map(i=>({action:Object.keys(i.counts)[0],date:i.date,authority:i.authority,entry:i})),this.singleLoading=!1}))}refreshCustomGroups(){if(!this.finishedPreload||!this.customGroups)return;this.customGroupData=null,this.customGroupLoading=!0,this.customGroupRows=[];const s=i=>{if(this.customGroupRows=["action"].concat(this.customGroup).concat("count"),this.customUnfold){let n=Array.from(new Set(i.map(a=>Object.keys(a.groups).map(r=>Object.keys(a.groups[r][this.customUnfold])).reduce((r,c)=>r.concat(c)).filter(r=>""!=r))));n=[].concat(...n),this.customGroupLabels=[],("authority_organization"==this.customUnfold||"authority_mediacenter"==this.customUnfold)&&(n=n.map(a=>{const r=i.map(c=>"authority_organization"==this.customUnfold?c.authority.organization:c.authority.mediacenter).reduce((c,_)=>c.concat(_)).filter(c=>c.authorityName==a);return r.length&&(this.customGroupLabels[a]=new F.F(this.translate).transform(r[0],null)),a})),this.customGroupRows=Array.from(new Set(this.customGroupRows.concat(n)))}i.length&&(this.customGroupData=i.map(n=>{const a=[];for(const r in n.counts){let c=n.fields[this.customGroup];if("authority_organization"==this.customGroup||"authority_mediacenter"==this.customGroup){const _="authority_organization"==this.customGroup?n.authority.organization:n.authority.mediacenter;c=_?_.map(u=>new F.F(this.translate).transform(u,null)).join(", "):""}a.push({entry:n,displayValue:c,count:n.counts[r],action:r})}return a}).reduce((n,a)=>n.concat(a))),this.customGroupLoading=!1},e=this.getValidMode(this._customGroupMode);"NODES"===e&&this.statistics.getStatisticsNode(this._customGroupStart,new Date(this._customGroupEnd.getTime()+M.DAY_OFFSET),"None",this.getMediacenter(),this.customUnfold?[this.customUnfold]:null,[this.customGroup]).subscribe(i=>{s(i)}),"USERS"===e&&this.statistics.getStatisticsUser(this._customGroupStart,new Date(this._customGroupEnd.getTime()+M.DAY_OFFSET),"None",this.getMediacenter(),this.customUnfold?[this.customUnfold]:null,[this.customGroup]).subscribe(i=>{s(i)})}getGroupKey(s,e){const i=s.entry?.groups?.[s.action]?.[e];return i?Object.keys(i)[0]:null}export(){let s,e,i,n,a;switch(this.currentTab){case 0:if(n=this.groupedStart,a=this.groupedEnd,this.groupedChartData.node){const r=this.groupedChartData.node.concat(this.groupedChartData.user);e=N.W.uniqueArray(r.map(_=>Object.keys(_.counts)).reduce((_,u)=>_.concat(u))),s=e.map(_=>this.translate.instant("ADMIN.STATISTICS.ACTIONS."+_)),e.splice(0,0,"Date"),s.splice(0,0,this.translate.instant("ADMIN.STATISTICS.HEADERS.date"));const c={};r.forEach(_=>{c[_.date]||(c[_.date]={Date:_.date}),Object.keys(_.counts).forEach(u=>{c[_.date][u]=_.counts[u]})}),i=N.W.objectToArray(c)}else this.toast.error("ADMIN.STATISTICS.EXPORT_NO_DATA");break;case 1:{n=this.customGroupStart,a=this.customGroupEnd,e=this.customGroupRows.map(c=>this.customGroupLabels?.[c]||c),s=e.map(c=>this.translate.instant("ADMIN.STATISTICS.HEADERS."+c)),i=N.W.deepCopy(this.customGroupData).map(c=>{c[this.customGroup]=c.displayValue,console.log(c);for(const _ of this.customGroupRows)"action"===_||"count"===_||_===this.customGroup||(c[this.customGroupLabels?.[_]||_]=c.entry.groups[c.action]?.[this.customUnfold]?.[_]);return c});const r=["VIEW_MATERIAL","VIEW_COLLECTION","OPEN_EXTERNAL_LINK","VIEW_MATERIAL_EMBEDDED","VIEW_MATERIAL_PLAY_MEDIA","DOWNLOAD_MATERIAL"];[...new Set(i.map(c=>c.entry.fields[this.customGroup]))].forEach(c=>{const _=i.filter(u=>u.entry.fields[this.customGroup]===c);r.filter(u=>!_.some(f=>f.action===u)).forEach(u=>{i.push({..._[0],action:u,count:0,entry:{..._[0].entry,counts:null}})})}),i.sort((c,_)=>{const u=c.entry.fields[this.customGroup],f=_.entry.fields[this.customGroup];return u!==f?u>f?-1:1:r.indexOf(c.action)>r.indexOf(_.action)?1:-1}),i=i.map(c=>(c.action=this.translate.instant("ADMIN.STATISTICS.ACTIONS."+c.action),c)),console.info(s,e,i);break}case 2:{n=this.nodesStart,a=this.nodesEnd;const r=this.exportProperties.split("\n").map(_=>_.trim());this.storage.set("admin_statistics_properties",this.exportProperties);const c=["VIEW_MATERIAL","VIEW_COLLECTION","OPEN_EXTERNAL_LINK","VIEW_MATERIAL_EMBEDDED","DOWNLOAD_MATERIAL"];e=r.concat(c),s=r.map(_=>this.translate.instant("NODE."+_)).concat(c.map(_=>this.translate.instant("NODE.counts."+_))),i=this.nodesDataSource.getData().map(_=>{const u={};console.log(Object.keys(_.counts));for(const f of r){u[f]=_.properties?_.properties[f]:_.ref.id;for(const O of c)u[O]=d.OX.getCount(_,O)}return u});break}case void 0:n=this.singleStart,a=this.singleEnd,e=this.singleDataRows,s=this.singleDataRows.map(r=>this.translate.instant("ADMIN.STATISTICS.HEADERS."+r)),console.log(this.singleData),i=this.singleData.map(r=>{const c=N.W.deepCopy(r);c.authority=r.authority.hash.substring(0,8),c.authority_organization=r.authority.organization.map(u=>new F.F(this.translate).transform(u)),c.authority_mediacenter=r.authority.mediacenter.map(u=>new F.F(this.translate).transform(u));const _=r.entry.groups[Object.keys(r.entry.groups)[0]];if(_)for(const u of Object.keys(_))c[u]=Object.keys(_[u])[0];return c})}W.I.download(this.translate.instant("ADMIN.STATISTICS.CSV_FILENAME"+(this.getMediacenter()?"_MZ":""),{mz:this._mediacenter?.profile?.displayName,from:new d.ik(this.translate).transform(n,{relative:!1,time:!1}),to:new d.ik(this.translate).transform(a,{relative:!1,time:!1})}),s,i,e)}initColumns(){const s=this.config.instant("admin.statistics.nodeColumns");this.columns=s?s.map(e=>new d.HC("NODE",e)):[new d.HC("NODE",T.u.CM_NAME)],this.storage.get("admin_statistics_properties",this.columns.map(e=>e.name).join("\n")).subscribe(e=>this.exportProperties=e),this.columns=this.columns.concat([new d.HC("NODE","counts.VIEW_MATERIAL"),new d.HC("NODE","counts.VIEW_MATERIAL_EMBEDDED"),new d.HC("NODE","counts.VIEW_COLLECTION"),new d.HC("NODE","counts.DOWNLOAD_MATERIAL"),new d.HC("NODE","counts.OPEN_EXTERNAL_LINK"),new d.HC("NODE","counts.VIEW_MATERIAL_PLAY_MEDIA")])}applyTemplate(s,e=!0){this._customGroup=s.group,this._customUnfold=s.unfold??"",this._customGroupMode=s.type??"NODES",e&&this.refreshCustomGroups()}refreshArchived(){var s=this;return(0,h.Z)(function*(){if(!s._mediacenter)return;s.archivedNodesDataSource.reset(),s.archivedNodesDataSource.isLoading=!0;const e=yield s.searchService.search({sortProperties:[T.u.CM_PROP_C_CREATED],sortAscending:[!0],repository:P.Qs,contentType:"FILES",maxItems:100,metadataset:P.TP,query:"mediacenter_statistics",body:{criteria:[{property:"mediacenter",values:[s.getMediacenter()]}]}}).toPromise();s.archivedNodesDataSource.setData(e.nodes,e.pagination),s.archivedNodesDataSource.isLoading=!1})()}downloadArchivedNode(s){this.nodeHelperService.downloadNodes([s])}toggleModes(){this.showModes=!this.showModes}static#o=this.\u0275fac=function(e){return new(e||M)(t.Y36(Q.F),t.Y36(Te.p),t.Y36(xe.V),t.Y36(b.F),t.Y36(Ie.u),t.Y36(t.sBO),t.Y36(t.z2F),t.Y36(gt.x),t.Y36(x.sK),t.Y36(P.oD),t.Y36(dt.e),t.Y36(Pe.G))};static#i=this.\u0275cmp=t.Xpm({type:M,selectors:[["es-admin-statistics"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ee,5),2&e){let n;t.iGM(n=t.CRH())&&(i.groupedChartRef=n.first)}},inputs:{mediacenter:"mediacenter"},outputs:{onOpenNode:"onOpenNode"},decls:89,vars:84,consts:[["mat-stretch-tabs","",3,"selectedIndex","selectedIndexChange"],[1,"stats-grouped",3,"label"],[1,"mat-heading-4","mat-heading-underline"],["esIcon","history"],[1,"modes"],[3,"ngModel","ngModelChange"],["value","Daily"],["value","Monthly"],["value","Yearly"],[1,"calendars"],[3,"selected","maxDate","selectedChange"],[3,"selected","minDate","maxDate","selectedChange"],[4,"ngIf"],["class","mat-heading-5",4,"ngIf"],["groupedChart",""],[1,"stats-custom-groups",3,"label"],["esIcon","view_list"],[1,"groups-template-select"],[3,"ngModel","name","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"groups-button"],["mat-button","","color","primary",3,"click"],[3,"esIcon"],[1,"group-multi"],[1,"group"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],["class","group",4,"ngIf"],[1,"custom-group-data-table"],[3,"dataSource","mat-table-clickable",4,"ngIf"],["class","stats-nodes",3,"label",4,"ngIf"],[3,"label",4,"ngIf"],["class","export",4,"ngIf"],[1,"mat-heading-5"],[3,"value"],[3,"value","disabled"],["value","NODES"],["value","USERS"],[3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["matRipple","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matRipple",""],[1,"stats-nodes",3,"label"],["esIcon","assessment"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"scope","dataSource","elementInteractionType","checkbox","displayType","columns","clickItem",4,"ngIf"],[1,"export"],[1,"mat-heading-4","mat-heading-underline","clickable",3,"click"],["esIcon","cloud_download"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","4","cdkAutosizeMaxRows","6",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[3,"scope","dataSource","elementInteractionType","checkbox","displayType","columns","clickItem"],[3,"label"],["esIcon","archive"],[1,"stats-archived-table"],["mode","info"],[3,"elementInteractionType","displayType","dataSource","checkbox","columns","clickItem"],["empty",""],[1,"empty"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedIndexChange",function(a){return i.currentTab=a}),t.TgZ(1,"mat-tab",1),t.ALo(2,"translate"),t.TgZ(3,"h4",2),t._UZ(4,"i",3),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4)(8,"mat-form-field")(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"mat-select",5),t.NdJ("ngModelChange",function(a){return i.groupedMode=a}),t.TgZ(13,"mat-option",6),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-option",7),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"mat-option",8),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"div",9)(23,"div")(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"mat-calendar",10),t.NdJ("selectedChange",function(a){return i.groupedStart=a}),t.qZA()(),t.TgZ(28,"div")(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"mat-calendar",11),t.NdJ("selectedChange",function(a){return i.groupedEnd=a}),t.qZA()()()(),t.YNc(33,ve,1,0,"es-spinner",12),t.YNc(34,be,3,3,"h5",13),t._UZ(35,"canvas",null,14),t.qZA(),t.TgZ(37,"mat-tab",15),t.ALo(38,"translate"),t.TgZ(39,"h4",2),t._UZ(40,"i",16),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"mat-form-field",17)(44,"mat-label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"mat-select",18),t.NdJ("ngModelChange",function(a){return i.currentTemplate=a})("ngModelChange",function(a){return i.applyTemplate(a)}),t.YNc(48,Ze,3,4,"mat-option",19),t.qZA()(),t.TgZ(49,"div",20)(50,"button",21),t.NdJ("click",function(){return i.toggleModes()}),t._uU(51),t.ALo(52,"translate"),t._UZ(53,"i",22),t.qZA()(),t.TgZ(54,"div",4)(55,"div",23)(56,"div",24)(57,"mat-label"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"mat-radio-group",5),t.NdJ("ngModelChange",function(a){return i.customGroup=a}),t.YNc(61,Le,3,4,"mat-radio-button",19),t.qZA()(),t.TgZ(62,"div",24)(63,"mat-label"),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"mat-radio-group",5),t.NdJ("ngModelChange",function(a){return i.customUnfold=a}),t.TgZ(67,"mat-radio-button",25),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.YNc(70,De,3,5,"mat-radio-button",26),t.qZA()()(),t.YNc(71,Se,11,10,"div",27),t.qZA(),t.TgZ(72,"div",9)(73,"div")(74,"mat-label"),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"mat-calendar",10),t.NdJ("selectedChange",function(a){return i.customGroupStart=a}),t.qZA()(),t.TgZ(78,"div")(79,"mat-label"),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"mat-calendar",11),t.NdJ("selectedChange",function(a){return i.customGroupEnd=a}),t.qZA()()(),t.YNc(83,Re,1,0,"es-spinner",12),t.TgZ(84,"div",28),t.YNc(85,Ye,4,7,"mat-table",29),t.qZA()(),t.YNc(86,tn,23,24,"mat-tab",30),t.YNc(87,nn,13,14,"mat-tab",31),t.qZA(),t.YNc(88,on,10,6,"div",32)),2&e&&(t.Q6J("selectedIndex",i.currentTab),t.xp6(1),t.s9C("label",t.lcZ(2,50,"ADMIN.STATISTICS.GROUPED")),t.xp6(4),t.hij(" ",t.lcZ(6,52,"ADMIN.STATISTICS.GROUPED")," "),t.xp6(5),t.Oqu(t.lcZ(11,54,"ADMIN.STATISTICS.GROUP_BY")),t.xp6(2),t.Q6J("ngModel",i.groupedMode),t.xp6(2),t.Oqu(t.lcZ(15,56,"ADMIN.STATISTICS.GROUP_DAILY")),t.xp6(3),t.Oqu(t.lcZ(18,58,"ADMIN.STATISTICS.GROUP_MONTHLY")),t.xp6(3),t.Oqu(t.lcZ(21,60,"ADMIN.STATISTICS.GROUP_YEARLY")),t.xp6(5),t.Oqu(t.lcZ(26,62,"ADMIN.STATISTICS.FROM")),t.xp6(2),t.Q6J("selected",i.groupedStart)("maxDate",i.groupedEnd),t.xp6(3),t.Oqu(t.lcZ(31,64,"ADMIN.STATISTICS.TO")),t.xp6(2),t.Q6J("selected",i.groupedEnd)("minDate",i.groupedStart)("maxDate",i.today),t.xp6(1),t.Q6J("ngIf",i.groupedLoading),t.xp6(1),t.Q6J("ngIf",i.groupedNoData),t.xp6(1),t.ekj("display-none",i.groupedLoading||i.groupedNoData),t.xp6(2),t.s9C("label",t.lcZ(38,66,"ADMIN.STATISTICS.CUSTOM_GROUPS")),t.xp6(4),t.hij(" ",t.lcZ(42,68,"ADMIN.STATISTICS.CUSTOM_GROUPS")," "),t.xp6(4),t.Oqu(t.lcZ(46,70,"ADMIN.STATISTICS.GROUP_TEMPLATE_LABEL")),t.xp6(2),t.Q6J("ngModel",i.currentTemplate)("name",null==i.currentTemplate?null:i.currentTemplate.name),t.xp6(1),t.Q6J("ngForOf",i.groupModeTemplates),t.xp6(3),t.hij(" ",t.lcZ(52,72,"ADMIN.STATISTICS.GROUPS_ADVANCED")," "),t.xp6(2),t.MGl("esIcon","keyboard_arrow_",i.showModes?"up":"down",""),t.xp6(1),t.ekj("display-none",!i.showModes),t.Q6J("@dialog",i.showModes),t.xp6(4),t.Oqu(t.lcZ(59,74,"ADMIN.STATISTICS.CUSTOM_GROUP_MODE")),t.xp6(2),t.Q6J("ngModel",i.customGroup),t.xp6(1),t.Q6J("ngForOf",i.customGroups),t.xp6(3),t.Oqu(t.lcZ(65,76,"ADMIN.STATISTICS.CUSTOM_UNFOLD_MODE")),t.xp6(2),t.Q6J("ngModel",i.customUnfold),t.xp6(2),t.Oqu(t.lcZ(69,78,"ADMIN.STATISTICS.UNFOLD_NONE")),t.xp6(2),t.Q6J("ngForOf",i.customGroups),t.xp6(1),t.Q6J("ngIf",i.nodesPermission&&i.userPermission),t.xp6(4),t.Oqu(t.lcZ(76,80,"ADMIN.STATISTICS.FROM")),t.xp6(2),t.Q6J("selected",i.customGroupStart)("maxDate",i.customGroupEnd),t.xp6(3),t.Oqu(t.lcZ(81,82,"ADMIN.STATISTICS.TO")),t.xp6(2),t.Q6J("selected",i.customGroupEnd)("minDate",i.customGroupStart)("maxDate",i.today),t.xp6(1),t.Q6J("ngIf",i.customGroupLoading),t.xp6(2),t.Q6J("ngIf",i.customGroupData&&!i.customGroupLoading),t.xp6(1),t.Q6J("ngIf",i._mediacenter||i.nodesPermission),t.xp6(1),t.Q6J("ngIf",i._mediacenter),t.xp6(1),t.Q6J("ngIf",0===i.currentTab&&!i.groupedLoading||1===i.currentTab&&!i.customGroupLoading))},dependencies:[C.sg,C.O5,d.ar,d.OR,d.cE,g.Fj,g.JJ,g.On,R.u,q.ey,I.lW,Ne._H,A.KE,A.hX,A.bx,y.Nt,ct.IC,Z.VQ,Z.U0,q.wG,H.gD,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,L.uX,L.SP,x.X$],styles:[".groups-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.groups-template-select[_ngcontent-%COMP%]{display:flex;justify-content:center;max-width:600px;width:100%;margin:auto}.groups-template-select[_ngcontent-%COMP%]     .mat-form-field-wrapper{width:100%}.modes[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modes[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:20px 0}.modes[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:500px}.modes[_ngcontent-%COMP%]   .group-multi[_ngcontent-%COMP%]{display:flex}.modes[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:5px 0}.modes[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 10px}.modes[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-weight:700;color:var(--textLight)}.modes[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modes[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{padding:5px 0}.calendars[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.calendars[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px;margin:15px;background-color:#fff;box-shadow:0 0 5px #0000004d;text-align:center}.calendars[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-calendar[_ngcontent-%COMP%]{width:220px}canvas[_ngcontent-%COMP%]{max-width:100%;padding:0 20px}es-listTable[_ngcontent-%COMP%]{width:100%}.single-data-table[_ngcontent-%COMP%], .custom-group-data-table[_ngcontent-%COMP%]{margin:20px 0;max-height:70vh;overflow:auto}.single-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .single-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .custom-group-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .custom-group-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{padding:0 10px}.single-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .single-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .custom-group-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .custom-group-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:1.5em;max-height:3em;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:flex;flex-direction:column}.stats-grouped[_ngcontent-%COMP%], .stats-nodes[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.stats-archived-table[_ngcontent-%COMP%] > es-info-message[_ngcontent-%COMP%]{display:flex;margin:20px 0}.stats-archived-table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{color:var(--textLight);font-size:110%;padding:20px;text-align:center}.export[_ngcontent-%COMP%]{padding:0 30px 20px 20px}.export[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-grow:1}.export[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px 5%;width:100%}.export[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]     .mat-tab-body{padding:0 20px}[_nghost-%COMP%]     .mat-tab-body, [_nghost-%COMP%]     .mat-tab-body .mat-tab-body-content{overflow:visible!important;width:100%}"],data:{animation:[(0,v.X$)("overlay",[(0,v.SB)("false",(0,v.oB)({opacity:0,"transform-origin":"50% 0%",transform:"scaleY(0)",height:0})),(0,v.SB)("true",(0,v.oB)({opacity:1,"transform-origin":"50% 0%",transform:"scaleY(1)"})),(0,v.eR)("false <=> true",(0,v.jt)(d.Le.ANIMATION_TIME_NORMAL+"ms ease-in-out"))]),(0,v.X$)("dialog",d.Le.switchDialog())]}})}const an=["mediacenterMds"],sn=["nodeEntriesTable"],rn=["groupEntriesTable"];function cn(o,s){1&o&&t._UZ(0,"es-spinner")}function ln(o,s){if(1&o&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.profile.displayName)}}function _n(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.addMediacenter())}),t._UZ(1,"i",13),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"ADMIN.MEDIACENTER.ADD_MEDIACENTER")," "))}function dn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-select",8),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.setMediacenter(n))}),t.YNc(6,ln,2,2,"mat-option",9),t.qZA()(),t.YNc(7,_n,4,3,"button",10),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,4,"ADMIN.MEDIACENTER.SELECT")),t.xp6(2),t.Q6J("ngModel",e.currentMediacenter),t.xp6(1),t.Q6J("ngForOf",e.mediacenters),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}function pn(o,s){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.MEDIACENTER.DATA.ACTIVATE.STATUS_ACTIVE")," "))}function gn(o,s){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.MEDIACENTER.DATA.ACTIVATE.STATUS_INACTIVE")," "))}const un=function(o){return{id:o}};function mn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"h5",48)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",49),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.removeCatalog(a))}),t._UZ(6,"i",50),t.qZA()(),t.TgZ(7,"div",51)(8,"mat-form-field")(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",25),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.name=n)}),t.qZA()(),t.TgZ(13,"mat-form-field")(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"input",25),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.url=n)}),t.qZA()()()()}if(2&o){const e=s.$implicit,i=s.index,n=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,7,"ADMIN.MEDIACENTER.DATA.CATALOGS",t.VKq(14,un,i+1))),t.xp6(7),t.Oqu(t.lcZ(11,10,"ADMIN.MEDIACENTER.DATA.CATALOG.name")),t.xp6(2),t.Q6J("disabled",!n.hasManagePermissions)("ngModel",e.name),t.xp6(3),t.Oqu(t.lcZ(16,12,"ADMIN.MEDIACENTER.DATA.CATALOG.url")),t.xp6(2),t.Q6J("disabled",!n.hasManagePermissions)("ngModel",e.url)}}function hn(o,s){1&o&&(t.TgZ(0,"h6",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.MEDIACENTER.DATA.EDIT_NOT_ALLOWED")," "))}function Cn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.saveChanges())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.MEDIACENTER.SAVE")," "))}function An(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.deleteMediacenter())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.MEDIACENTER.DELETE")," "))}const Mn=function(o){return{name:o}};function fn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.addCurrentGroup())}),t._UZ(1,"i",13),t._uU(2),t.ALo(3,"translate"),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(2),t.hij("",t.xi3(3,1,"ADMIN.MEDIACENTER.GROUPS.ADD",t.VKq(4,Mn,e.addGroup.profile.displayName))," ")}}function On(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"es-authority-search-input",54),t.NdJ("onChooseAuthority",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addGroup=n)}),t.qZA(),t.YNc(2,fn,4,6,"button",10),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("mode",e.AuthoritySearchMode.Organizations)("showRecent",!1)("globalSearchAllowed",!0),t.xp6(1),t.Q6J("ngIf",e.addGroup)}}function Tn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"es-admin-statistics",55),t.NdJ("onOpenNode",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onOpenNode.emit(n))}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("mediacenter",e.currentMediacenter)}}const xn=function(){return{}};function In(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"h4",1),t._UZ(2,"i",15),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-tab-group",16),t.NdJ("selectedIndexChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentTab=n)}),t.TgZ(6,"mat-tab",17),t.ALo(7,"translate"),t.TgZ(8,"div",18)(9,"p",19),t._uU(10),t.ALo(11,"translate"),t.YNc(12,pn,3,3,"ng-container",3),t.YNc(13,gn,3,3,"ng-container",3),t.qZA(),t.TgZ(14,"label",20),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-radio-group",21),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentMediacenterCopy.profile.mediacenter.contentStatus=n)}),t.TgZ(18,"mat-radio-button",22),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-radio-button",23),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",24)(25,"mat-form-field")(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentMediacenterCopy.profile.mediacenter.id=n)}),t.qZA()(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"input",25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentMediacenterCopy.profile.mediacenter.location=n)}),t.qZA()(),t.TgZ(35,"mat-form-field")(36,"mat-label"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"input",25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentMediacenterCopy.profile.mediacenter.districtAbbreviation=n)}),t.qZA()(),t.TgZ(40,"mat-form-field")(41,"mat-label"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"input",25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentMediacenterCopy.profile.displayName=n)}),t.qZA()(),t.TgZ(45,"mat-form-field")(46,"mat-label"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"input",25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currentMediacenterCopy.profile.mediacenter.mainUrl=n)}),t.qZA()()(),t.TgZ(50,"div",26),t.YNc(51,mn,18,16,"div",27),t.TgZ(52,"button",28),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addCatalog())}),t._UZ(53,"i",13),t._uU(54),t.ALo(55,"translate"),t.qZA()(),t.YNc(56,hn,3,3,"h6",29),t.TgZ(57,"div",30),t.YNc(58,Cn,3,3,"button",10),t.YNc(59,An,3,3,"button",31),t.qZA()()(),t.TgZ(60,"mat-tab",17),t.ALo(61,"translate"),t.TgZ(62,"div",32)(63,"h6",33),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.YNc(66,On,3,4,"ng-container",3),t._UZ(67,"es-node-entries-wrapper",34,35),t.qZA()(),t.TgZ(69,"mat-tab",17),t.ALo(70,"translate"),t.TgZ(71,"div",36)(72,"div",37)(73,"button",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.exportNodes())}),t._UZ(74,"i",39),t._uU(75),t.ALo(76,"translate"),t.qZA()(),t.TgZ(77,"es-mds-editor-wrapper",40,41),t.NdJ("onMdsLoaded",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchMediaCenterNodes())}),t.qZA(),t.TgZ(79,"mat-form-field",42)(80,"mat-label"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"input",43),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.mediacenterNodesSearchWord=n)}),t.qZA()(),t.TgZ(84,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchMediaCenterNodes())}),t._UZ(85,"i",44),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"es-node-entries-wrapper",45,46),t.NdJ("clickItem",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.onOpenNode.emit(n.element))})("sortChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.setMediacenterNodesSort(n))})("fetchData",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadMediacenterNodes())}),t.qZA()()(),t.TgZ(90,"mat-tab",17),t.ALo(91,"translate"),t.YNc(92,Tn,1,1,"es-admin-statistics",47),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,56,e.currentMediacenterCopy.profile.displayName)," "),t.xp6(2),t.Q6J("selectedIndex",e.currentTab),t.xp6(1),t.s9C("label",t.lcZ(7,58,"ADMIN.MEDIACENTER.DATA.TITLE")),t.xp6(4),t.hij(" ",t.lcZ(11,60,"ADMIN.MEDIACENTER.DATA.ACTIVATE.STATUS_PREFIX")," "),t.xp6(2),t.Q6J("ngIf","Activated"===e.currentMediacenter.profile.mediacenter.contentStatus),t.xp6(1),t.Q6J("ngIf","Deactivated"===e.currentMediacenter.profile.mediacenter.contentStatus),t.xp6(2),t.Oqu(t.lcZ(16,62,"ADMIN.MEDIACENTER.DATA.ACTIVATE.LABEL")),t.xp6(2),t.Q6J("ngModel",e.currentMediacenterCopy.profile.mediacenter.contentStatus)("disabled",!e.isAdmin),t.xp6(2),t.hij(" ",t.lcZ(20,64,"ADMIN.MEDIACENTER.DATA.ACTIVATE.OPTION_ACTIVATE")," "),t.xp6(3),t.hij(" ",t.lcZ(23,66,"ADMIN.MEDIACENTER.DATA.ACTIVATE.OPTION_DEACTIVATE")," "),t.xp6(5),t.Oqu(t.lcZ(28,68,"ADMIN.MEDIACENTER.DATA.id")),t.xp6(2),t.Q6J("disabled",!e.isAdmin)("ngModel",e.currentMediacenterCopy.profile.mediacenter.id),t.xp6(3),t.Oqu(t.lcZ(33,70,"ADMIN.MEDIACENTER.DATA.location")),t.xp6(2),t.Q6J("disabled",!e.hasManagePermissions)("ngModel",e.currentMediacenterCopy.profile.mediacenter.location),t.xp6(3),t.Oqu(t.lcZ(38,72,"ADMIN.MEDIACENTER.DATA.districtAbbreviation")),t.xp6(2),t.Q6J("disabled",!e.hasManagePermissions)("ngModel",e.currentMediacenterCopy.profile.mediacenter.districtAbbreviation),t.xp6(3),t.Oqu(t.lcZ(43,74,"ADMIN.MEDIACENTER.DATA.shortName")),t.xp6(2),t.Q6J("disabled",!e.hasManagePermissions)("ngModel",e.currentMediacenterCopy.profile.displayName),t.xp6(3),t.Oqu(t.lcZ(48,76,"ADMIN.MEDIACENTER.DATA.mainUrl")),t.xp6(2),t.Q6J("disabled",!e.hasManagePermissions)("ngModel",e.currentMediacenterCopy.profile.mediacenter.mainUrl),t.xp6(2),t.Q6J("ngForOf",e.currentMediacenterCopy.profile.mediacenter.catalogs),t.xp6(1),t.Q6J("disabled",!e.hasManagePermissions),t.xp6(2),t.hij("",t.lcZ(55,78,"ADMIN.MEDIACENTER.DATA.ADD_CATALOG")," "),t.xp6(2),t.Q6J("ngIf",!e.hasManagePermissions),t.xp6(2),t.Q6J("ngIf",e.hasManagePermissions),t.xp6(1),t.Q6J("ngIf",e.isAdmin),t.xp6(1),t.s9C("label",t.lcZ(61,80,"ADMIN.MEDIACENTER.GROUPS.TITLE")),t.xp6(4),t.Oqu(t.lcZ(65,82,"ADMIN.MEDIACENTER.GROUPS.DESCRIPTION")),t.xp6(2),t.Q6J("ngIf",e.hasManagePermissions),t.xp6(1),t.Q6J("dataSource",e.mediacenterGroups)("columns",e.groupColumns)("displayType",e.NodeEntriesDisplayType.Table)("checkbox",!1),t.xp6(2),t.s9C("label",t.lcZ(70,84,"ADMIN.MEDIACENTER.NODES.TITLE")),t.xp6(6),t.hij(" ",t.lcZ(76,86,"ADMIN.MEDIACENTER.NODES.CSV_EXPORT")," "),t.xp6(2),t.Q6J("embedded",!0)("currentValues",t.DdM(94,xn)),t.xp6(4),t.Oqu(t.lcZ(82,88,"ADMIN.MEDIACENTER.NODES.SEARCHWORD")),t.xp6(2),t.Q6J("ngModel",e.mediacenterNodesSearchWord),t.xp6(3),t.hij("",t.lcZ(87,90,"ADMIN.MEDIACENTER.NODES.FILTER")," "),t.xp6(2),t.Q6J("dataSource",e.mediacenterNodesDataSource)("elementInteractionType",e.InteractionType.Emitter)("displayType",e.NodeEntriesDisplayType.Table)("scope",e.SCOPES.MediacenterNodesList)("checkbox",!1)("columns",e.nodeColumns)("configureColumns",!0)("sort",e.mediacenterNodesSort),t.xp6(2),t.s9C("label",t.lcZ(91,92,"ADMIN.MEDIACENTER.STATISTICS.TITLE")),t.xp6(2),t.Q6J("ngIf",3===e.currentTab&&e.currentMediacenter)}}function Pn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"h4",1),t._UZ(2,"i",15),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",56)(6,"input",57,58),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateMediacentersFile(n))}),t.qZA(),t.TgZ(8,"div",59)(9,"button",60),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(7);return t.KtG(n.click())}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",61),t._uU(13),t.qZA()(),t.TgZ(14,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.importMediacenters())}),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"h4",1),t._UZ(18,"i",15),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"div",56)(22,"input",62,63),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateOrganisationsFile(n))}),t.qZA(),t.TgZ(24,"div",59)(25,"button",60),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(23);return t.KtG(n.click())}),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",61),t._uU(29),t.qZA()(),t.TgZ(30,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.importOrganisations())}),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"h4",1),t._UZ(34,"i",15),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",56)(38,"input",64,65),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateOrgMcFile(n))}),t.qZA(),t.TgZ(40,"div",59)(41,"button",60),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(39);return t.KtG(n.click())}),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",61),t._uU(45),t.qZA()(),t.TgZ(46,"mat-checkbox",66),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.removeSchoolsFromMC=n)}),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.importOrgMc())}),t._uU(50),t.ALo(51,"translate"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,14,"ADMIN.MEDIACENTER.IMPORT.TITLE")," "),t.xp6(7),t.hij(" ",t.lcZ(11,16,"ADMIN.MEDIACENTER.IMPORT.CHOOSE_MEDIACENTERS")," "),t.xp6(3),t.Oqu(e.mediacentersFile?e.mediacentersFile.name:""),t.xp6(2),t.hij(" ",t.lcZ(16,18,"ADMIN.MEDIACENTER.IMPORT.MEDIACENTERS_START")," "),t.xp6(4),t.hij("",t.lcZ(20,20,"ADMIN.MEDIACENTER.ORGIMPORT.TITLE")," "),t.xp6(7),t.hij(" ",t.lcZ(27,22,"ADMIN.MEDIACENTER.ORGIMPORT.CHOOSE_ORGANISATIONS")," "),t.xp6(3),t.Oqu(e.organisationsFile?e.organisationsFile.name:""),t.xp6(2),t.hij(" ",t.lcZ(32,24,"ADMIN.MEDIACENTER.ORGIMPORT.ORGANISATIONS_START")," "),t.xp6(4),t.hij("",t.lcZ(36,26,"ADMIN.MEDIACENTER.ORG_MC_CONNECT.TITLE")," "),t.xp6(7),t.hij(" ",t.lcZ(43,28,"ADMIN.MEDIACENTER.ORG_MC_CONNECT.CHOOSE")," "),t.xp6(3),t.Oqu(e.orgMcFile?e.orgMcFile.name:""),t.xp6(1),t.Q6J("ngModel",e.removeSchoolsFromMC),t.xp6(1),t.Oqu(t.lcZ(48,30,"ADMIN.MEDIACENTER.ORG_MC_CONNECT.REMOVE_SCHOOLS_FROM_MC")),t.xp6(3),t.hij(" ",t.lcZ(51,32,"ADMIN.MEDIACENTER.ORG_MC_CONNECT.ORGANISATIONS_START")," ")}}function Nn(o,s){1&o&&t._UZ(0,"es-global-progress")}let En=(()=>{class o{get currentTab(){return this._currentTab}set currentTab(e){var i=this;if(this._currentTab=e,this.nodeEntriesTable?.initOptionsGenerator({customOptions:{useDefaultOptions:!0,supportedOptions:["OPTIONS.DEBUG","OPTIONS.DOWNLOAD"]}}),this.groupEntriesTable?.initOptionsGenerator({customOptions:{useDefaultOptions:!1}}),this.isAdmin){const n=new d.BA("ADMIN.MEDIACENTER.GROUPS.REMOVE","delete",function(){var a=(0,h.Z)(function*(r){const c=i.optionsHelperService.getObjects(r,i.groupEntriesTable.optionsHelper.getData())[0];console.log(c),(yield i.dialogs.openGenericDialog({title:"ADMIN.MEDIACENTER.GROUPS.REMOVE_TITLE",message:"ADMIN.MEDIACENTER.GROUPS.REMOVE_MESSAGE",messageParameters:{name:c.profile.displayName},buttons:U.G2})).afterClosed().subscribe(u=>{"YES"===u&&i.deleteGroup(c)})});return function(r){return a.apply(this,arguments)}}());n.elementType=[d.Hd.Group],n.group=d.EM.Delete,this.groupEntriesTable?.initOptionsGenerator({customOptions:{useDefaultOptions:!1,addOptions:[n]}})}}constructor(e,i,n,a,r,c,_,u,f){this.mediacenterServiceLegacy=e,this.mediacenterService=i,this.mdsService=n,this.optionsHelperService=a,this.translate=r,this.connector=c,this.ngZone=_,this.dialogs=u,this.toast=f,this.AuthoritySearchMode=k.k,this.SCOPES=d.sX,this.NodeEntriesDisplayType=d.P8,this.InteractionType=d.s_,this.onOpenNode=new t.vpe,this.mediacenterGroups=new d.AL,this.mediacenterNodesDataSource=new d.AL,this.mediacenterNodesSearchWord="",this.mediacenterNodesSort={columns:T.u.POSSIBLE_SORT_BY_FIELDS,active:T.u.LOM_PROP_TITLE,direction:"asc",allowed:!0},this._currentTab=0,this.globalProgress=!1,this.removeSchoolsFromMC=!1,this.isAdmin=this.connector.getCurrentLogin().isAdmin,this.hasManagePermissions=this.connector.hasToolPermissionInstant(T.u.TOOLPERMISSION_MEDIACENTER_MANAGE),this.refresh(),this.mdsService.getSet().subscribe(O=>{this.nodeColumns=z.h.getColumns(this.translate,O,"mediacenterManaged"),this.groupColumns=z.h.getColumns(this.translate,O,"mediacenterGroups")})}setMediacenter(e){this.currentMediacenter=e,this.currentMediacenterCopy=N.W.deepCopy(e),this.mediacenterGroups.reset(),this.mediacenterGroups.isLoading=!0,this.resetMediacenterNodes(),e&&(this.mediacenterServiceLegacy.getManagedGroups(e.authorityName).subscribe(i=>{this.mediacenterGroups.setData(i.map(n=>n.group)),this.mediacenterGroups.isLoading=!1}),this.mediacenterNodesDataSource.reset(),S.d.waitForComponent(this.ngZone,this,"mediacenterMds").subscribe(()=>this.mediacenterMds.loadMds()))}loadMediacenterNodes(){var e=this;return(0,h.Z)(function*(){if((e.mediacenterNodesDataSource.isEmpty()||e.mediacenterNodesDataSource.hasMore())&&e.currentMediacenter){const i={offset:e.mediacenterNodesDataSource?.getData()?.length,count:e.mediacenterNodesDataSource?.getData()?.length?50:null,propertyFilter:[T.u.ALL],sortBy:[e.mediacenterNodesSort.active],sortAscending:["asc"===e.mediacenterNodesSort.direction]};e.mediacenterNodesDataSource.isLoading=!0;let n=yield e.getMediacenterNodesCriteria();e.mediacenterServiceLegacy.getLicensedNodes(e.currentMediacenter.authorityName,n,T.u.HOME_REPOSITORY,i).subscribe(a=>{e.mediacenterNodesDataSource.isEmpty()||null!=e.mediacenterNodesSearchWord&&e.mediacenterNodesSearchWord.trim().length>0?e.mediacenterNodesDataSource.setData(a.nodes,a.pagination):e.mediacenterNodesDataSource.appendData(a.nodes),e.mediacenterNodesDataSource.isLoading=!1})}})()}getMediacenterNodesCriteria(){var e=this;return(0,h.Z)(function*(){let i=[];return e.mediacenterNodesSearchWord&&i.push({property:T.u.PRIMARY_SEARCH_CRITERIA,values:[e.mediacenterNodesSearchWord]}),i.concat(p.Y6.convertCritierias(yield e.mediacenterMds.getValues(),e.mediacenterMds.currentWidgets))})()}searchMediaCenterNodes(){var e=this;return(0,h.Z)(function*(){e.mediacenterNodesDataSource.reset(),yield e.loadMediacenterNodes()})()}removeCatalog(e){this.currentMediacenterCopy.profile.mediacenter.catalogs.splice(this.currentMediacenterCopy.profile.mediacenter.catalogs.indexOf(e),1)}addCatalog(){this.currentMediacenterCopy.profile.mediacenter.catalogs||(this.currentMediacenterCopy.profile.mediacenter.catalogs=[]),this.currentMediacenterCopy.profile.mediacenter.catalogs.push({name:"",url:""})}addMediacenter(){var e=this;return(0,h.Z)(function*(){const n=yield(yield e.dialogs.openInputDialog({title:"ADMIN.MEDIACENTER.ADD_MEDIACENTER_TITLE",message:"ADMIN.MEDIACENTER.ADD_MEDIACENTER_MESSAGE",label:"ADMIN.MEDIACENTER.ADD_MEDIACENTER_LABEL"})).afterClosed().toPromise();if(n){const a={displayName:e.translate.instant("ADMIN.MEDIACENTER.UNNAMED_MEDIACENTER",{id:n}),mediacenter:{id:n}};e.toast.showProgressSpinner(),e.mediacenterServiceLegacy.addMediacenter(n,a).subscribe(r=>{pt.b.waitForResult(()=>e.mediacenterServiceLegacy.getMediacenters(),c=>1===c.filter(_=>_.authorityName===r.authorityName).length,()=>{e.toast.closeProgressSpinner(),e.toast.toast("ADMIN.MEDIACENTER.CREATED",{name:n}),e.setMediacenter(null),e.refresh()})},r=>{e.toast.error(r),e.toast.closeProgressSpinner()})}})()}saveChanges(){this.toast.showProgressSpinner(),this.mediacenterServiceLegacy.editMediacenter(this.currentMediacenterCopy.authorityName,this.currentMediacenterCopy.profile).subscribe(()=>{this.toast.toast("ADMIN.MEDIACENTER.UPDATED",{name:this.currentMediacenterCopy.profile.displayName}),this.toast.closeProgressSpinner(),this.refresh()},e=>{this.toast.error(e),this.toast.closeProgressSpinner(),this.refresh()})}refresh(){this.mediacenters=null,this.mediacenterServiceLegacy.getMediacenters().subscribe(e=>{this.mediacenters=e.filter(i=>i.administrationAccess)})}addCurrentGroup(){this.toast.showProgressSpinner(),this.mediacenterServiceLegacy.addManagedGroup(this.currentMediacenterCopy.authorityName,this.addGroup.authorityName).subscribe(e=>{this.mediacenterGroups.setData(e.map(i=>i.group)),this.toast.toast("ADMIN.MEDIACENTER.GROUPS.ADDED",{name:this.addGroup.profile.displayName}),this.toast.closeProgressSpinner(),this.addGroup=null},e=>{this.toast.error(e),this.toast.closeProgressSpinner()})}deleteMediacenter(){var e=this;return(0,h.Z)(function*(){(yield e.dialogs.openGenericDialog({title:"ADMIN.MEDIACENTER.DELETE_TITLE",message:"ADMIN.MEDIACENTER.DELETE_MESSAGE",messageParameters:{name:e.currentMediacenterCopy.profile.displayName},buttons:U.G2})).afterClosed().subscribe(n=>{"YES"===n&&(e.toast.showProgressSpinner(),e.mediacenterServiceLegacy.deleteMediacenter(e.currentMediacenter.authorityName).subscribe(()=>{e.toast.closeProgressSpinner(),e.toast.toast("ADMIN.MEDIACENTER.DELETED",{name:e.currentMediacenterCopy.profile.displayName}),e.setMediacenter(null),e.refresh()},a=>{e.toast.error(a),e.toast.closeProgressSpinner()}))})})()}deleteGroup(e){this.toast.showProgressSpinner(),this.mediacenterServiceLegacy.removeManagedGroup(this.currentMediacenterCopy.authorityName,e.authorityName).subscribe(i=>{this.mediacenterGroups.setData(i.map(n=>n.group)),this.toast.toast("ADMIN.MEDIACENTER.GROUPS.REMOVED",{name:e.profile.displayName}),this.toast.closeProgressSpinner()},i=>{this.toast.error(i),this.toast.closeProgressSpinner()})}updateMediacentersFile(e){this.mediacentersFile=e.target.files[0]}updateOrganisationsFile(e){this.organisationsFile=e.target.files[0]}updateOrgMcFile(e){this.orgMcFile=e.target.files[0]}importMediacenters(){this.mediacentersFile?(this.globalProgress=!0,this.mediacenterServiceLegacy.importMediacenters(this.mediacentersFile).subscribe(e=>{this.toast.toast("ADMIN.MEDIACENTER.IMPORT.IMPORTED",{rows:e.rows}),this.globalProgress=!1,this.mediacentersFile=null},e=>{this.toast.error(e),this.globalProgress=!1})):this.toast.error(null,"ADMIN.MEDIACENTER.IMPORT.CHOOSE_MEDIACENTERS")}importOrganisations(){this.organisationsFile?(this.globalProgress=!0,this.mediacenterServiceLegacy.importOrganisations(this.organisationsFile).subscribe(e=>{this.toast.toast("ADMIN.MEDIACENTER.ORGIMPORT.IMPORTED",{rows:e.rows}),this.globalProgress=!1,this.organisationsFile=null},e=>{this.toast.error(e),this.globalProgress=!1})):this.toast.error(null,"ADMIN.MEDIACENTER.ORGIMPORT.CHOOSE_ORGANISATIONS")}importOrgMc(){this.orgMcFile?(this.globalProgress=!0,this.mediacenterServiceLegacy.importMcOrgConnections(this.orgMcFile,this.removeSchoolsFromMC).subscribe(e=>{this.toast.toast("ADMIN.MEDIACENTER.ORG_MC_CONNECT.IMPORTED",{rows:e.rows}),this.globalProgress=!1,this.orgMcFile=null},e=>{this.toast.error(e),this.globalProgress=!1})):this.toast.error(null,"ADMIN.MEDIACENTER.ORG_MC_CONNECT.CHOOSE")}setMediacenterNodesSort(e){this.mediacenterNodesSort=e,this.resetMediacenterNodes(),this.loadMediacenterNodes()}resetMediacenterNodes(){this.mediacenterNodesDataSource.reset()}exportNodes(){var e=this;return(0,h.Z)(function*(){const i=e.nodeColumns.map(r=>r.name).filter(r=>"ccm:mediacenter"!==r),n=i.map(r=>e.translate.instant("NODE."+r));e.toast.showProgressSpinner();const a=yield e.mediacenterService.exportMediacenterLicensedNodes({repository:T.u.HOME_REPOSITORY,mediacenter:e.currentMediacenter.authorityName,sortProperties:[e.mediacenterNodesSort.active],sortAscending:["asc"===e.mediacenterNodesSort.direction],body:{criteria:yield e.getMediacenterNodesCriteria()},properties:i}).toPromise();e.toast.closeProgressSpinner(),a.forEach(r=>{Object.keys(r).filter(c=>T.u.getAllVCardFields().includes(c)).forEach(c=>{r[c]=r[c]?.map(_=>new d._W(_).getDisplayName())})}),W.I.download(yield e.translate.get("ADMIN.MEDIACENTER.NODES.CSV_FILENAME").toPromise(),n,a,i)})()}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(p.Jh),t.Y36(P.QK),t.Y36(p.xW),t.Y36(fe.C),t.Y36(x.sK),t.Y36(p.xD),t.Y36(t.R0b),t.Y36(w.H),t.Y36(b.F))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-admin-mediacenter"]],viewQuery:function(i,n){if(1&i&&(t.Gf(an,5),t.Gf(sn,5),t.Gf(rn,5)),2&i){let a;t.iGM(a=t.CRH())&&(n.mediacenterMds=a.first),t.iGM(a=t.CRH())&&(n.nodeEntriesTable=a.first),t.iGM(a=t.CRH())&&(n.groupEntriesTable=a.first)}},outputs:{onOpenNode:"onOpenNode"},decls:10,vars:8,consts:[[1,"mediacenters"],[1,"mat-heading-4","mat-heading-underline"],["esIcon","list"],[4,"ngIf"],["class","select-mediacenter",4,"ngIf"],["class","mediacenter-actions",4,"ngIf"],[1,"select-mediacenter"],[1,"mediacenter"],["id","type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["esIcon","add"],[1,"mediacenter-actions"],["esIcon","business"],["mat-stretch-tabs","",3,"selectedIndex","selectedIndexChange"],[3,"label"],[1,"base-data"],[1,"status"],["id","activate-label"],["aria-labelledby","activate-label",1,"activate-group",3,"ngModel","disabled","ngModelChange"],["value","Activated"],["value","Deactivated"],[1,"base-fields"],["matInput","",3,"disabled","ngModel","ngModelChange"],[1,"data-catalogs"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],["class","mat-heading-6 edit-not-allowed",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"groups"],[1,"mat-heading-6"],[3,"dataSource","columns","displayType","checkbox"],["groupEntriesTable",""],[1,"nodes"],[1,"export"],["mat-flat-button","","color","primary",3,"click"],["esIcon","cloud_download"],["mode","search","editorMode","search","groupId","mediacenter_filter",3,"embedded","currentValues","onMdsLoaded"],["mediacenterMds",""],[1,"searchword"],["matInput","",3,"ngModel","ngModelChange"],["esIcon","search"],[3,"dataSource","elementInteractionType","displayType","scope","checkbox","columns","configureColumns","sort","clickItem","sortChange","fetchData"],["nodeEntriesTable",""],[3,"mediacenter","onOpenNode",4,"ngIf"],[1,"mat-heading-5","mat-heading-underline"],["mat-icon-button","","color","primary",3,"click"],["esIcon","delete"],[1,"catalog-fields"],[1,"mat-heading-6","edit-not-allowed"],["mat-raised-button","","color","warn",3,"click"],["placeholder","ADMIN.MEDIACENTER.GROUPS.ADD_LABEL",3,"mode","showRecent","globalSearchAllowed","onChooseAuthority"],[3,"mediacenter","onOpenNode"],[1,"import"],["type","file","id","importMediacentersSelect","accept",".csv",2,"display","none",3,"change"],["importMediacentersSelect",""],[1,"inputGroup"],["mat-raised-button","",3,"click"],[1,"file"],["type","file","id","importOrganisationsSelect","accept",".csv",2,"display","none",3,"change"],["importOrganisationsSelect",""],["type","file","id","importOrgMcSelect","accept",".csv",2,"display","none",3,"change"],["importOrgMcSelect",""],[1,"example-margin",3,"ngModel","ngModelChange"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"h4",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,cn,1,0,"es-spinner",3),t.YNc(6,dn,8,6,"div",4),t.YNc(7,In,93,95,"div",5),t.YNc(8,Pn,52,34,"div",3),t.qZA(),t.YNc(9,Nn,1,0,"es-global-progress",3)),2&i&&(t.xp6(3),t.hij("",t.lcZ(4,6,"ADMIN.MEDIACENTER.MANAGE")," "),t.xp6(2),t.Q6J("ngIf",!n.mediacenters),t.xp6(1),t.Q6J("ngIf",n.mediacenters),t.xp6(1),t.Q6J("ngIf",n.mediacenters&&n.currentMediacenterCopy),t.xp6(1),t.Q6J("ngIf",!n.currentMediacenter&&n.isAdmin),t.xp6(1),t.Q6J("ngIf",n.globalProgress))},dependencies:[k.e,C.sg,C.O5,d.ar,d.OR,d.cE,g.Fj,g.JJ,g.On,rt.d,q.ey,I.lW,I.RK,X.oG,A.KE,A.hX,y.Nt,Z.VQ,Z.U0,H.gD,L.uX,L.SP,Oe.o,M,x.X$],styles:["[_nghost-%COMP%]     .mat-tab-body-wrapper{padding:20px}[_nghost-%COMP%]     .mat-tab-body-wrapper .mat-tab-body, [_nghost-%COMP%]     .mat-tab-body-wrapper .mat-tab-body-content{overflow:unset}[_nghost-%COMP%]     es-admin-statistics .mat-tab-labels>div:nth-child(2){display:none}.select-mediacenter[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px;align-items:center}.select-mediacenter[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:500px}.base-data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.base-data[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:130%;margin-top:0}.base-data[_ngcontent-%COMP%]   #activate-label[_ngcontent-%COMP%]{margin:0 10px}.base-data[_ngcontent-%COMP%]   .activate-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:.25em 10px 1.8em}.base-data[_ngcontent-%COMP%]   .activate-group[_ngcontent-%COMP%] > .mat-radio-button[_ngcontent-%COMP%]{margin:.4em}.base-data[_ngcontent-%COMP%]   .base-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.base-data[_ngcontent-%COMP%]   .base-fields[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:calc(50% - 20px);margin:0 10px}.base-data[_ngcontent-%COMP%]   .edit-not-allowed[_ngcontent-%COMP%]{padding-bottom:20px}.base-data[_ngcontent-%COMP%]   .data-catalogs[_ngcontent-%COMP%]{padding:30px 20px}.base-data[_ngcontent-%COMP%]   .data-catalogs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.base-data[_ngcontent-%COMP%]   .data-catalogs[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:flex}.base-data[_ngcontent-%COMP%]   .data-catalogs[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-grow:1}.base-data[_ngcontent-%COMP%]   .data-catalogs[_ngcontent-%COMP%]   .catalog-fields[_ngcontent-%COMP%]{display:flex}.base-data[_ngcontent-%COMP%]   .data-catalogs[_ngcontent-%COMP%]   .catalog-fields[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{margin:0 10px}.base-data[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex}.base-data[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 10px}.groups[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{padding:10px 0}.groups[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:20px}.import[_ngcontent-%COMP%]{display:flex;align-items:center}.import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]{margin:20px 0;flex-grow:1}.import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{display:inline-block;padding:0 10px}.import[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:1em}.nodes[_ngcontent-%COMP%]{max-width:calc(100vw - 350px)}.nodes[_ngcontent-%COMP%]   .export[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.nodes[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:67%;margin-right:2%}"]})}return o})();const ut=function(o){return{fallback:o}};function vn(o,s){if(1&o&&(t.TgZ(0,"li"),t._UZ(1,"i",7),t.TgZ(2,"div")(3,"div",8)(4,"div",9),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",10),t._uU(8),t.qZA()(),t.TgZ(9,"div",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",12),t._uU(13),t.ALo(14,"translate"),t.ALo(15,"translate"),t.qZA()()()),2&o){const e=s.$implicit;t.xp6(5),t.hij(" ",t.xi3(6,6,"ADMIN.PLUGINS.PLUGIN_DETAILS."+e.name+".TITLE",t.VKq(16,ut,e.name))," "),t.xp6(3),t.Oqu(e.version),t.xp6(1),t.ekj("state-enabled",e.enabled),t.xp6(1),t.hij(" ",t.lcZ(11,9,"ADMIN.PLUGINS."+(e.enabled?"ENABLED":"DISABLED"))," "),t.xp6(3),t.hij(" ",t.xi3(14,11,"ADMIN.PLUGINS.PLUGIN_DETAILS."+e.name+".DESCRIPTION",t.VKq(18,ut,t.lcZ(15,14,"ADMIN.PLUGINS.NO_DESCRIPTION")))," ")}}let bn=(()=>{class o{constructor(e){this.adminService=e,this.adminService.getPlugins().subscribe(i=>{this.plugins=i})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Q.F))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin-plugins"]],decls:16,vars:13,consts:[[1,"plugins"],[1,"mat-heading-3","mat-heading-underline"],["mode","info"],[1,"plugin-list"],[4,"ngFor","ngForOf"],[1,"more"],["href","https://edu-sharing.com/extensions/","target","_blank"],["esIcon","extension"],[1,"name-wrapper"],[1,"name"],[1,"version"],[1,"state"],[1,"description"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"es-info-message",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"ul",3),t.YNc(8,vn,16,20,"li",4),t.qZA(),t.TgZ(9,"div",5)(10,"p"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"a",6),t._uU(14),t.ALo(15,"translate"),t.qZA()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.PLUGINS.TITLE")),t.xp6(3),t.Oqu(t.lcZ(6,7,"ADMIN.PLUGINS.INFO")),t.xp6(3),t.Q6J("ngForOf",n.plugins),t.xp6(3),t.Oqu(t.lcZ(12,9,"ADMIN.PLUGINS.MORE")),t.xp6(3),t.Oqu(t.lcZ(15,11,"ADMIN.PLUGINS.MORE_LINK")))},dependencies:[C.sg,d.ar,R.u,x.X$],styles:[".plugins[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0;padding:40px 0 0}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;display:grid;grid-template-columns:60px auto}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#aaa;font-size:40px}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{font-weight:700;color:#761532;padding-bottom:2px}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .state.state-enabled[_ngcontent-%COMP%]{color:#267355}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:2px}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;font-size:120%;flex-grow:1}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{text-align:right;min-width:20%;color:var(--textLight);font-size:90%}.plugins[_ngcontent-%COMP%]   .plugin-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:var(--textLight)}.plugins[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{padding-top:60px;color:var(--textLight);font-size:90%}.plugins[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:2px 0}"]})}return o})();var Zn=l(11523);let Ln=(()=>{class o extends Zn.i{constructor(e,i){super(e),this.storage=i,this.getTokensCall=n=>{const a=this.connector.createUrl("lti/v13/registration/url?generate=:generate",null,[[":generate",String(n)]]);return this.connector.get(a,this.connector.getRequestOptions())},this.removeToken=n=>{const a=this.connector.createUrl("lti/v13/registration/url/:token",null,[[":token",n]]);return this.connector.delete(a,this.connector.getRequestOptions())},this.registrationAdvanced=(n,a,r,c,_,u,f)=>{const O=this.connector.createUrl("lti/v13/registration/static?platformId=:platformId&client_id=:client_id&deployment_id=:deployment_id&authentication_request_url=:authentication_request_url&keyset_url=:keyset_url&key_id=:key_id&auth_token_url=:auth_token_url",null,[[":platformId",n],[":client_id",a],[":deployment_id",r],[":authentication_request_url",c],[":keyset_url",_],[":key_id",u],[":auth_token_url",f]]);return this.connector.post(O,null,this.connector.getRequestOptions())}}static#t=this.\u0275fac=function(i){return new(i||o)(t.LFG(gt.x),t.LFG(d.xU))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Dn(o,s){1&o&&(t.TgZ(0,"th",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.LTI.URL")))}const Sn=function(o){return{"text-decoration":o}};function Rn(o,s){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("ngStyle",t.VKq(2,Sn,e.valid?"none":"line-through")),t.xp6(1),t.hij(" ",e.url," ")}}function yn(o,s){1&o&&(t.TgZ(0,"th",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.LTI.TS")))}const wn=function(){return{relative:!1,time:!0}};function qn(o,s){if(1&o&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"formatDate"),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.tsExpiry,t.DdM(4,wn))," ")}}function Un(o,s){1&o&&(t.TgZ(0,"th",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.APPLICATIONS.ID")))}function Gn(o,s){if(1&o&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.registeredAppId?e.registeredAppId:"-"," ")}}function Fn(o,s){1&o&&t._UZ(0,"th",29)}function Jn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"td",31)(1,"div",32)(2,"button",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.copyUrl(a))}),t._UZ(3,"i",34),t.qZA()()()}}function kn(o,s){1&o&&t._UZ(0,"th",29)}function jn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"td",31)(1,"div",35)(2,"button",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.remove(a))}),t._UZ(3,"i",36),t.qZA()()()}}function Hn(o,s){1&o&&t._UZ(0,"tr",37)}function Qn(o,s){1&o&&t._UZ(0,"tr",38)}function Yn(o,s){if(1&o&&(t.TgZ(0,"table",18),t.ynx(1,19),t.YNc(2,Dn,3,3,"th",20),t.YNc(3,Rn,2,4,"td",21),t.BQk(),t.ynx(4,22),t.YNc(5,yn,3,3,"th",20),t.YNc(6,qn,3,5,"td",23),t.BQk(),t.ynx(7,24),t.YNc(8,Un,3,3,"th",20),t.YNc(9,Gn,2,1,"td",23),t.BQk(),t.ynx(10,25),t.YNc(11,Fn,1,0,"th",20),t.YNc(12,Jn,4,0,"td",23),t.BQk(),t.ynx(13,26),t.YNc(14,kn,1,0,"th",20),t.YNc(15,jn,4,0,"td",23),t.BQk(),t.YNc(16,Hn,1,0,"tr",27),t.YNc(17,Qn,1,0,"tr",28),t.qZA()),2&o){const e=t.oxw();t.Q6J("dataSource",e.tokens.registrationLinks),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}let Kn=(()=>{class o{constructor(e,i,n){this.dialogs=e,this.ltiService=i,this.toast=n,this.onRefreshAppList=new t.vpe,this.displayedColumns=["url","tsExpiry","registeredAppId","copy","delete"]}ngOnInit(){this.refresh()}remove(e){var i=this;return(0,h.Z)(function*(){(yield i.dialogs.openGenericDialog({title:"ADMIN.LTI.REMOVE_TITLE",message:"ADMIN.LTI.REMOVE_MESSAGE",messageParameters:e,buttons:U.OU})).afterClosed().subscribe(a=>{"YES_DELETE"===a&&i.ltiService.removeToken(e.token).subscribe(()=>{i.refresh()})})})()}refresh(){this.ltiService.getTokensCall(!1).subscribe(e=>{this.tokens=e})}generate(){this.ltiService.getTokensCall(!0).subscribe(e=>{this.tokens=e,this.copyUrl(this.tokens.registrationLinks[this.tokens.registrationLinks.length-1])})}saveAdvanced(){this.ltiService.registrationAdvanced(this.platformId,this.clientId,this.deploymentId,this.authenticationRequestUrl,this.keysetUrl,this.keyId,this.authTokenUrl).subscribe(e=>{this.toast.toast("ADMIN.LTI.DATA.CREATED",null),this.toast.closeProgressSpinner(),this.onRefreshAppList.emit()},e=>{this.toast.error(e),this.toast.closeProgressSpinner()})}copyUrl(e){S.d.copyToClipboard(e.url),this.toast.toast("ADMIN.APPLICATIONS.COPIED_CLIPBOARD")}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(w.H),t.Y36(Ln),t.Y36(b.F))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-lti-admin"]],outputs:{onRefreshAppList:"onRefreshAppList"},decls:59,vars:47,consts:[["mat-stretch-tabs",""],[3,"label"],[1,"lti-wrapper"],["mode","info"],[1,"info-message"],["mat-table","",3,"dataSource",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],["esIcon","add"],[1,"base-fields"],["floatLabel","always"],["matInput","","placeholder","https://localhost.localdomain/moodle",3,"ngModel","ngModelChange"],["matInput","","placeholder","LTEi6jcz3NltiFA",3,"ngModel","ngModelChange"],["matInput","","placeholder","2",3,"ngModel","ngModelChange"],["matInput","","placeholder","https://localhost.localdomain/moodle/mod/lti/auth.php",3,"ngModel","ngModelChange"],["matInput","","placeholder","https://localhost.localdomain/moodle/mod/lti/certs.php",3,"ngModel","ngModelChange"],["matInput","","placeholder","e079a4884780ac1dfd16",3,"ngModel","ngModelChange"],["matInput","","placeholder","https://localhost.localdomain/moodle/mod/lti/token.php",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","url"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["matColumnDef","tsExpiry"],["mat-cell","",4,"matCellDef"],["matColumnDef","registeredAppId"],["matColumnDef","copy"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"ngStyle"],["mat-cell",""],[1,"copy"],["mat-icon-button","","color","primary",3,"click"],["esIcon","content_copy"],[1,"delete"],["esIcon","delete"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.ALo(2,"translate"),t.TgZ(3,"div",2)(4,"es-info-message",3)(5,"span",4),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.YNc(8,Yn,18,3,"table",5),t.TgZ(9,"button",6),t.NdJ("click",function(){return n.generate()}),t._UZ(10,"i",7),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"mat-tab",1),t.ALo(14,"translate"),t.TgZ(15,"div",2)(16,"es-info-message",3)(17,"span",4),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",8)(21,"mat-form-field",9)(22,"mat-label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",10),t.NdJ("ngModelChange",function(r){return n.platformId=r}),t.qZA()(),t.TgZ(26,"mat-form-field",9)(27,"mat-label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"input",11),t.NdJ("ngModelChange",function(r){return n.clientId=r}),t.qZA()(),t.TgZ(31,"mat-form-field",9)(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"input",12),t.NdJ("ngModelChange",function(r){return n.deploymentId=r}),t.qZA()(),t.TgZ(36,"mat-form-field",9)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"input",13),t.NdJ("ngModelChange",function(r){return n.authenticationRequestUrl=r}),t.qZA()(),t.TgZ(41,"mat-form-field",9)(42,"mat-label"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"input",14),t.NdJ("ngModelChange",function(r){return n.keysetUrl=r}),t.qZA()(),t.TgZ(46,"mat-form-field",9)(47,"mat-label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"input",15),t.NdJ("ngModelChange",function(r){return n.keyId=r}),t.qZA()(),t.TgZ(51,"mat-form-field",9)(52,"mat-label"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"input",16),t.NdJ("ngModelChange",function(r){return n.authTokenUrl=r}),t.qZA()()(),t.TgZ(56,"button",17),t.NdJ("click",function(){return n.saveAdvanced()}),t._uU(57),t.ALo(58,"translate"),t.qZA()()()()),2&i&&(t.xp6(1),t.s9C("label",t.lcZ(2,21,"ADMIN.LTI.DYNAMIC")),t.xp6(5),t.Oqu(t.lcZ(7,23,"ADMIN.LTI.DYNAMIC_INFO")),t.xp6(2),t.Q6J("ngIf",n.tokens),t.xp6(3),t.hij("",t.lcZ(12,25,"ADMIN.LTI.GENERATE")," "),t.xp6(2),t.s9C("label",t.lcZ(14,27,"ADMIN.LTI.ADVANCED")),t.xp6(5),t.Oqu(t.lcZ(19,29,"ADMIN.LTI.MANUAL_INFO")),t.xp6(5),t.Oqu(t.lcZ(24,31,"ADMIN.LTI.DATA.platformId")),t.xp6(2),t.Q6J("ngModel",n.platformId),t.xp6(3),t.Oqu(t.lcZ(29,33,"ADMIN.LTI.DATA.client_id")),t.xp6(2),t.Q6J("ngModel",n.clientId),t.xp6(3),t.Oqu(t.lcZ(34,35,"ADMIN.LTI.DATA.deployment_id")),t.xp6(2),t.Q6J("ngModel",n.deploymentId),t.xp6(3),t.Oqu(t.lcZ(39,37,"ADMIN.LTI.DATA.authentication_request_url")),t.xp6(2),t.Q6J("ngModel",n.authenticationRequestUrl),t.xp6(3),t.Oqu(t.lcZ(44,39,"ADMIN.LTI.DATA.keyset_url")),t.xp6(2),t.Q6J("ngModel",n.keysetUrl),t.xp6(3),t.Oqu(t.lcZ(49,41,"ADMIN.LTI.DATA.key_id")),t.xp6(2),t.Q6J("ngModel",n.keyId),t.xp6(3),t.Oqu(t.lcZ(54,43,"ADMIN.LTI.DATA.auth_token_url")),t.xp6(2),t.Q6J("ngModel",n.authTokenUrl),t.xp6(2),t.hij(" ",t.lcZ(58,45,"ADMIN.LTI.SAVE")," "))},dependencies:[C.O5,C.PC,d.ar,g.Fj,g.JJ,g.On,R.u,I.lW,I.RK,A.KE,A.hX,y.Nt,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,L.uX,L.SP,x.X$,d.ik],styles:[".lti-wrapper[_ngcontent-%COMP%]{padding:20px}.lti-wrapper[_ngcontent-%COMP%]   es-info-message[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.lti-wrapper[_ngcontent-%COMP%]   es-info-message[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{white-space:pre-line}.mat-table[_ngcontent-%COMP%]{margin-bottom:20px}.mat-button-base[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-bottom:10px}.base-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:10px}.base-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:calc(50% - 20px);margin:0 10px}"]})}return o})();var Bn=l(6593);function Wn(o,s){if(1&o&&t._UZ(0,"iframe",16),2&o){const e=t.oxw();t.Q6J("src",e.ltiToolDynRegUrlSafe,t.uOi)}}let Vn=(()=>{class o{constructor(e,i,n){this.sanitizer=e,this.toast=i,this.ltiPlatformService=n,this.onRefreshAppList=new t.vpe,this.showIframe=!1,this.ltiToolDynRegUrl="",this.manualRegistrationData={clientName:"",targetLinkUri:""},o.staticRef=this}ngOnInit(){window.addEventListener("message",function(i){"org.imsglobal.lti.close"==i.data.subject&&(o.staticRef.showIframe=!1,o.staticRef.ltiToolDynRegUrlSafe=null,o.staticRef.onRefreshAppList.emit())})}register(){console.log("iframeSrc:"+this.ltiToolDynRegUrl);try{new URL(this.ltiToolDynRegUrl)}catch{return void this.toast.toast("Invalid Url")}this.ltiToolDynRegUrlSafe=this.sanitizer.bypassSecurityTrustResourceUrl("/edu-sharing/rest/ltiplatform/v13/start-dynamic-registration?url="+this.ltiToolDynRegUrl),this.showIframe=!0}manualRegistration(){this.ltiPlatformService.manualRegistration({body:this.manualRegistrationData}).subscribe(e=>{this.onRefreshAppList.emit()})}changeRedirectionUrl(e){this.manualRegistrationData.redirectionUrls=Array.of(e.target.value)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Bn.H7),t.Y36(b.F),t.Y36(P.WY))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-ltitool-admin"]],outputs:{onRefreshAppList:"onRefreshAppList"},decls:54,vars:42,consts:[["mat-stretch-tabs",""],[3,"label"],[1,"lti-wrapper"],["mode","info"],[1,"info-message"],[1,"base-fields"],["floatLabel","always"],["matInput","","placeholder","https://toolwithdynamicregistration.url",3,"ngModel","ngModelChange"],["id","btn-register","mat-raised-button","","color","primary",3,"click"],[3,"src",4,"ngIf"],["matInput","","placeholder","https://domain/tool/keyset",3,"ngModel","ngModelChange"],["matInput","","placeholder","https://domain/tool/login",3,"ngModel","ngModelChange"],["matInput","","placeholder","https://domain/tool/launch",3,"change"],["matInput","","placeholder","https://domain/tool/launch",3,"ngModel","ngModelChange"],["matInput","","placeholder","Example Tool",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[3,"src"]],template:function(i,n){1&i&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.ALo(2,"translate"),t.TgZ(3,"div",2)(4,"es-info-message",3)(5,"span",4),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(r){return n.ltiToolDynRegUrl=r}),t.qZA()(),t.TgZ(14,"button",8),t.NdJ("click",function(){return n.register()}),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.YNc(17,Wn,1,1,"iframe",9),t.qZA()(),t.TgZ(18,"mat-tab",1),t.ALo(19,"translate"),t.TgZ(20,"div",2)(21,"es-info-message",3)(22,"span",4),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",5)(26,"mat-form-field",6)(27,"mat-label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"input",10),t.NdJ("ngModelChange",function(r){return n.manualRegistrationData.keysetUrl=r}),t.qZA()(),t.TgZ(31,"mat-form-field",6)(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"input",11),t.NdJ("ngModelChange",function(r){return n.manualRegistrationData.loginInitiationUrl=r}),t.qZA()(),t.TgZ(36,"mat-form-field",6)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"input",12),t.NdJ("change",function(r){return n.changeRedirectionUrl(r)}),t.qZA()(),t.TgZ(41,"mat-form-field",6)(42,"mat-label"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"input",13),t.NdJ("ngModelChange",function(r){return n.manualRegistrationData.targetLinkUri=r}),t.qZA()(),t.TgZ(46,"mat-form-field",6)(47,"mat-label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"input",14),t.NdJ("ngModelChange",function(r){return n.manualRegistrationData.clientName=r}),t.qZA()()(),t.TgZ(51,"button",15),t.NdJ("click",function(){return n.manualRegistration()}),t._uU(52),t.ALo(53,"translate"),t.qZA()()()()),2&i&&(t.xp6(1),t.s9C("label",t.lcZ(2,18,"ADMIN.LTI.DYNAMIC")),t.xp6(5),t.Oqu(t.lcZ(7,20,"ADMIN.LTITOOL.DYNAMIC_INFO")),t.xp6(5),t.Oqu(t.lcZ(12,22,"ADMIN.LTITOOL.DYNAMIC_URL")),t.xp6(2),t.Q6J("ngModel",n.ltiToolDynRegUrl),t.xp6(2),t.hij(" ",t.lcZ(16,24,"ADMIN.LTITOOL.REGISTER")," "),t.xp6(2),t.Q6J("ngIf",n.showIframe),t.xp6(1),t.s9C("label",t.lcZ(19,26,"ADMIN.LTI.ADVANCED")),t.xp6(5),t.Oqu(t.lcZ(24,28,"ADMIN.LTITOOL.MANUAL_INFO")),t.xp6(5),t.Oqu(t.lcZ(29,30,"ADMIN.LTITOOL.DATA.keysetUrl")),t.xp6(2),t.Q6J("ngModel",n.manualRegistrationData.keysetUrl),t.xp6(3),t.Oqu(t.lcZ(34,32,"ADMIN.LTITOOL.DATA.loginInitiationUrl")),t.xp6(2),t.Q6J("ngModel",n.manualRegistrationData.loginInitiationUrl),t.xp6(3),t.Oqu(t.lcZ(39,34,"ADMIN.LTITOOL.DATA.redirectionUrls")),t.xp6(5),t.Oqu(t.lcZ(44,36,"ADMIN.LTITOOL.DATA.targetLinkUri")),t.xp6(2),t.Q6J("ngModel",n.manualRegistrationData.targetLinkUri),t.xp6(3),t.Oqu(t.lcZ(49,38,"ADMIN.LTITOOL.DATA.clientName")),t.xp6(2),t.Q6J("ngModel",n.manualRegistrationData.clientName),t.xp6(2),t.hij(" ",t.lcZ(53,40,"ADMIN.LTI.SAVE")," "))},dependencies:[C.O5,g.Fj,g.JJ,g.On,R.u,I.lW,A.KE,A.hX,y.Nt,L.uX,L.SP,x.X$],styles:[".lti-wrapper[_ngcontent-%COMP%]{padding:20px}.lti-wrapper[_ngcontent-%COMP%]   es-info-message[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.lti-wrapper[_ngcontent-%COMP%]   es-info-message[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{white-space:pre-line}.mat-table[_ngcontent-%COMP%]{margin-bottom:20px}.mat-button-base[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-bottom:10px}.base-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:10px}.base-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:calc(100% - 20px);margin:0 10px}.base-fields[_ngcontent-%COMP%]   #btn-register[_ngcontent-%COMP%]{margin-left:auto}iframe[_ngcontent-%COMP%]{width:calc(100% + -0px);border:1px solid var(--primary);margin-top:20px;padding:10px}"]})}return o})();var tt=l(77988);function Xn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.loadTemplate(a.key))}),t._uU(1),t.qZA()}if(2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.key," ")}}function $n(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"es-card",11),t.NdJ("onCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeNewTemplateDialog())}),t.ALo(1,"translate"),t.TgZ(2,"div",12)(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-form-field")(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",13),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.newTemplateName=n)})("keydown.enter",function(n){return t.CHM(e),t.oxw().createNewTemplate(),t.KtG(n.preventDefault())}),t.qZA()()()()}if(2&o){const e=t.oxw();t.s9C("title",t.lcZ(1,5,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.NEW_BUTTON")),t.Q6J("buttons",e.newTemplateDialogButtons),t.xp6(4),t.Oqu(t.lcZ(5,7,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CHOOSE_NAME_TEXT")),t.xp6(4),t.Oqu(t.lcZ(9,9,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CHOOSE_NAME_INPUT_LABEL")),t.xp6(2),t.Q6J("ngModel",e.newTemplateName)}}const mt=function(o){return{template:o}};function zn(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.confirmUpdateTemplate(n.selectedTemplate))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.query===e.templates[e.selectedTemplate].query&&e.properties===e.templates[e.selectedTemplate].properties),t.xp6(1),t.hij(" ",t.xi3(2,2,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.UPDATE_BUTTON",t.VKq(5,mt,e.selectedTemplate))," ")}}function to(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.confirmDeleteTemplate(n.selectedTemplate))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.DELETE_BUTTON",t.VKq(4,mt,e.selectedTemplate))," ")}}class D{static#t=this.STORAGE_KEY="admin_lucene_templates";static#e=this.DEFAULT_TEMPLATES={GROUPS:{query:'TYPE:"cm:authorityContainer"',properties:["cm:authorityDisplayName","cm:authorityName","ccm:groupType","ccm:groupEmail","ccm:groupScope","ccm:groupSource"].join("\n"),isDefault:!0},ORGS:{query:'TYPE:"cm:authorityContainer"',properties:["cm:authorityDisplayName","cm:authorityName","ccm:edu_homedir","ccm:groupType","ccm:groupEmail","ccm:groupScope","ccm:groupSource"].join("\n"),isDefault:!0},PERSONS:{query:'TYPE:"cm:person"',properties:["cm:userName","cm:firstName","cm:lastName","cm:email","cm:esuid","cm:homeFolder","cm:esLastLogin"].join("\n"),isDefault:!0},CREATED_CONTENTS_BY_PERSON:{query:'@cm\\:creator:"user" OR @cm\\:modifier:"user"',properties:["sys:node-uuid","cm:name","cclom:title","cm:creator","cm:created","cm:modifier","cm:modified","cclom:general_keyword","ccm:comment_content"].join("\n"),isDefault:!0},BROKEN_LINKS:{query:'ISNOTNULL:"ccm:location_status" AND NOT @ccm\\:location_status:"200"',properties:["sys:node-uuid","cm:name","cclom:title","cm:created","cm:modified","cclom:general_keyword","cclom:location","ccm:replicationsource","ccm:replicationsourceid"].join("\n"),isDefault:!0}};constructor(s,e,i,n){this.dialogs=s,this.storage=e,this.toast=i,this.translate=n,this.queryChange=new t.vpe,this.propertiesChange=new t.vpe,this.isNewTemplateDialogVisible=!1,this.newTemplateDialogButtons=[new p.Qd("CLOSE",{color:"standard"},()=>{this.closeNewTemplateDialog()}),new p.Qd("ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CREATE_BUTTON",{color:"primary"},()=>this.createNewTemplate())],this.storage.get(D.STORAGE_KEY).subscribe(a=>{this.templates=a??{};for(const r of Object.keys(D.DEFAULT_TEMPLATES))this.templates[this.translate.instant("ADMIN.BROWSER.LUCENE_DEFAULT_TEMPLATES."+r)]=D.DEFAULT_TEMPLATES[r]})}ngOnInit(){}createNewTemplate(){if(this.newTemplateName)if(this.newTemplateName in this.templates){if(this.templates[this.newTemplateName].isDefault)return void this.toast.error(null,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.DEFAULT_TEMPLATE_OVERRIDE");this.confirmUpdateTemplate(this.newTemplateName).then(s=>{s&&this.closeNewTemplateDialog()})}else this.templates[this.newTemplateName]={query:this.query,properties:this.properties},this.updateStorage(),this.selectedTemplate=this.newTemplateName,this.closeNewTemplateDialog()}closeNewTemplateDialog(){this.isNewTemplateDialogVisible=!1,this.newTemplateName=""}loadTemplate(s){this.selectedTemplate=s,this.query=this.templates[s].query,this.queryChange.emit(this.query),this.properties=this.templates[s].properties,this.propertiesChange.emit(this.properties)}confirmUpdateTemplate(s){var e=this;return(0,h.Z)(function*(){return"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_UPDATE_BUTTON"===(yield(yield e.dialogs.openGenericDialog({title:"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_UPDATE_TITLE",message:"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_UPDATE_MESSAGE",messageParameters:{template:s},buttons:[{label:"CANCEL",config:{color:"standard"}},{label:"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_UPDATE_BUTTON",config:{color:"primary"}}]})).afterClosed().toPromise())&&(e.updateTemplate(s),!0)})()}confirmDeleteTemplate(s){var e=this;return(0,h.Z)(function*(){(yield e.dialogs.openGenericDialog({title:"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_DELETE_TITLE",message:"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_DELETE_MESSAGE",messageParameters:{template:s},buttons:[{label:"CANCEL",config:{color:"standard"}},{label:"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_DELETE_BUTTON",config:{color:"danger"}}]})).afterClosed().subscribe(n=>{"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.CONFIRM_DELETE_BUTTON"===n&&e.deleteTemplate(s)})})()}updateTemplate(s){this.templates[s]={query:this.query,properties:this.properties},this.updateStorage()}deleteTemplate(s){this.selectedTemplate=null,delete this.templates[s],this.updateStorage()}updateStorage(){const s={};Object.keys(this.templates).filter(e=>!this.templates[e].isDefault).forEach(e=>s[e]=this.templates[e]),this.storage.set(D.STORAGE_KEY,s)}static#n=this.\u0275fac=function(e){return new(e||D)(t.Y36(w.H),t.Y36(p.uR),t.Y36(b.F),t.Y36(x.sK))};static#o=this.\u0275cmp=t.Xpm({type:D,selectors:[["es-lucene-template-memory"]],inputs:{query:"query",properties:"properties"},outputs:{queryChange:"queryChange",propertiesChange:"propertiesChange"},decls:23,vars:22,consts:[[1,"mat-menu-template"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["height","auto",3,"title","buttons","onCancel",4,"ngIf"],[1,"buttons"],["mat-raised-button","",3,"click"],["mat-raised-button","",3,"matMenuTriggerFor","disabled"],["esIcon","arrow_drop_down",1,"drop-down-arrow"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["height","auto",3,"title","buttons","onCancel"],[1,"modal-card-content"],["matInput","",3,"ngModel","ngModelChange","keydown.enter"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"mat-menu",0,1),t.YNc(2,Xn,2,1,"button",2),t.ALo(3,"keyvalue"),t.qZA(),t.YNc(4,$n,11,11,"es-card",3),t.TgZ(5,"fieldset")(6,"legend"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-hint"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",4)(13,"button",5),t.NdJ("click",function(){return i.isNewTemplateDialogVisible=!0}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",6),t.ALo(17,"json"),t._uU(18),t.ALo(19,"translate"),t._UZ(20,"i",7),t.qZA(),t.YNc(21,zn,3,7,"button",8),t.YNc(22,to,3,6,"button",9),t.qZA()()),2&e){const n=t.MAs(1);t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,10,i.templates)),t.xp6(2),t.Q6J("ngIf",i.isNewTemplateDialogVisible),t.xp6(3),t.Oqu(t.lcZ(8,12,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.GROUP_LABEL")),t.xp6(3),t.Oqu(t.lcZ(11,14,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.HINT")),t.xp6(4),t.hij(" ",t.lcZ(15,16,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.NEW_BUTTON")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",n)("disabled",!i.templates||"{}"===t.lcZ(17,18,i.templates)),t.xp6(2),t.hij(" ",t.lcZ(19,20,"ADMIN.BROWSER.LUCENE_TEMPLATE_MEMORY.LOAD_BUTTON")," "),t.xp6(3),t.Q6J("ngIf",i.selectedTemplate&&!i.templates[i.selectedTemplate].isDefault),t.xp6(1),t.Q6J("ngIf",i.selectedTemplate&&!i.templates[i.selectedTemplate].isDefault)}},dependencies:[st.A,C.sg,C.O5,d.ar,g.Fj,g.JJ,g.On,I.lW,A.KE,A.hX,A.bx,y.Nt,tt.VK,tt.OP,tt.p6,C.Ts,C.Nd,x.X$],styles:[".modal-card-content[_ngcontent-%COMP%]{padding:0 25px}.modal-card-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}  .mat-menu-template{max-width:400px}fieldset[_ngcontent-%COMP%]{border:none}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{padding-bottom:.25em}fieldset[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{display:block;margin-bottom:.25em}fieldset[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:10px 0}fieldset[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:12px}fieldset[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-of-type){margin-right:20px}fieldset[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .drop-down-arrow[_ngcontent-%COMP%]{margin-right:-10px;margin-left:5px}"]})}const eo=["searchResults"],no=["actionbarComponent"],oo=["keyValueTable"],io=["catalinaRef"],ao=["xmlSelect"],so=["excelSelect"],ro=["templateSelect"],co=["dynamic"];function lo(o,s){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.Oqu(e.key)}}function _o(o,s){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.Oqu(e.value)}}function po(o,s){1&o&&t._UZ(0,"tr",28)}const go=function(){return["key","value"]};function uo(o,s){1&o&&(t.TgZ(0,"table",22),t.ynx(1,23),t.YNc(2,lo,2,1,"td",24),t.BQk(),t.ynx(3,25),t.YNc(4,_o,2,1,"td",24),t.BQk(),t.YNc(5,po,1,0,"tr",26),t.qZA()),2&o&&(t.Q6J("dataSource",s.$implicit),t.xp6(5),t.Q6J("matRowDefColumns",t.DdM(2,go)))}const Y=function(){return{standalone:!0}};function mo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"es-card",29),t.ALo(1,"translate"),t.TgZ(2,"div",30)(3,"div",31),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-checkbox",32),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.jobForceCancel=n)}),t.TgZ(7,"es-multi-line-label"),t.ynx(8,33),t._uU(9),t.ALo(10,"translate"),t.BQk(),t.TgZ(11,"span",34),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("title",t.lcZ(1,7,"ADMIN.JOBS.CANCEL_TITLE"))("buttons",e.cancelJobButtons),t.xp6(4),t.Oqu(t.lcZ(5,9,"ADMIN.JOBS.CANCEL_MESSAGE")),t.xp6(2),t.Q6J("ngModel",e.jobForceCancel)("ngModelOptions",t.DdM(15,Y)),t.xp6(3),t.hij(" ",t.lcZ(10,11,"ADMIN.JOBS.CANCEL_FORCE")," "),t.xp6(3),t.hij(" ",t.lcZ(13,13,"ADMIN.JOBS.CANCEL_FORCE_INFO")," ")}}function ho(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.setMode(a.id))})("keyup.enter",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.setMode(a.id))}),t._UZ(1,"i",36),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&o){const e=s.$implicit,i=t.oxw();t.ekj("active",i.mode==e.id),t.xp6(1),t.Q6J("esIcon",e.icon),t.xp6(2),t.Oqu(t.lcZ(4,4,"ADMIN.MODE."+e.id))}}function Co(o,s){}function Ao(o,s){1&o&&t.YNc(0,Co,0,0,"ng-template",null,37,t.W1O)}function Mo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.KtG(n.callback())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,"ADMIN.INFO.CHECK."+e.name+".SOLUTION_LINK",e.translate)," ")}}function fo(o,s){if(1&o&&(t.TgZ(0,"div",53)(1,"i",52),t._uU(2,"forward"),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"div"),t.YNc(7,Mo,3,4,"button",54),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.xi3(5,2,"ADMIN.INFO.CHECK."+e.name+".SOLUTION",e.translate)," "),t.xp6(3),t.Q6J("ngIf","OK"!==e.status&&e.callback)}}function Oo(o,s){if(1&o&&(t.TgZ(0,"div",47)(1,"div",48)(2,"div",49),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",50),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,fo,8,5,"div",51),t.qZA(),t.TgZ(9,"i",52),t._uU(10),t.qZA()()),2&o){const e=s.$implicit;t.ekj("check-fail","FAIL"===e.status)("check-ok","OK"===e.status)("check-info","INFO"===e.status)("check-warn","WARN"===e.status),t.xp6(3),t.hij(" ",t.xi3(4,12,"ADMIN.INFO.CHECK."+e.name+".TITLE",e.translate)," "),t.xp6(3),t.hij(" ",t.xi3(7,15,"ADMIN.INFO.CHECK."+e.name+".STATUS_"+e.status,e.translate)," "),t.xp6(2),t.Q6J("ngIf","OK"!==e.status&&"INFO"!==e.status),t.xp6(2),t.Oqu("OK"===e.status?"check":"error_outline")}}function To(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",53)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"div")(5,"button",55),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.fixTp(n))}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()}2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"ADMIN.INFO.TP_CHECK.AUTO_FIX")," "),t.xp6(4),t.hij(" ",t.lcZ(7,4,"ADMIN.INFO.TP_CHECK.AUTO_FIX_LINK")," "))}function xo(o,s){if(1&o&&(t.TgZ(0,"div",47)(1,"div",48)(2,"div",49),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",56),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,To,8,6,"div",51),t.qZA(),t.TgZ(9,"i",52),t._uU(10),t.qZA()()),2&o){const e=s.$implicit;t.ekj("check-fail","FAIL"===e.status)("check-ok","OK"===e.status)("check-info","INFO"===e.status)("check-warn","WARN"===e.status),t.xp6(3),t.Oqu(t.lcZ(4,12,"TOOLPERMISSION."+e.name)),t.xp6(3),t.Oqu(t.lcZ(7,14,e.name)),t.xp6(2),t.Q6J("ngIf","OK"!==e.status&&"INFO"!==e.status),t.xp6(2),t.Oqu("OK"===e.status?"check":"error_outline")}}function Io(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",39),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",40),t._uU(5),t.qZA(),t.TgZ(6,"div",39),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",41)(10,"div",42)(11,"i",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.runChecks())}),t._uU(12,"refresh"),t.qZA()(),t.YNc(13,Oo,11,18,"div",44),t.qZA(),t.TgZ(14,"div",39),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",45)(18,"div",42)(19,"i",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.runTpChecks())}),t._uU(20,"refresh"),t.qZA()(),t.TgZ(21,"div",46),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.YNc(24,xo,11,16,"div",44),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,7,"ADMIN.INFO.REPOSITORY")),t.xp6(3),t.Oqu(e.repositoryVersion),t.xp6(2),t.Oqu(t.lcZ(8,9,"ADMIN.INFO.SYSTEM_CHECKS")),t.xp6(6),t.Q6J("ngForOf",e.getChecks(e.systemChecks)),t.xp6(2),t.Oqu(t.lcZ(16,11,"ADMIN.INFO.SYSTEM_TP_CHECKS")),t.xp6(7),t.Oqu(t.lcZ(23,13,"ADMIN.INFO.TP_CHECK.INFO")),t.xp6(2),t.Q6J("ngForOf",e.getChecks(e.tpChecks))}}const Po=function(o){return{xml:o}};function No(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"button",68),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.editApp(a))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,"ADMIN.APPLICATIONS.EDIT_APP",t.VKq(4,Po,e.file))," ")}}function Eo(o,s){if(1&o&&(t.TgZ(0,"mat-option",69),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function vo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",57)(1,"div",39)(2,"i",52),t._uU(3,"build"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",58),t.YNc(8,No,4,6,"div",59),t.qZA(),t.TgZ(9,"div",39)(10,"i",52),t._uU(11,"mail"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",60)(16,"form",61,62),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.testMail())}),t.TgZ(18,"div",63)(19,"div",46),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-form-field")(23,"mat-label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"input",64),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.mailReceiver=n)}),t.qZA()()(),t.TgZ(27,"div",63)(28,"div",46),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"mat-select",65),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.mailTemplate=n)}),t.YNc(36,Eo,2,2,"mat-option",66),t.qZA()()(),t.TgZ(37,"button",67),t._uU(38),t.ALo(39,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,13,"ADMIN.CONFIG.XML_CONFIG")),t.xp6(3),t.Q6J("ngForOf",e.editableXmls),t.xp6(5),t.Oqu(t.lcZ(14,15,"ADMIN.CONFIG.TEST_MAIL")),t.xp6(7),t.Oqu(t.lcZ(21,17,"ADMIN.CONFIG.TEST_MAIL_RECEIVER")),t.xp6(4),t.Oqu(t.lcZ(25,19,"ADMIN.CONFIG.TEST_MAIL_RECEIVER_LABEL")),t.xp6(2),t.Q6J("ngModel",e.mailReceiver),t.xp6(3),t.Oqu(t.lcZ(30,21,"ADMIN.CONFIG.TEST_MAIL_TEMPLATE")),t.xp6(4),t.Oqu(t.lcZ(34,23,"ADMIN.CONFIG.TEST_MAIL_TEMPLATE_LABEL")),t.xp6(2),t.Q6J("ngModel",e.mailTemplate),t.xp6(1),t.Q6J("ngForOf",e.mailTemplates),t.xp6(1),t.ekj("disabled",!e.mailReceiver||!e.mailTemplate),t.xp6(1),t.hij(" ",t.lcZ(39,25,"ADMIN.CONFIG.TEST_MAIL_SEND")," ")}}function bo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",70)(1,"es-admin-statistics",71),t.NdJ("onOpenNode",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.openNodeRender(n))}),t.qZA()()}}function Zo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",72)(1,"es-admin-mediacenter",71),t.NdJ("onOpenNode",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.openNodeRender(n))}),t.qZA()()}}function Lo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",73)(1,"es-admin-frontpage",71),t.NdJ("onOpenNode",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.openNodeRender(n))}),t.qZA()()}}function Do(o,s){1&o&&(t.TgZ(0,"div",74),t._UZ(1,"es-admin-config"),t.qZA())}function So(o,s){1&o&&(t.TgZ(0,"div",75),t._UZ(1,"app-admin-plugins"),t.qZA())}function Ro(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",104),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.configApp(n))}),t._UZ(1,"i",108),t.qZA()}}function yo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",95),t._uU(2),t.qZA(),t.TgZ(3,"div",49),t._uU(4),t.qZA(),t.TgZ(5,"div",96),t._uU(6),t.qZA(),t.TgZ(7,"div",97),t._uU(8),t.qZA(),t.TgZ(9,"div",98),t._uU(10),t.qZA(),t.TgZ(11,"div",99),t.YNc(12,Ro,2,0,"button",103),t.qZA(),t.TgZ(13,"div",100)(14,"button",104),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.editApp(a))}),t._UZ(15,"i",105),t.qZA()(),t.TgZ(16,"div",101)(17,"button",104),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.downloadApp(a))}),t._UZ(18,"i",106),t.qZA()(),t.TgZ(19,"div",102)(20,"button",104),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.removeApp(a))}),t._UZ(21,"i",107),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.file),t.xp6(2),t.Oqu(e.repositoryType),t.xp6(2),t.Oqu(e.subtype),t.xp6(2),t.Q6J("ngIf",e.configUrl)}}function wo(o,s){if(1&o&&(t.TgZ(0,"mat-expansion-panel",92)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.TgZ(4,"div",93)(5,"div",94)(6,"div",95),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",49),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",96),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",97),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",98),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"div",99),t._uU(22,"\xa0"),t.qZA(),t.TgZ(23,"div",100),t._uU(24,"\xa0"),t.qZA(),t.TgZ(25,"div",101),t._uU(26,"\xa0"),t.qZA(),t.TgZ(27,"div",102),t._uU(28,"\xa0"),t.qZA()(),t.YNc(29,yo,22,6,"div",59),t.qZA()()),2&o){const e=s.$implicit,i=t.oxw(2);t.Q6J("expanded",!0),t.xp6(3),t.AsE("",e," (",i.getApplications(e).length,")"),t.xp6(4),t.Oqu(t.lcZ(8,9,"ADMIN.APPLICATIONS.ID")),t.xp6(3),t.Oqu(t.lcZ(11,11,"ADMIN.APPLICATIONS.TITLE")),t.xp6(3),t.Oqu(t.lcZ(14,13,"ADMIN.APPLICATIONS.FILE")),t.xp6(3),t.Oqu(t.lcZ(17,15,"ADMIN.APPLICATIONS.REPOTYPE")),t.xp6(3),t.Oqu(t.lcZ(20,17,"ADMIN.APPLICATIONS.SUBTYPE")),t.xp6(10),t.Q6J("ngForOf",i.getApplications(e))}}function qo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",76)(1,"input",77,78),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.registerAppXml(n))}),t.qZA(),t.TgZ(3,"form",79)(4,"h4",80)(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div")(9,"mat-form-field")(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",81),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.appUrl=n)}),t.qZA(),t.TgZ(14,"mat-hint"),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"div")(18,"button",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.registerApp())}),t._uU(19),t.ALo(20,"translate"),t.qZA()()(),t.TgZ(21,"div")(22,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(2);return t.KtG(n.click())}),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",83),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"form",79)(29,"h4",80)(30,"span"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"mat-label"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"mat-radio-group",84),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.ownAppMode=n)}),t.TgZ(37,"mat-radio-button",85),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-radio-button",86),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"mat-radio-button",87),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"div")(47,"mat-form-field")(48,"mat-label"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._UZ(51,"input",88),t.TgZ(52,"mat-hint"),t._uU(53),t.ALo(54,"translate"),t.qZA()(),t.TgZ(55,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.copyOwnApp())}),t._uU(56),t.ALo(57,"translate"),t.qZA()(),t._UZ(58,"div"),t.qZA(),t.TgZ(59,"h4",80)(60,"span"),t._uU(61),t.ALo(62,"translate"),t.qZA()(),t.TgZ(63,"es-lti-admin",89),t.NdJ("onRefreshAppList",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshAppList())}),t.qZA(),t.TgZ(64,"h4",80)(65,"span"),t._uU(66),t.ALo(67,"translate"),t.qZA()(),t.TgZ(68,"es-ltitool-admin",89),t.NdJ("onRefreshAppList",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshAppList())}),t.qZA(),t.TgZ(69,"h4",80)(70,"span"),t._uU(71),t.ALo(72,"translate"),t.qZA()(),t.TgZ(73,"mat-accordion",90),t.YNc(74,wo,30,19,"mat-expansion-panel",91),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,22,"ADMIN.APPLICATIONS.ADD_APPLICATION")),t.xp6(5),t.Oqu(t.lcZ(12,24,"ADMIN.APPLICATIONS.URL")),t.xp6(2),t.Q6J("ngModel",e.appUrl),t.xp6(2),t.Oqu(t.lcZ(16,26,"ADMIN.APPLICATIONS.URL_HINT")),t.xp6(4),t.hij(" ",t.lcZ(20,28,"ADMIN.APPLICATIONS.ADD_URL")," "),t.xp6(4),t.hij(" ",t.lcZ(24,30,"ADMIN.APPLICATIONS.SELECT_XML")," "),t.xp6(3),t.Oqu(t.lcZ(27,32,"ADMIN.APPLICATIONS.USE_FILE")),t.xp6(5),t.Oqu(t.lcZ(32,34,"ADMIN.APPLICATIONS.USE_OWN_URL")),t.xp6(3),t.Oqu(t.lcZ(35,36,"ADMIN.APPLICATIONS.CHOOSE_APP_MODE")),t.xp6(2),t.Q6J("ngModel",e.ownAppMode),t.xp6(2),t.Oqu(t.lcZ(39,38,"ADMIN.APPLICATIONS.APP_MODE.REPOSITORY")),t.xp6(3),t.Oqu(t.lcZ(42,40,"ADMIN.APPLICATIONS.APP_MODE.RENDER")),t.xp6(3),t.Oqu(t.lcZ(45,42,"ADMIN.APPLICATIONS.APP_MODE.LMS")),t.xp6(5),t.Oqu(t.lcZ(50,44,"ADMIN.APPLICATIONS.OWN_URL")),t.xp6(2),t.Q6J("ngModel",e.getOwnAppUrl()),t.xp6(2),t.Oqu(t.lcZ(54,46,"ADMIN.APPLICATIONS.OWN_URL_HINT")),t.xp6(3),t.hij(" ",t.lcZ(57,48,"ADMIN.APPLICATIONS.COPY")," "),t.xp6(5),t.Oqu(t.lcZ(62,50,"ADMIN.LTI.HEADER")),t.xp6(5),t.Oqu(t.lcZ(67,52,"ADMIN.LTITOOL.HEADER")),t.xp6(5),t.Oqu(t.lcZ(72,54,"ADMIN.APPLICATIONS.LIST")),t.xp6(2),t.Q6J("multi",!0),t.xp6(1),t.Q6J("ngForOf",e.getAppTypes())}}function Uo(o,s){1&o&&(t.TgZ(0,"div",113),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.UPDATE.NOT_EXECUTED")," "))}function Go(o,s){if(1&o&&(t.TgZ(0,"div",113),t._uU(1),t.ALo(2,"formatDate"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.executedAt))}}function Fo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",118)(1,"div",95),t._uU(2),t.qZA(),t.TgZ(3,"div",50),t._uU(4),t.qZA(),t.YNc(5,Uo,3,3,"div",119),t.YNc(6,Go,3,3,"div",119),t.TgZ(7,"div",114)(8,"button",120),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.runUpdate(a,!1))}),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"div",115)(12,"button",82),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.runUpdate(a,!0))}),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&o){const e=s.$implicit;t.ekj("table-not-executed",!e.executedAt),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf",!e.executedAt),t.xp6(1),t.Q6J("ngIf",e.executedAt),t.xp6(3),t.hij(" ",t.lcZ(10,10,"ADMIN.UPDATE.TEST")," "),t.xp6(3),t.ekj("disabled",e.executedAt),t.xp6(1),t.hij(" ",t.lcZ(14,12,"ADMIN.UPDATE.RUN")," ")}}function Jo(o,s){1&o&&t._UZ(0,"es-spinner",121)}function ko(o,s){if(1&o&&(t.TgZ(0,"div",109)(1,"div",110),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",111)(5,"div",112)(6,"div",95),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",50),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",113),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",114),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",115),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.YNc(21,Fo,15,14,"div",116),t.qZA(),t.YNc(22,Jo,1,0,"es-spinner",117),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,8,"ADMIN.UPDATE.HINT")," "),t.xp6(5),t.Oqu(t.lcZ(8,10,"ADMIN.UPDATE.ID")),t.xp6(3),t.Oqu(t.lcZ(11,12,"ADMIN.UPDATE.DESCRIPTION")),t.xp6(3),t.Oqu(t.lcZ(14,14,"ADMIN.UPDATE.DATE")),t.xp6(3),t.Oqu(t.lcZ(17,16,"ADMIN.UPDATE.TEST")),t.xp6(3),t.Oqu(t.lcZ(20,18,"ADMIN.UPDATE.RUN")),t.xp6(2),t.Q6J("ngForOf",e.updates),t.xp6(1),t.Q6J("ngIf",0===e.updates.length)}}function jo(o,s){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.AsE(" ",e.parentCollection.title," (",e.parentCollection.ref.id,") ")}}function Ho(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",126)(1,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.chooseCollection())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",134),t.YNc(5,jo,2,2,"div",7),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"ADMIN.IMPORT.CHOOSE_COLLECTION")," "),t.xp6(3),t.Q6J("ngIf",e.parentCollection)}}function Qo(o,s){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("",e.parentNode.name," (",e.parentNode.ref.id,")")}}function Yo(o,s){if(1&o&&(t.TgZ(0,"mat-option",69),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ko(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.url=n)}),t.qZA(),t.TgZ(6,"mat-hint"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"mat-form-field")(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.set=n)}),t.qZA()(),t.TgZ(14,"mat-form-field")(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.prefix=n)}),t.qZA()(),t.TgZ(19,"mat-form-field")(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.metadata=n)}),t.qZA()(),t.TgZ(24,"mat-form-field")(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.file=n)}),t.qZA()(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.ids=n)}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.from=n)}),t.qZA()(),t.TgZ(39,"mat-form-field")(40,"mat-label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.until=n)}),t.qZA()(),t.TgZ(44,"mat-form-field")(45,"mat-label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.periodInDays=n)}),t.qZA()(),t.TgZ(49,"mat-form-field")(50,"mat-label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"mat-select",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.className=n)}),t.YNc(54,Yo,2,2,"mat-option",66),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,22,"ADMIN.IMPORT.OAI_URL")),t.xp6(2),t.Q6J("ngModel",e.oai.url),t.xp6(2),t.Oqu(t.lcZ(8,24,"ADMIN.IMPORT.OAI_URL_EXAMPLE")),t.xp6(4),t.Oqu(t.lcZ(12,26,"ADMIN.IMPORT.OAI_SET")),t.xp6(2),t.Q6J("ngModel",e.oai.set),t.xp6(3),t.Oqu(t.lcZ(17,28,"ADMIN.IMPORT.OAI_PREFIX")),t.xp6(2),t.Q6J("ngModel",e.oai.prefix),t.xp6(3),t.Oqu(t.lcZ(22,30,"ADMIN.IMPORT.OAI_METADATA")),t.xp6(2),t.Q6J("ngModel",e.oai.metadata),t.xp6(3),t.Oqu(t.lcZ(27,32,"ADMIN.IMPORT.OAI_FILE")),t.xp6(2),t.Q6J("ngModel",e.oai.file),t.xp6(3),t.Oqu(t.lcZ(32,34,"ADMIN.IMPORT.OAI_IDS")),t.xp6(2),t.Q6J("ngModel",e.oai.ids),t.xp6(3),t.hij("",t.lcZ(37,36,"ADMIN.IMPORT.OAI_FROM")," (yyyy-MM-dd)"),t.xp6(2),t.Q6J("ngModel",e.oai.from),t.xp6(3),t.hij("",t.lcZ(42,38,"ADMIN.IMPORT.OAI_UNTIL")," (yyyy-MM-dd)"),t.xp6(2),t.Q6J("ngModel",e.oai.until),t.xp6(3),t.Oqu(t.lcZ(47,40,"ADMIN.IMPORT.OAI_PERIOD_IN_DAYS")),t.xp6(2),t.Q6J("ngModel",e.oai.periodInDays),t.xp6(3),t.Oqu(t.lcZ(52,42,"ADMIN.IMPORT.OAI_CLASS_NAME")),t.xp6(2),t.Q6J("ngModel",e.oai.className),t.xp6(1),t.Q6J("ngForOf",e.oaiClasses)}}function Bo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",143)(1,"mat-checkbox",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.oai.forceUpdate=n)}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.oai.forceUpdate),t.xp6(1),t.Oqu(t.lcZ(3,2,"ADMIN.IMPORT.OAI_FORCE_UPDATE"))}}function Wo(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",122)(1,"div",39)(2,"i",52),t._uU(3,"layers"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",123)(8,"input",124,125),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateCollectionsFile(n))}),t.qZA(),t.TgZ(10,"div",126)(11,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(9);return t.KtG(n.click())}),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",96),t._uU(15),t.qZA()(),t.TgZ(16,"mat-radio-group",127),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.parentCollectionType=n)}),t.TgZ(17,"mat-radio-button",128),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"mat-radio-button",129),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.YNc(23,Ho,6,4,"div",130),t.TgZ(24,"button",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.importCollections())}),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"div",39)(28,"i",52),t._uU(29,"table_chart"),t.qZA(),t.TgZ(30,"span"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"div",131)(34,"input",132,133),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateExcelFile(n))}),t.qZA(),t.TgZ(36,"div",126)(37,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(35);return t.KtG(n.click())}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",96),t._uU(41),t.qZA()(),t.TgZ(42,"div",126)(43,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.chooseDirectory())}),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",134),t.YNc(47,Qo,2,2,"div",7),t.qZA()(),t.TgZ(48,"button",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.importExcel())}),t._uU(49),t.ALo(50,"translate"),t.qZA()(),t.TgZ(51,"div",39)(52,"i",52),t._uU(53,"description"),t.qZA(),t.TgZ(54,"span"),t._uU(55),t.ALo(56,"translate"),t.qZA()(),t.TgZ(57,"div",135)(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"input",136,137),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateUploadOaiFile(n))}),t.qZA(),t.TgZ(63,"div",126)(64,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(62);return t.KtG(n.click())}),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"div",96),t._uU(68),t.qZA()(),t.YNc(69,Ko,55,44,"div",7),t.TgZ(70,"mat-form-field")(71,"mat-label"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.oai.importerClassName=n)}),t.qZA(),t.TgZ(75,"mat-hint"),t._uU(76),t.ALo(77,"translate"),t.qZA()(),t.TgZ(78,"mat-form-field")(79,"mat-label"),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.oai.recordHandlerClassName=n)}),t.qZA(),t.TgZ(83,"mat-hint"),t._uU(84),t.ALo(85,"translate"),t.qZA()(),t.TgZ(86,"mat-form-field")(87,"mat-label"),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.oai.binaryHandlerClassName=n)}),t.qZA(),t.TgZ(91,"mat-hint"),t._uU(92),t.ALo(93,"translate"),t.qZA()(),t.TgZ(94,"mat-form-field")(95,"mat-label"),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.oai.persistentHandlerClassName=n)}),t.qZA(),t.TgZ(99,"mat-hint"),t._uU(100),t.ALo(101,"translate"),t.qZA()(),t.YNc(102,Bo,4,4,"div",139),t.TgZ(103,"div",140)(104,"mat-checkbox",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.oaiSave=n)}),t._uU(105),t.ALo(106,"translate"),t.qZA()(),t.TgZ(107,"div",142)(108,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.removeImports())}),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.TgZ(111,"button",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.oaiImport())}),t._uU(112),t.ALo(113,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,36,"ADMIN.IMPORT.COLLECTION")),t.xp6(7),t.hij(" ",t.lcZ(13,38,"ADMIN.IMPORT.CHOOSE_COLLECTIONS_XML")," "),t.xp6(3),t.Oqu(e.collectionsFile?e.collectionsFile.name:""),t.xp6(1),t.Q6J("ngModel",e.parentCollectionType),t.xp6(2),t.Oqu(t.lcZ(19,40,"ADMIN.IMPORT.PARENT_COLLECTION_ROOT")),t.xp6(3),t.Oqu(t.lcZ(22,42,"ADMIN.IMPORT.PARENT_COLLECTION_CHOOSE")),t.xp6(2),t.Q6J("ngIf","choose"===e.parentCollectionType),t.xp6(2),t.hij(" ",t.lcZ(26,44,"ADMIN.IMPORT.COLLECTION_START")," "),t.xp6(6),t.Oqu(t.lcZ(32,46,"ADMIN.IMPORT.EXCEL")),t.xp6(7),t.hij(" ",t.lcZ(39,48,"ADMIN.IMPORT.CHOOSE_EXCEL")," "),t.xp6(3),t.Oqu(e.excelFile?e.excelFile.name:""),t.xp6(3),t.hij(" ",t.lcZ(45,50,"ADMIN.IMPORT.CHOOSE_DIRECTORY")," "),t.xp6(3),t.Q6J("ngIf",e.parentNode),t.xp6(2),t.hij(" ",t.lcZ(50,52,"ADMIN.IMPORT.EXCEL_START")," "),t.xp6(6),t.Oqu(t.lcZ(56,54,"ADMIN.IMPORT.OAI")),t.xp6(4),t.Oqu(t.lcZ(60,56,"ADMIN.IMPORT.OAI_XML")),t.xp6(6),t.hij(" ",t.lcZ(66,58,"ADMIN.TOOLKIT.CHOOSE_UPLOAD_TEMP")," "),t.xp6(3),t.Oqu(e.uploadOaiFile?e.uploadOaiFile.name:""),t.xp6(1),t.Q6J("ngIf",!e.uploadOaiFile),t.xp6(3),t.Oqu(t.lcZ(73,60,"ADMIN.IMPORT.OAI_IMPORTER_CLASS_NAME")),t.xp6(2),t.Q6J("ngModel",e.oai.importerClassName),t.xp6(2),t.Oqu(t.lcZ(77,62,"ADMIN.IMPORT.OAI_IMPORTER_CLASS_NAME_EXAMPLE")),t.xp6(4),t.Oqu(t.lcZ(81,64,"ADMIN.IMPORT.OAI_RECORD_HANDLER_CLASS_NAME")),t.xp6(2),t.Q6J("ngModel",e.oai.recordHandlerClassName),t.xp6(2),t.Oqu(t.lcZ(85,66,"ADMIN.IMPORT.OAI_RECORD_HANDLER_CLASS_NAME_EXAMPLE")),t.xp6(4),t.Oqu(t.lcZ(89,68,"ADMIN.IMPORT.OAI_BINARY_HANDLER_CLASS_NAME")),t.xp6(2),t.Q6J("ngModel",e.oai.binaryHandlerClassName),t.xp6(2),t.Oqu(t.lcZ(93,70,"ADMIN.IMPORT.OAI_BINARY_HANDLER_CLASS_NAME_EXAMPLE")),t.xp6(4),t.Oqu(t.lcZ(97,72,"ADMIN.IMPORT.OAI_PERSISTENT_HANDLER_CLASS_NAME")),t.xp6(2),t.Q6J("ngModel",e.oai.persistentHandlerClassName),t.xp6(2),t.Oqu(t.lcZ(101,74,"ADMIN.IMPORT.OAI_PERSISTENT_HANDLER_CLASS_NAME_EXAMPLE")),t.xp6(2),t.Q6J("ngIf",!e.uploadOaiFile),t.xp6(2),t.Q6J("ngModel",e.oaiSave),t.xp6(1),t.Oqu(t.lcZ(106,76,"ADMIN.IMPORT.OAI_SAVE")),t.xp6(4),t.hij(" ",t.lcZ(110,78,"ADMIN.IMPORT.REMOVE_IMPORTS")," "),t.xp6(3),t.hij(" ",t.lcZ(113,80,"ADMIN.IMPORT.OAI_START")," ")}}function Vo(o,s){1&o&&(t.TgZ(0,"div",39)(1,"i",52),t._uU(2,"done"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"ADMIN.JOBS.START_JOB")))}function Xo(o,s){if(1&o&&(t.TgZ(0,"div",157),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,e.job.name))}}function $o(o,s){if(1&o&&(t.TgZ(0,"div",158),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(e.job.class)}}function zo(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"[]"),t.qZA())}function ti(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"(file)"),t.qZA())}function ei(o,s){if(1&o&&(t.TgZ(0,"div",163)(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Oqu(e.description)}}function ni(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",161),t.YNc(2,ei,5,2,"div",162),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.values)}}function oi(o,s){1&o&&(t.ynx(0),t._uU(1," File "),t.BQk())}function ii(o,s){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.type.replace("java.lang.","")," ")}}function ai(o,s){if(1&o&&(t.ynx(0),t.YNc(1,oi,2,0,"ng-container",7),t.YNc(2,ii,2,1,"ng-container",7),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.file),t.xp6(1),t.Q6J("ngIf",!e.file)}}function si(o,s){if(1&o&&(t.TgZ(0,"div",163)(1,"div",164),t._uU(2),t.YNc(3,zo,2,0,"span",7),t.YNc(4,ti,2,0,"span",7),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div",165),t.YNc(8,ni,3,1,"ng-container",7),t.YNc(9,ai,3,2,"ng-container",7),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.array),t.xp6(1),t.Q6J("ngIf",e.file),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("ngIf",e.values),t.xp6(1),t.Q6J("ngIf",!e.values)}}function ri(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",159)(1,"h5",160),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",161),t.YNc(5,si,10,6,"div",162),t.qZA(),t.TgZ(6,"div")(7,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.setJobParamsTemplate())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,"ADMIN.JOBS.PARAMETERS")),t.xp6(3),t.Q6J("ngForOf",e.job.object.params),t.xp6(3),t.hij(" ",t.lcZ(9,5,"ADMIN.JOBS.APPLY_TEMPLATE")," ")}}function ci(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",63)(1,"input",166,167),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.updateUploadFile(n,"uploadJobsFile"))}),t.qZA(),t.TgZ(3,"label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",126)(7,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(2);return t.KtG(n.click())}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",96),t._uU(11),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,3,"ADMIN.JOBS.UPLOAD_FILE_LABEL")),t.xp6(4),t.hij(" ",t.lcZ(9,5,"ADMIN.JOBS.CHOOSE_UPLOAD_FILE")," "),t.xp6(3),t.Oqu(null==e.uploadJobsFile?null:e.uploadJobsFile.name)}}function li(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"section",60)(1,"form")(2,"div",63)(3,"div",46),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",149)(7,"es-autocomplete",150),t.NdJ("updateInput",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.updateJobSuggestions(n))})("addItem",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setJob(n))})("addAny",function(n){t.CHM(e);const a=t.oxw(2);return a.job.name="",t.KtG(a.job.class=n)}),t.qZA(),t.YNc(8,Xo,3,3,"div",151),t.YNc(9,$o,2,1,"div",152),t.qZA()(),t.YNc(10,ri,10,7,"div",153),t.TgZ(11,"ngx-monaco-editor",154),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.job.params=n)}),t.qZA(),t.YNc(12,ci,12,7,"div",155),t.TgZ(13,"button",156),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.startJob())}),t._uU(14),t.ALo(15,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,14,"ADMIN.JOBS.JOB_CLASS")),t.xp6(3),t.Q6J("suggestions",e.jobClassesSuggested)("allowAny",!0)("inputMinLength",1)("maxSuggestions",1e3),t.xp6(1),t.Q6J("ngIf",e.job&&e.job.name),t.xp6(1),t.Q6J("ngIf",e.job&&e.job.class),t.xp6(1),t.Q6J("ngIf",null==e.job.object||null==e.job.object.params?null:e.job.object.params.length),t.xp6(1),t.Q6J("options",e.jobCodeOptions)("ngModel",e.job.params)("ngModelOptions",t.DdM(18,Y)),t.xp6(1),t.Q6J("ngIf",e.supportsUpload(e.job.object)),t.xp6(1),t.Q6J("disabled",null===e.jobs),t.xp6(1),t.hij(" ",t.lcZ(15,16,"ADMIN.JOBS.START_JOB")," ")}}function _i(o,s){1&o&&(t.TgZ(0,"es-info-message"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.JOBS.CLUSTER_NOT_SUPPORTED")," "))}function di(o,s){1&o&&(t.TgZ(0,"div",168),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.JOBS.NO_JOBS")," "))}const ht=function(){return{time:!0,relative:!1}};function pi(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"formatDate"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.xi3(2,1,e.finishTime,t.DdM(4,ht))," ")}}function gi(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.JOBS.WITH_WARNINGS")))}function ui(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ADMIN.JOBS.WITH_ERRORS")))}function mi(o,s){1&o&&t._UZ(0,"es-spinner-small")}function hi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",180),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.cancelJob(n))}),t._UZ(1,"i",181),t.qZA()}}function Ci(o,s){if(1&o&&(t.TgZ(0,"i",52),t._uU(1),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw(2);t.xp6(1),t.Oqu(i.jobsOpen[e]?"keyboard_arrow_up":"keyboard_arrow_down")}}function Ai(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",187)(1,"mat-form-field",188)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",138),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2).index,r=t.oxw(2);return t.KtG(r.jobsLogFilter[a]=n)})("ngModelChange",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.updateJobLogs())}),t.qZA()(),t.TgZ(6,"mat-form-field",189)(7,"mat-label",190),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-select",191),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2).index,r=t.oxw(2);return t.KtG(r.jobsLogLevel[a]=n)})("ngModelChange",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.updateJobLogs())}),t.TgZ(11,"mat-option",192),t._uU(12,"Alles"),t.qZA(),t.TgZ(13,"mat-option",193),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-option",194),t._uU(17),t.ALo(18,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw(2).index,i=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,6,"ADMIN.JOBS.LOG_FILTER")),t.xp6(2),t.Q6J("ngModel",i.jobsLogFilter[e]),t.xp6(3),t.Oqu(t.lcZ(9,8,"ADMIN.JOBS.LOG_LEVEL")),t.xp6(2),t.Q6J("ngModel",i.jobsLogLevel[e]),t.xp6(4),t.Oqu(t.lcZ(15,10,"ADMIN.JOBS.LOG_LEVEL_4")),t.xp6(3),t.Oqu(t.lcZ(18,12,"ADMIN.JOBS.LOG_LEVEL_3"))}}const Mi=function(){return{time:!0,date:!1,relative:!1}};function fi(o,s){if(1&o&&(t.TgZ(0,"div",195)(1,"div",196),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",197),t._uU(5),t.ALo(6,"formatDate"),t.qZA(),t.TgZ(7,"div",198),t._uU(8),t.qZA(),t.TgZ(9,"div",199),t._uU(10),t.qZA()()),2&o){const e=s.$implicit;t.ekj("status-error",e.level.syslogEquivalent<=3)("status-warning",e.level.syslogEquivalent<=4),t.xp6(2),t.hij(" ",t.lcZ(3,8,"ADMIN.JOBS.LOG_LEVEL_"+e.level.syslogEquivalent)," "),t.xp6(3),t.hij(" ",t.xi3(6,10,e.date,t.DdM(13,Mi))," "),t.xp6(3),t.hij(" ",e.className.split(".")[e.className.split(".").length-1]," "),t.xp6(2),t.Oqu(e.message)}}function Oi(o,s){if(1&o&&(t.TgZ(0,"div",182),t.YNc(1,Ai,19,14,"div",183),t.TgZ(2,"div",170)(3,"div",184),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",185),t.YNc(7,fi,11,14,"div",186),t.qZA()()()),2&o){const e=t.oxw().index,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!==i.jobsLogData[e]),t.xp6(3),t.Oqu(t.lcZ(5,3,"ADMIN.JOBS.LOG")),t.xp6(3),t.Q6J("ngForOf",i.jobsLogData[e])}}function Ti(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",169)(1,"div",170)(2,"div",171)(3,"div",172)(4,"div",173),t._uU(5),t.qZA(),t.TgZ(6,"div",174),t._uU(7),t.qZA()(),t.TgZ(8,"div",175)(9,"div",113),t._uU(10),t.ALo(11,"formatDate"),t.YNc(12,pi,3,5,"span",7),t.qZA(),t.TgZ(13,"div")(14,"span"),t._uU(15),t.ALo(16,"translate"),t.YNc(17,gi,3,3,"span",7),t.YNc(18,ui,3,3,"span",7),t.qZA(),t.YNc(19,mi,1,0,"es-spinner-small",7),t.YNc(20,hi,2,0,"button",176),t.qZA()(),t.TgZ(21,"div",177),t.NdJ("click",function(){const n=t.CHM(e),a=n.$implicit,r=n.index,c=t.oxw(2);return t.KtG(null===a.log||null!=a.log&&a.log.length?c.jobsOpen[r]=!c.jobsOpen[r]:null)}),t.YNc(22,Ci,2,1,"i",178),t.qZA()(),t.YNc(23,Oi,8,5,"div",179),t.qZA()()}if(2&o){const e=s.$implicit,i=s.index,n=t.oxw(2);t.xp6(2),t.ekj("status-error",e.worstLevel.syslogEquivalent<=3)("status-warning",e.worstLevel.syslogEquivalent<=4)("status-fine",e.worstLevel.syslogEquivalent>=6)("status-aborted","Aborted"===e.status),t.xp6(3),t.Oqu(e.jobName),t.xp6(2),t.Oqu(e.jobClass),t.xp6(3),t.hij(" ",t.xi3(11,24,e.startTime,t.DdM(29,ht))," "),t.xp6(2),t.Q6J("ngIf",e.finishTime),t.xp6(1),t.Gre("job-status ",e.status.toLowerCase(),""),t.xp6(2),t.hij(" ",t.lcZ(16,27,"ADMIN.JOBS."+e.status)," "),t.xp6(2),t.Q6J("ngIf",4==e.worstLevel.syslogEquivalent),t.xp6(1),t.Q6J("ngIf",e.worstLevel.syslogEquivalent<4),t.xp6(1),t.Q6J("ngIf","Running"===e.status),t.xp6(1),t.Q6J("ngIf","Running"===e.status),t.xp6(1),t.ekj("clickable",null===e.log||(null==e.log?null:e.log.length)),t.xp6(1),t.Q6J("ngIf",null===e.log||(null==e.log?null:e.log.length)),t.xp6(1),t.Q6J("ngIf",n.jobsOpen[i])}}function xi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",144),t.YNc(1,Vo,6,3,"div",145),t.YNc(2,li,16,19,"section",146),t.TgZ(3,"div",39)(4,"i",52),t._uU(5,"history"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",60)(10,"div",42)(11,"i",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.reloadJobStatus())}),t._uU(12,"refresh"),t.qZA()(),t.YNc(13,_i,3,3,"es-info-message",7),t.YNc(14,di,3,3,"div",147),t.YNc(15,Ti,24,30,"div",148),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null!==e.jobs),t.xp6(1),t.Q6J("ngIf",null!==e.jobs),t.xp6(5),t.Oqu(t.lcZ(8,6,"ADMIN.JOBS.LIST")),t.xp6(6),t.Q6J("ngIf",null===e.jobs),t.xp6(1),t.Q6J("ngIf",0===(null==e.jobs?null:e.jobs.length)),t.xp6(1),t.Q6J("ngForOf",e.jobs)}}function Ii(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip-option",210),t.NdJ("removed",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.authenticateAuthority=null)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"authorityName"),t.qZA(),t._UZ(4,"i",211),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.authenticateAuthority))}}function Pi(o,s){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE("",e.parentNode.name," (",e.parentNode.ref.id,")")}}function Ni(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",200)(1,"div",39)(2,"i",52),t._uU(3,"refresh"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",60)(8,"div",46),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshAppInfo())}),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"div",60)(15,"div",39)(16,"i",52),t._uU(17,"person"),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"es-authority-search-input",201),t.NdJ("onChooseAuthority",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.authenticateAuthority=n)}),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"mat-chip-listbox"),t.YNc(24,Ii,5,3,"mat-chip-option",202),t.qZA(),t.TgZ(25,"button",156),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.authenticateAsUser())}),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"div",60)(29,"div",46),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshEduGroupCache())}),t._uU(33),t.ALo(34,"translate"),t.qZA()(),t.TgZ(35,"div",39)(36,"i",52),t._uU(37,"cached"),t.qZA(),t.TgZ(38,"span"),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div",60)(42,"form",61),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getCacheInfo())}),t.TgZ(43,"mat-form-field")(44,"input",203),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.cacheInfo=n)}),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"button",204),t._uU(47),t.ALo(48,"translate"),t.qZA()()(),t.TgZ(49,"div",205)(50,"div",126)(51,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.chooseDirectory())}),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",134),t.YNc(55,Pi,2,2,"div",7),t.qZA()(),t.TgZ(56,"div",60)(57,"div",126)(58,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshCache(!1))}),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshCache(!0))}),t._uU(62),t.ALo(63,"translate"),t.qZA()()(),t.TgZ(64,"div",206)(65,"mat-form-field")(66,"input",207),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.propertyName=n)}),t.ALo(67,"translate"),t.qZA()(),t.TgZ(68,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getPropertyValues())}),t._uU(69),t.ALo(70,"translate"),t.qZA()()(),t.TgZ(71,"div",39)(72,"i",52),t._uU(73,"file_upload"),t.qZA(),t.TgZ(74,"span"),t._uU(75),t.ALo(76,"translate"),t.qZA()(),t.TgZ(77,"div",60)(78,"input",166,208),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateUploadFile(n,"uploadTempFile"))}),t.qZA(),t.TgZ(80,"div",126)(81,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(79);return t.KtG(n.click())}),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.TgZ(84,"div",96),t._uU(85),t.qZA()(),t.TgZ(86,"button",209),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.startUploadTempFile())}),t._uU(87),t.ALo(88,"translate"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,28,"ADMIN.TOOLKIT.REFRESH_APP")),t.xp6(4),t.Oqu(t.lcZ(10,30,"ADMIN.TOOLKIT.REFRESH_APP_INFO")),t.xp6(3),t.hij(" ",t.lcZ(13,32,"ADMIN.TOOLKIT.REFRESH_APP")," "),t.xp6(7),t.Oqu(t.lcZ(20,34,"ADMIN.TOOLKIT.AUTHENTICATE_AS_USER")),t.xp6(2),t.s9C("label",t.lcZ(22,36,"ADMIN.TOOLKIT.AUTHENTICATE_AS_USER")),t.Q6J("mode",e.AuthoritySearchMode.Users)("globalSearchAllowed",!0)("showRecent",!1),t.xp6(3),t.Q6J("ngIf",e.authenticateAuthority),t.xp6(1),t.Q6J("disabled",!e.authenticateAuthority),t.xp6(1),t.hij(" ",t.lcZ(27,38,"ADMIN.TOOLKIT.AUTHENTICATE")," "),t.xp6(4),t.Oqu(t.lcZ(31,40,"ADMIN.TOOLKIT.REFRESH_EDU_GROUP_CACHE")),t.xp6(3),t.hij(" ",t.lcZ(34,42,"ADMIN.TOOLKIT.REFRESH_EDU_GROUP_CACHE")," "),t.xp6(6),t.Oqu(t.lcZ(40,44,"ADMIN.TOOLKIT.CACHE")),t.xp6(5),t.s9C("placeholder",t.lcZ(45,46,"ADMIN.TOOLKIT.CACHE_NAME")),t.Q6J("ngModel",e.cacheInfo),t.xp6(3),t.hij(" ",t.lcZ(48,48,"ADMIN.TOOLKIT.CACHE_INFO")," "),t.xp6(5),t.hij(" ",t.lcZ(53,50,"ADMIN.TOOLKIT.CACHE_ROOT_FOLDER")," "),t.xp6(3),t.Q6J("ngIf",e.parentNode),t.xp6(4),t.hij(" ",t.lcZ(60,52,"ADMIN.TOOLKIT.REFRESH_CACHE")," "),t.xp6(3),t.hij(" ",t.lcZ(63,54,"ADMIN.TOOLKIT.STICKY_REFRESH_CACHE")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(67,56,"ADMIN.TOOLKIT.PROPERTY_NAME")),t.Q6J("ngModel",e.propertyName),t.xp6(3),t.hij(" ",t.lcZ(70,58,"ADMIN.TOOLKIT.PROPERTY_VALUESPACE")," "),t.xp6(6),t.Oqu(t.lcZ(76,60,"ADMIN.TOOLKIT.UPLOAD_TEMP")),t.xp6(7),t.hij(" ",t.lcZ(83,62,"ADMIN.TOOLKIT.CHOOSE_UPLOAD_TEMP")," "),t.xp6(3),t.Oqu(e.uploadTempFile?e.uploadTempFile.name:""),t.xp6(2),t.hij(" ",t.lcZ(88,64,"ADMIN.TOOLKIT.UPLOAD_TEMP_START")," ")}}function Ei(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"div",63)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"input",219),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.lucene.noderef=n)}),t.qZA()()(),t.TgZ(7,"button",209),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.searchNoderef())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,3,"ADMIN.BROWSER.NODEREF")),t.xp6(2),t.Q6J("ngModel",e.lucene.noderef),t.xp6(2),t.hij(" ",t.lcZ(9,5,"ADMIN.BROWSER.LUCENE_START")," ")}}function vi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"textarea",222),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.lucene.query=n)}),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"ADMIN.BROWSER.LUCENE_QUERY")),t.xp6(2),t.Q6J("ngModel",e.lucene.query)}}function bi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",223)(1,"label",224),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ngx-monaco-editor",225),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.lucene.query=n)}),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,4,"ADMIN.BROWSER.DSL_QUERY")),t.xp6(2),t.Q6J("options",e.dslCodeOptions)("ngModel",e.lucene.query)("ngModelOptions",t.DdM(6,Y))}}function Zi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",63)(1,"div",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-radio-group",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.lucene.store=n)}),t.TgZ(5,"mat-radio-button",226),t._uU(6,"Workspace"),t.qZA(),t.TgZ(7,"mat-radio-button",227),t._uU(8,"Archive"),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"ADMIN.BROWSER.STORE")),t.xp6(2),t.Q6J("ngModel",e.lucene.store)}}function Li(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",63)(1,"div",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-radio-group",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.lucene.outputMode=n)}),t.TgZ(5,"mat-radio-button",228),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-radio-button",229),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,4,"ADMIN.BROWSER.OUTPUT_MODE")),t.xp6(2),t.Q6J("ngModel",e.lucene.outputMode),t.xp6(2),t.Oqu(t.lcZ(7,6,"ADMIN.BROWSER.OUTPUT_MODE_VIEW")),t.xp6(3),t.Oqu(t.lcZ(10,8,"ADMIN.BROWSER.OUTPUT_MODE_EXPORT"))}}function Di(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",63)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"textarea",230),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.lucene.properties=n)}),t.qZA(),t.TgZ(7,"mat-hint"),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",63)(11,"div",46),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div")(15,"mat-radio-group",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.lucene.exportFormat=n)}),t.TgZ(16,"mat-radio-button",231),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"mat-radio-button",232),t._uU(20),t.ALo(21,"translate"),t.qZA()()()(),t.TgZ(22,"div",63)(23,"div")(24,"button",209),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.exportLucene())}),t._uU(25),t.ALo(26,"translate"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,8,"ADMIN.BROWSER.LUCENE_EXPORT_PROPERTIES")),t.xp6(2),t.Q6J("ngModel",e.lucene.properties),t.xp6(2),t.Oqu(t.lcZ(9,10,"ADMIN.BROWSER.LUCENE_EXPORT_PROPERTIES_HINT")),t.xp6(4),t.Oqu(t.lcZ(13,12,"ADMIN.BROWSER.OUTPUT_MODE")),t.xp6(3),t.Q6J("ngModel",e.lucene.exportFormat),t.xp6(2),t.Oqu(t.lcZ(18,14,"ADMIN.BROWSER.EXPORT_FORMAT_CSV")),t.xp6(3),t.Oqu(t.lcZ(21,16,"ADMIN.BROWSER.EXPORT_FORMAT_JSON")),t.xp6(5),t.hij(" ",t.lcZ(26,18,"ADMIN.BROWSER.LUCENE_EXPORT_START")," ")}}function Si(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip-option",210),t.NdJ("removed",function(){const a=t.CHM(e).$implicit,r=t.oxw(5);return t.KtG(r.removeLuceneAuthority(a))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"authorityName"),t.qZA(),t._UZ(4,"i",211),t.qZA()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,1,e))}}function Ri(o,s){if(1&o&&(t.TgZ(0,"div",235),t._UZ(1,"div"),t.TgZ(2,"mat-chip-listbox"),t.YNc(3,Si,5,3,"mat-chip-option",236),t.qZA()()),2&o){const e=t.oxw(4);t.xp6(3),t.Q6J("ngForOf",e.lucene.authorities)}}function yi(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",63)(2,"div",46),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"es-authority-search-input",233),t.NdJ("onChooseAuthority",function(n){t.CHM(e);const a=t.oxw(3);return t.KtG(a.addLuceneAuthority(n))}),t.qZA()(),t.YNc(6,Ri,4,1,"div",234),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,5,"ADMIN.BROWSER.LUCENE_AUTHORITIES")),t.xp6(2),t.Q6J("globalSearchAllowed",!0)("placeholder","ADMIN.BROWSER.ADD_AUTHORITY")("allowAny",!0),t.xp6(1),t.Q6J("ngIf",e.lucene.authorities&&e.lucene.authorities.length)}}function wi(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",238),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(4);return t.KtG(a.lucene.offset=n)}),t.qZA()(),t.TgZ(6,"mat-form-field")(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",239),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(4);return t.KtG(a.lucene.count=n)}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(4);t.xp6(3),t.Oqu(t.lcZ(4,4,"ADMIN.BROWSER.LUCENE_OFFSET")),t.xp6(2),t.Q6J("ngModel",e.lucene.offset),t.xp6(3),t.Oqu(t.lcZ(9,6,"ADMIN.BROWSER.LUCENE_COUNT")),t.xp6(2),t.Q6J("ngModel",e.lucene.count)}}function qi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",237),t.YNc(1,wi,11,8,"ng-container",7),t.TgZ(2,"div")(3,"button",209),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.searchNodes())}),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","SOLR"===e.lucene.mode),t.xp6(3),t.hij(" ",t.lcZ(5,2,"ADMIN.BROWSER.LUCENE_START")," ")}}function Ui(o,s){if(1&o&&(t.TgZ(0,"div",60)(1,"div",63),t.YNc(2,vi,5,4,"mat-form-field",7),t.YNc(3,bi,5,7,"div",220),t.qZA(),t.YNc(4,Zi,9,4,"div",155),t.YNc(5,Li,11,10,"div",155),t.YNc(6,Di,27,20,"ng-container",7),t.YNc(7,yi,7,7,"ng-container",7),t.YNc(8,qi,6,4,"div",221),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf","SOLR"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","ELASTIC"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","SOLR"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","SOLR"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","export"===e.lucene.outputMode),t.xp6(1),t.Q6J("ngIf","SOLR"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","view"===e.lucene.outputMode)}}function Gi(o,s){if(1&o&&(t.TgZ(0,"div",240)(1,"label",241),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"ngx-monaco-editor",242),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,4,"ADMIN.BROWSER.ELASTIC_RESPONSE")),t.xp6(2),t.Q6J("options",e.elasticResponseCodeOptions)("ngModel",e.elasticResponse.elasticResponse)("ngModelOptions",t.DdM(6,Y))}}function Fi(o,s){1&o&&(t.TgZ(0,"div",248),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"WORKSPACE.NO_MATCHING_ITEMS")," "))}function Ji(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",243),t._UZ(1,"es-actionbar",null,244),t.TgZ(3,"es-node-entries-wrapper",245,246),t.NdJ("clickItem",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.debugNode(n.element))}),t.YNc(5,Fi,3,3,"ng-template",null,247,t.W1O),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("dataSource",e.searchResponse)("scope",e.SCOPES.Admin)("columns",e.searchColumns)("configureColumns",!0)("displayType",e.NodeEntriesDisplayType.Table)("elementInteractionType",e.InteractionType.Emitter)}}function ki(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",212)(1,"div",39)(2,"i",52),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",63)(8,"div",46),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"mat-form-field")(12,"mat-select",141),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.lucene.mode=n)}),t.TgZ(13,"mat-option",213),t._uU(14,"Node-Ref / Node-Id"),t.qZA(),t.TgZ(15,"mat-option",214),t._uU(16,"Solr / Lucene Query"),t.qZA(),t.TgZ(17,"mat-option",215),t._uU(18,"Elasticsearch Query (DSL)"),t.qZA()()()(),t.YNc(19,Ei,10,7,"div",146),t.YNc(20,Ui,9,7,"div",146),t.YNc(21,Gi,5,7,"div",216),t.YNc(22,Ji,7,6,"div",217),t.TgZ(23,"es-lucene-template-memory",218),t.NdJ("queryChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.lucene.query=n)})("propertiesChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.lucene.properties=n)}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,9,"ADMIN.BROWSER.NODE_BROWSER")),t.xp6(4),t.Oqu(t.lcZ(10,11,"ADMIN.BROWSER.MODE")),t.xp6(3),t.Q6J("ngModel",e.lucene.mode),t.xp6(7),t.Q6J("ngIf","NODEREF"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","SOLR"===e.lucene.mode||"ELASTIC"===e.lucene.mode),t.xp6(1),t.Q6J("ngIf","ELASTIC"===e.lucene.mode&&e.elasticResponse),t.xp6(1),t.Q6J("ngIf","NODEREF"===e.lucene.mode||"view"===e.lucene.outputMode),t.xp6(1),t.Q6J("query",e.lucene.query)("properties",e.lucene.properties)}}function ji(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",258)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"i",43),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.removeEduGroup(a))}),t._uU(4,"cancel"),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.title)}}function Hi(o,s){if(1&o&&(t.TgZ(0,"mat-option",69),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Qi(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",249)(1,"form")(2,"es-autocomplete",250),t.NdJ("addItem",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.addEduGroup(n))})("updateInput",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateEduGroupSuggestions(n))}),t.qZA(),t.TgZ(3,"div",251),t.YNc(4,ji,5,1,"div",252),t.qZA(),t.TgZ(5,"div",63)(6,"mat-form-field")(7,"mat-select",65),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedTemplate=n)}),t.YNc(8,Hi,2,2,"mat-option",66),t.qZA()(),t.TgZ(9,"div")(10,"button",253),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(24);return t.KtG(n.click())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",63)(14,"div")(15,"button",254),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.gotoFoldertemplateFolder())}),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div")(19,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyTemplate())}),t._uU(20),t.ALo(21,"translate"),t.qZA()()()(),t.TgZ(22,"div",60)(23,"input",255,256),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.uploadTemplate(n))}),t.qZA(),t.TgZ(25,"div",257),t._uU(26),t.ALo(27,"translate"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("inputMinLength",2)("placeholder","ADMIN.FOLDERTEMPLATES.EDUGROUP")("suggestions",e.eduGroupSuggestions),t.xp6(2),t.Q6J("ngForOf",e.eduGroupsSelected),t.xp6(3),t.Q6J("ngModel",e.selectedTemplate),t.xp6(1),t.Q6J("ngForOf",e.templates),t.xp6(3),t.hij(" ",t.lcZ(12,10,"ADMIN.FOLDERTEMPLATES.UPLOAD_TEMPLATE")," "),t.xp6(5),t.hij(" ",t.lcZ(17,12,"ADMIN.FOLDERTEMPLATES.GOTO_FOLDERTEMPLATES")," "),t.xp6(4),t.hij(" ",t.lcZ(21,14,"ADMIN.FOLDERTEMPLATES.APPLYTEMPLATE")," "),t.xp6(6),t.Oqu(t.lcZ(27,16,"ADMIN.FOLDERTEMPLATES.UPLOAD_HINT"))}}function Yi(o,s){1&o&&t._UZ(0,"es-global-progress")}const Ki=[{path:"",component:(()=>{class o{constructor(e,i,n,a,r,c,_,u,f,O,et,Vi,Xi,$i,zi,ta,ea,na,oa){this.about=e,this.admin=i,this.config=n,this.connector=a,this.dialogs=r,this.mainNav=c,this.mediacenterService=_,this.networkService=u,this.node=f,this.organization=O,this.platformLocation=et,this.route=Vi,this.router=Xi,this.searchApi=$i,this.sessionStorage=zi,this.storage=ta,this.toast=ea,this.translate=na,this.translations=oa,this.AuthoritySearchMode=k.k,this.SCOPES=d.sX,this.InteractionType=d.s_,this.NodeEntriesDisplayType=d.P8,this.mailTemplates=["invited","invited_workflow","invited_safe","invited_collection","nodeIssue","userStatusChanged","groupSignupList","groupSignupUser","groupSignupConfirmed","groupSignupRejected","groupSignupAdmin","userRegister","passwordRequest","userRegisterInformation"],this.globalProgress=!0,this.oai={},this.job={},this.jobs=[],this.jobsOpen=[],this.jobsLogFilter=[],this.jobsLogLevel=[],this.jobsLogData=[],this.jobCodeOptions={minimap:{enabled:!1},language:"json",autoIndent:!0,automaticLayout:!0},this.dslCodeOptions={minimap:{enabled:!1},language:"json",autoIndent:!0,automaticLayout:!0},this.elasticResponseCodeOptions={minimap:{enabled:!1},language:"json",autoIndent:!0,automaticLayout:!0,readOnly:!0},this.jobClasses=[],this.jobClassesSuggested=[],this.lucene={mode:"NODEREF",store:"Workspace",offset:0,count:100,outputMode:"view"},this.oaiSave=!0,this.updates=[],this.applications=[],this.applicationsOpen={},this.parentCollectionType="root",this.buttons=[],this.editableXmls=[{name:"HOMEAPP",file:p.u6.HOME_APPLICATION_XML}],this.searchResponse=new d.AL,this.searchColumns=[],this.selectedTemplate="",this.eduGroupsSelected=[],this.systemChecks=[],this.tpChecks=[],this.ownAppMode="repository",this.onDestroyTasks=[],this.cancelJobButtons=p.Qd.getYesNo(()=>this.cancelJobInfo=null,()=>{this.cancelJobFinally()}),this._jobForceCancel=!1,this.searchColumns.push(new d.HC("NODE",p.u6.CM_NAME)),this.searchColumns.push(new d.HC("NODE",p.u6.NODE_ID)),this.searchColumns.push(new d.HC("NODE",p.u6.CM_MODIFIED_DATE)),this.translations.waitForInit().subscribe(()=>{this.getTemplates(),this.connector.isLoggedIn().subscribe(Ct=>{this.loginResult=Ct,Ct.isAdmin?this.init():this.mediacenterService.getMediacenters().subscribe(ia=>{this.mediacenters=ia,this.init()})})})}static#t=this.RS_CONFIG_HELP="https://docs.edu-sharing.com/confluence/edp/de/installation-en/installation-of-the-edu-sharing-rendering-service";get jobForceCancel(){return this._jobForceCancel??!1}set jobForceCancel(e){this._jobForceCancel=e,this.cancelJobButtons[1].color=this._jobForceCancel?"danger":"primary"}ngOnInit(){this.mainNav.setMainNavConfig({title:"ADMIN.TITLE",currentScope:"admin"})}ngOnDestroy(){this.onDestroyTasks.forEach(e=>e())}startJob(){this.storage.set("admin_job",this.job),this.globalProgress=!0;try{this.admin.startJob(this.job.class,JSON.parse(this.job.params),this.uploadJobsFile).subscribe(()=>{this.globalProgress=!1,this.toast.toast("ADMIN.JOBS.JOB_STARTED")},e=>{this.globalProgress=!1,this.toast.error(e)})}catch(e){console.warn(e),this.toast.error(e),this.globalProgress=!1}}debugNode(e){this.dialogs.openNodeInfoDialog({nodes:[e]})}getModeButton(e=this.mode){return this.buttons[N.W.indexOfObjectArray(this.buttons,"id",e)]}searchNoderef(){this.storage.set("admin_lucene",this.lucene),this.globalProgress=!0,this.node.getNodeMetadata(this.lucene.noderef,[p.u6.ALL]).subscribe(e=>{this.globalProgress=!1,this.searchResponse.setData([e.node],{from:0,count:1,total:1})},e=>{this.globalProgress=!1,this.toast.error(e)})}searchNodes(){var e=this;return(0,h.Z)(function*(){e.storage.set("admin_lucene",e.lucene);const i=[];if(e.lucene.authorities)for(const a of e.lucene.authorities)i.push(a.authorityName);yield e.nodeEntriesSearchResult.initOptionsGenerator({actionbar:e.actionbarComponent});const n={offset:e.lucene.offset?e.lucene.offset:0,count:e.lucene.count,propertyFilter:[p.u6.ALL]};e.globalProgress=!0,"SOLR"===e.lucene.mode?e.admin.searchLucene(e.lucene.query,e.lucene.store,i,n).subscribe(a=>{e.globalProgress=!1,e.searchResponse.setData(a.nodes,a.pagination)},a=>{e.globalProgress=!1,e.toast.error(a)}):"ELASTIC"===e.lucene.mode&&e.admin.searchElastic(e.lucene.query).subscribe(a=>{e.globalProgress=!1,e.elasticResponse=a,e.searchResponse.setData(a.nodes,a.pagination)},a=>{e.globalProgress=!1,e.toast.error(a)})})()}addLuceneAuthority(e){this.lucene.authorities||(this.lucene.authorities=[]),this.lucene.authorities.push(e)}removeLuceneAuthority(e){this.lucene.authorities.splice(this.lucene.authorities.indexOf(e),1)}downloadApp(e){N.W.downloadContent(e.file,e.xml)}updateExcelFile(e){this.excelFile=e.target.files[0]}updateUploadFile(e,i){this[i]=e.target.files[0]}updateUploadOaiFile(e){this.uploadOaiFile=e.target.files[0]}updateCollectionsFile(e){this.collectionsFile=e.target.files[0]}importCollections(){this.collectionsFile?this.parentCollection||"choose"!=this.parentCollectionType?(this.globalProgress=!0,this.admin.importCollections(this.collectionsFile,"root"==this.parentCollectionType?p.u6.ROOT:this.parentCollection.ref.id).subscribe(e=>{this.toast.toast("ADMIN.IMPORT.COLLECTIONS_IMPORTED",{count:e.count}),this.globalProgress=!1,this.collectionsFile=null},e=>{this.toast.error(e),this.globalProgress=!1})):this.toast.error(null,"ADMIN.IMPORT.CHOOSE_COLLECTION"):this.toast.error(null,"ADMIN.IMPORT.CHOOSE_COLLECTIONS_XML")}startUploadTempFile(){this.uploadTempFile?(this.globalProgress=!0,this.admin.uploadTempFile(this.uploadTempFile).subscribe(e=>{this.toast.toast("ADMIN.TOOLKIT.UPLOAD_TEMP_DONE",{filename:e.file}),this.globalProgress=!1,this.uploadTempFile=null},e=>{this.toast.error(e),this.globalProgress=!1})):this.toast.error(null,"ADMIN.TOOLKIT.CHOOSE_UPLOAD_TEMP")}importExcel(){this.excelFile?this.parentNode?(this.globalProgress=!0,this.admin.importExcel(this.excelFile,this.parentNode.ref.id).subscribe(e=>{this.toast.toast("ADMIN.IMPORT.EXCEL_IMPORTED",{rows:e.rows}),this.globalProgress=!1,this.excelFile=null},e=>{this.toast.error(e),this.globalProgress=!1})):this.toast.error(null,"ADMIN.IMPORT.CHOOSE_DIRECTORY"):this.toast.error(null,"ADMIN.IMPORT.CHOOSE_EXCEL")}configApp(e){window.open(e.configUrl)}editApp(e){var i=this;const n=e.name||"HOMEAPP",a=e.file;this.globalProgress=!0,this.admin.getApplicationXML(e.file).subscribe(function(){var r=(0,h.Z)(function*(c){yield i.showXmlAppPropertiesDialog({appName:n,appXml:a,properties:c}),i.globalProgress=!1});return function(c){return r.apply(this,arguments)}}(),r=>{this.globalProgress=!1,this.toast.error(r)})}showXmlAppPropertiesDialog(e){var i=this;return(0,h.Z)(function*(){(yield i.dialogs.openXmlAppPropertiesDialog(e)).afterClosed().subscribe(a=>{a&&i.refreshAppList()})})()}removeApp(e){var i=this;return(0,h.Z)(function*(){const n=Object.entries(e).filter(([r])=>"xml"!==r).map(([r,c])=>({key:r,value:c}));(yield i.dialogs.openGenericDialog({title:"ADMIN.APPLICATIONS.REMOVE_TITLE",message:"ADMIN.APPLICATIONS.REMOVE_MESSAGE",buttons:U.OU,contentTemplate:i.keyValueTable,context:{$implicit:n}})).afterClosed().subscribe(r=>{"YES_DELETE"===r&&(i.globalProgress=!0,i.admin.removeApplication(e.id).subscribe(()=>{i.globalProgress=!1,i.refreshAppList()},c=>{i.toast.error(c),i.globalProgress=!1}))})})()}setMode(e,i=!1){this.router.navigate(["./"],{queryParams:{mode:e},relativeTo:this.route,skipLocationChange:i})}chooseDirectory(){var e=this;return(0,h.Z)(function*(){(yield e.dialogs.openFileChooserDialog({title:"ADMIN.IMPORT.CHOOSE_DIRECTORY",pickDirectory:!0})).afterClosed().subscribe(n=>{n&&e.pickDirectory(n)})})()}pickDirectory(e){this.parentNode=e[0]}chooseCollection(){var e=this;return(0,h.Z)(function*(){(yield e.dialogs.openFileChooserDialog({title:"ADMIN.IMPORT.CHOOSE_COLLECTION",collections:!0})).afterClosed().subscribe(n=>{n&&e.pickCollection(n)})})()}pickCollection(e){this.parentCollection=e[0]}registerAppXml(e){const i=e.target.files[0];i&&(this.globalProgress=!0,this.admin.addApplicationXml(i).subscribe(n=>{this.toast.toast("ADMIN.APPLICATIONS.APP_REGISTERED"),this.refreshAppList(),this.globalProgress=!1,this.xmlSelect.nativeElement.value=null},n=>{this.globalProgress=!1,this.xmlSelect.nativeElement.value=null,this.toast.error(n)}))}registerApp(){this.globalProgress=!0,this.admin.addApplication(this.appUrl).subscribe(e=>{this.toast.toast("ADMIN.APPLICATIONS.APP_REGISTERED"),this.refreshAppList(),this.globalProgress=!1,this.appUrl=""},e=>{this.globalProgress=!1,this.toast.error(e)})}getCacheInfo(){this.globalProgress=!0,this.admin.getCacheInfo(this.cacheInfo).subscribe(e=>{this.globalProgress=!1,this.dialogs.openGenericDialog({title:this.cacheInfo,contentTemplate:this.keyValueTable,context:{$implicit:[{key:"size",value:e.size},{key:"statisticHits",value:e.statisticHits}]}})},e=>{this.globalProgress=!1,this.toast.error(e)})}refreshAppInfo(){this.globalProgress=!0,this.admin.refreshAppInfo().subscribe(()=>{this.globalProgress=!1,this.toast.toast("ADMIN.TOOLKIT.APP_INFO_REFRESHED")},e=>{this.globalProgress=!1,this.toast.error(e)})}refreshEduGroupCache(){this.globalProgress=!0,this.admin.refreshEduGroupCache().subscribe(()=>{this.globalProgress=!1,this.toast.toast("ADMIN.TOOLKIT.EDU_GROUP_CACHE_REFRESHED")},e=>{this.globalProgress=!1,this.toast.error(e)})}refreshCache(e){this.globalProgress=!0,this.admin.refreshCache(this.parentNode?this.parentNode.ref.id:p.u6.USERHOME,e).subscribe(()=>{this.globalProgress=!1,this.toast.toast("ADMIN.TOOLKIT.CACHE_REFRESHED")},i=>{this.globalProgress=!1,this.toast.error(i)})}oaiImport(){this.oaiPreconditions()&&(this.globalProgress=!0,this.oaiSave&&this.storage.set("admin_oai",this.oai),this.uploadOaiFile?this.admin.importOAIXML(this.uploadOaiFile,this.oai.recordHandlerClassName,this.oai.binaryHandlerClassName).subscribe(e=>{this.debugNode(e),this.globalProgress=!1},e=>{this.toast.error(e),this.globalProgress=!1}):this.admin.importOAI(this.oai.url,this.oai.set,this.oai.prefix,this.oai.className,this.oai.importerClassName,this.oai.recordHandlerClassName,this.oai.binaryHandlerClassName,this.oai.persistentHandlerClassName,this.oai.metadata,this.oai.file,this.oai.ids,this.oai.forceUpdate,this.oai.from,this.oai.until,this.oai.periodInDays).subscribe(()=>{this.globalProgress=!1,this.toast.toast("ADMIN.IMPORT.OAI_STARTED",null,null,null,{link:{caption:"ADMIN.IMPORT.OPEN_JOBS",callback:()=>this.setMode("JOBS")}})},e=>{this.globalProgress=!1,this.toast.error(e)}))}oaiPreconditions(){return!(!this.uploadOaiFile&&(this.oai.url?this.oai.set?!this.oai.prefix&&(this.toast.error(null,"ADMIN.IMPORT.OAI_NO_PREFIX"),1):(this.toast.error(null,"ADMIN.IMPORT.OAI_NO_SET"),1):(this.toast.error(null,"ADMIN.IMPORT.OAI_NO_URL"),1)))}removeImports(){this.oaiPreconditions()&&(this.globalProgress=!0,this.admin.removeDeletedImports(this.oai.url,this.oai.set,this.oai.prefix).subscribe(e=>{this.globalProgress=!1,this.toast.toast("ADMIN.IMPORT.IMPORTS_REMOVED"),this.appUrl=""},e=>{this.globalProgress=!1,this.toast.error(e)}))}getPropertyValues(){this.globalProgress=!0,this.admin.getPropertyValuespace(this.propertyName).subscribe(e=>{this.globalProgress=!1,this.dialogs.openGenericDialog({title:"ADMIN.TOOLKIT.PROPERTY_VALUESPACE",message:e.xml,messageMode:"preformatted",maxWidth:null}),this.appUrl=""},e=>{this.globalProgress=!1,this.toast.error(e)})}runUpdate(e,i=!1){this.globalProgress=!0,this.admin.runServerUpdate(e.id,i).subscribe(n=>{this.globalProgress=!1,this.dialogs.openGenericDialog({title:"ADMIN.UPDATE.RESULT",message:n.result,messageMode:"preformatted",maxWidth:null}),this.refreshUpdateList()},n=>{this.globalProgress=!1,this.toast.error(n)})}refreshAppList(){this.admin.getApplications().subscribe(e=>{this.applications=e,this.applicationsOpen={},this.applications&&this.applications.length&&this.getAppTypes().forEach(i=>this.applicationsOpen[i]=!0)})}refreshCatalina(){this.admin.getCatalina().subscribe(e=>{this.catalina=e.reverse().join("\n"),this.setCatalinaPosition()})}setCatalinaPosition(){setTimeout(()=>{this.catalinaRef?this.catalinaRef.nativeElement.scrollTop=this.catalinaRef.nativeElement.scrollHeight:this.setCatalinaPosition()},50)}getTemplates(){this.getTemplateFolderId().subscribe(e=>{this.node.getChildren(e).subscribe(i=>{const n=[];for(const a of i.nodes)"text/xml"==a.mimetype&&n.push(a.name);this.templates=n,this.selectedTemplate=this.templates[0]})})}getTemplateFolderId(){return new It.y(e=>{this.searchApi.searchByProperties([p.u6.CM_NAME],["Edu_Sharing_Sys_Template"],["="],"",p.u6.CONTENT_TYPE_FILES_AND_FOLDERS).subscribe(i=>{for(const n of i.nodes)if(n.isDirectory)return e.next(n.ref.id),void e.complete()})})}updateEduGroupSuggestions(e){this.organization.getOrganizations(e.input,!1).subscribe(i=>{const n=[];for(const a of i.organizations){const r=new B.u(a.authorityName,a.profile.displayName,"group","");r.originalObject=a,n.push(r)}this.eduGroupSuggestions=n})}addEduGroup(e){N.W.indexOfObjectArray(this.eduGroupsSelected,"id",e.item.id)<0&&this.eduGroupsSelected.push(e.item)}removeEduGroup(e){this.eduGroupsSelected.splice(N.W.indexOfObjectArray(this.eduGroupsSelected,"id",e.id),1)}uploadTemplate(e){const i=e.target.files[0];i&&(this.globalProgress=!0,this.getTemplateFolderId().subscribe(a=>{this.node.createNode(a,p.u6.CCM_TYPE_IO,[],p.bv.createNameProperty(i.name),!0).subscribe(r=>{this.node.uploadNodeContent(r.node.ref.id,i,p.u6.COMMENT_MAIN_FILE_UPLOAD).subscribe(c=>{this.getTemplates(),this.toast.toast("ADMIN.FOLDERTEMPLATES.UPLOAD_DONE",{filename:JSON.parse(c.response).node.name}),this.globalProgress=!1,this.templateSelect.nativeElement.value=null})},r=>{this.globalProgress=!1,this.templateSelect.nativeElement.value=null,this.toast.error(r)})}))}applyTemplate(e=0){return this.globalProgress=!0,this.eduGroupsSelected.length<1?(this.toast.error(null,"ADMIN.FOLDERTEMPLATES.MISSING_GROUP"),void(this.globalProgress=!1)):""==this.selectedTemplate?(this.toast.error(null,"ADMIN.FOLDERTEMPLATES.MISSING_TEMPLATE"),void(this.globalProgress=!1)):void(e>=this.eduGroupsSelected.length?this.globalProgress=!1:this.admin.applyTemplate(this.eduGroupsSelected[e].id,this.selectedTemplate).subscribe(i=>{this.toast.toast("ADMIN.FOLDERTEMPLATES.TEMPLATE_APPLIED",{templatename:this.selectedTemplate,groupname:this.eduGroupsSelected[e].id}),this.applyTemplate(e+1)},i=>{this.toast.error(i,"ADMIN.FOLDERTEMPLATES.TEMPLATE_NOTAPPLIED",{templatename:this.selectedTemplate,groupname:this.eduGroupsSelected[e].id}),this.applyTemplate(e+1)}))}gotoFoldertemplateFolder(){this.getTemplateFolderId().subscribe(e=>{this.router.navigate([d.ru.ROUTER_PREFIX+"workspace"],{queryParams:{id:e}})})}getJobLog(e,i){let n=N.W.deepCopy(e.log)?.reverse();if(!n)return null;if(this.jobsLogLevel[i]){const a=[];for(const r of n)r.level.syslogEquivalent>this.jobsLogLevel[i]||a.push(r);n=a}if(this.jobsLogFilter[i]){const a=[];for(const r of n)-1==r.message.indexOf(this.jobsLogFilter[i])&&-1==r.className.indexOf(this.jobsLogFilter[i])||a.push(r);n=a}return n.length<=200?n:n.slice(0,200)}cancelJob(e){this.cancelJobInfo=e}cancelJobFinally(){const e=this.cancelJobInfo;this.cancelJobInfo=null,this.admin.cancelJob(e.jobName,this.jobForceCancel).subscribe(()=>{this.toast.toast("ADMIN.JOBS.TOAST_CANCELED"),this.globalProgress=!1},i=>{this.toast.error(i),this.globalProgress=!1})}reloadJobStatus(){this.admin.getJobs().subscribe(e=>{e||(this.jobs=null),this.jobs=e.filter(i=>!!i),this.updateJobLogs()})}getMajorVersion(e){const i=e.split(".");return i.length<3?e:(i.splice(2,i.length-2),i.join("."))}runTpChecks(){const e=[p.u6.TOOLPERMISSION_USAGE_STATISTIC,p.u6.TOOLPERMISSION_INVITE_ALLAUTHORITIES,p.u6.TOOLPERMISSION_PUBLISH_COPY,p.u6.TOOLPERMISSION_GLOBAL_STATISTICS_USER,p.u6.TOOLPERMISSION_GLOBAL_STATISTICS_NODES];this.tpChecks=[],this.admin.getToolpermissions(p.u6.AUTHORITY_EVERYONE).subscribe(i=>{e.forEach(n=>{this.tpChecks.push({name:n,status:"ALLOWED"===i[n].explicit?"FAIL":"OK"})})})}runChecks(){this.systemChecks=[],this.about.getAbout().subscribe(e=>{const i=this.getMajorVersion(e.version.repository),n=this.getMajorVersion(e.version.renderservice);this.systemChecks.push({name:"RENDERING",status:"unknown"==i?"WARN":i==n?"OK":"FAIL",translate:e.version,callback:()=>{this.setMode("APPLICATIONS")}})},e=>{this.systemChecks.push({name:"RENDERING",status:"FAIL",error:e,callback:()=>{this.setMode("APPLICATIONS")}})}),this.networkService.getRepositories().subscribe(e=>{const i=e.filter(n=>n.isHomeRepo)[0].id;this.systemChecks.push({name:"APPID",status:"local"==i?"WARN":"OK",translate:{id:i},callback:()=>{this.setMode("APPLICATIONS"),this.editApp(this.editableXmls.filter(n=>"HOMEAPP"==n.name)[0])}})}),this.node.getNodePermissions(p.u6.USERHOME).subscribe(e=>{let i="OK";for(const n of e.permissions.localPermissions.permissions)n.authority.authorityName==p.u6.AUTHORITY_EVERYONE&&(i="FAIL");this.systemChecks.push(this.createSystemCheck("COMPANY_HOME",i))},e=>{this.systemChecks.push(this.createSystemCheck("COMPANY_HOME","FAIL",e))}),this.admin.getJobs().subscribe(e=>{let i=0;for(const n of e)"Running"==n.status&&i++;this.systemChecks.push({name:"JOBS_RUNNING",status:0==i?"OK":"WARN",translate:{count:i}})}),this.admin.getConfigMerged().subscribe(e=>{const i=e.repository.mail;this.config.instant("nodeReport",!1)&&this.systemChecks.push({name:"MAIL_REPORT",status:i.report.receivers&&i.server.smtp.host?"OK":"FAIL",translate:{receivers:i.report?.receivers?.join(", ")}}),this.systemChecks.push({name:"MAIL_SETUP",status:i.server.smtp.host?"OK":"FAIL",translate:i.server.smtp})}),this.admin.getApplicationXML(p.u6.HOME_APPLICATION_XML).subscribe(e=>{this.systemChecks.push({name:"CORS",status:e.allow_origin?-1!=e.allow_origin.indexOf("http://localhost:54361")?"OK":"INFO":"FAIL",translate:e,callback:()=>{this.setMode("APPLICATIONS"),this.editApp(this.editableXmls.filter(a=>"HOMEAPP"==a.name)[0])}});const i=e.domain;let n;try{n=new URL(e.contenturl).host}catch(a){console.warn(a)}this.systemChecks.push({name:"RS_XSS",status:i==n?"FAIL":e.allow_origin?"OK":"INFO",translate:{repo:i,render:n},callback:()=>{window.open(o.RS_CONFIG_HELP)}})})}createSystemCheck(e,i,n=null){const a={name:e,status:i,error:n};return"COMPANY_HOME"==e&&(a.callback=()=>{this.node.getNodeMetadata(p.u6.USERHOME).subscribe(r=>{S.d.goToWorkspaceFolder(this.node,this.router,null,r.node.parent.id)})}),a}getChecks(e){return e.sort((i,n)=>{const a={FAIL:0,WARN:1,INFO:2,OK:3},r=a[i.status],c=a[n.status];return r!=c?r<c?-1:1:i.name.localeCompare(n.name)}),e}testMail(){this.globalProgress=!0,this.admin.testMail(this.mailReceiver,this.mailTemplate).subscribe(()=>{this.toast.toast("ADMIN.CONFIG.MAIL_SENT",{receiver:this.mailReceiver}),this.globalProgress=!1},e=>{this.toast.error(e),this.globalProgress=!1})}updateJobLogs(){this.jobsLogData=[];let e=0;if(this.jobs)for(const i of this.jobs)this.jobsLogData.push(this.getJobLog(i,e)),e++}prepareJobClasses(){this.jobClasses=this.availableJobs.map(e=>{const i=new B.u(""),n=e.name.split(".");return i.id=e.name,i.title=e.description,i.secondaryTitle=n[n.length-1],i.originalObject=e,i})}getJobName(e){if(e&&e.class){let i=e.class.split(".");return i=i[i.length-1],i}return null}updateJobSuggestions(e){const i=e?e.input.toString().toLowerCase():"";"*"===i?this.jobClassesSuggested=this.jobClasses:(console.log(i),this.jobClassesSuggested=this.jobClasses.filter(n=>n.title&&-1!==n.title.toLowerCase().indexOf(i)||n.secondaryTitle&&-1!==n.secondaryTitle.toLowerCase().indexOf(i)))}refreshUpdateList(){this.admin.getServerUpdates().subscribe(e=>{this.updates=e})}exportLucene(){if(!this.lucene.properties)return void this.toast.error(null,"ADMIN.BROWSER.LUCENE_PROPERTIES_REQUIRED");this.storage.set("admin_lucene",this.lucene),this.globalProgress=!0;const e=this.lucene.properties.split("\n");this.admin.exportLucene(this.lucene.query,this.lucene.store,e,this.lucene.authorities?.map(i=>i.authorityName)).subscribe(i=>{const n="Export-"+d.Ov.formatDate(this.translate,(new Date).getTime(),{useRelativeLabels:!1});this.globalProgress=!1,i.forEach(a=>{Object.keys(a).forEach(r=>{a[r]?.id&&(a[r]=a[r].id)})}),"json"===this.lucene.exportFormat?(i.forEach(a=>{Object.keys(a).filter(r=>r.startsWith("parent::")).forEach(r=>{a.parent||(a.parent={}),a.parent[r.substring(8)]=a[r],delete a[r]})}),N.W.downloadContent(n+".json",JSON.stringify(i,null,2))):W.I.download(n,e,i)})}initButtons(){this.loginResult.isAdmin&&(this.buttons=[{id:"INFO",icon:"info_outline"},{id:"PLUGINS",icon:"extension"},{id:"FRONTPAGE",icon:"home"},{id:"GLOBAL_CONFIG",icon:"edit"},{id:"CONFIG",icon:"build"},{id:"APPLICATIONS",icon:"apps"},{id:"UPDATE",icon:"update"},{id:"IMPORT",icon:"cloud_download"},{id:"JOBS",icon:"check"},{id:"TOOLKIT",icon:"settings"},{id:"BROWSER",icon:"search"},{id:"FOLDERTEMPLATES",icon:"create_new_folder"}]),(this.loginResult.isAdmin||-1!==this.loginResult.toolPermissions.indexOf(p.u6.TOOLPERMISSION_GLOBAL_STATISTICS_NODES)||-1!==this.loginResult.toolPermissions.indexOf(p.u6.TOOLPERMISSION_GLOBAL_STATISTICS_USER))&&this.buttons.splice(1,0,{id:"STATISTICS",icon:"assessment"}),(this.loginResult.isAdmin||this.mediacenters?.filter(e=>e.administrationAccess).length)&&this.buttons.splice(3,0,{id:"MEDIACENTER",icon:"business"})}init(){if(this.initButtons(),0===this.buttons.length)return this.toast.error(null,"TOAST.API_FORBIDDEN"),void S.d.goToDefaultLocation(this.router,this.platformLocation,this.config);if(this.globalProgress=!1,this.searchColumns=Pt.M.getColumns(this.connector),this.searchColumns.filter(e=>[p.u6.CM_NAME,p.u6.NODE_ID,p.u6.CM_CREATOR].includes(e.name)).forEach(e=>e.visible=!0),this.route.queryParams.subscribe(e=>{e.mode?(this.mode=e.mode,this.getModeButton().factory&&setTimeout(()=>{this.dynamicComponent.createComponent(this.getModeButton().factory)})):this.setMode(this.buttons[0].id,!0)}),this.loginResult.isAdmin){this.showWarningDialog(),this.admin.getServerUpdates().subscribe(i=>{this.updates=i}),this.refreshUpdateList(),this.refreshAppList(),this.storage.get("admin_job",this.job).subscribe(i=>{this.job=i}),this.storage.get("admin_lucene",this.lucene).subscribe(i=>{this.lucene=i}),this.reloadJobStatus(),this.runTpChecks(),this.runChecks(),this.admin.getAllJobs().subscribe(i=>{this.availableJobs=i,this.prepareJobClasses()});const e=setInterval(()=>{"JOBS"==this.mode&&this.reloadJobStatus()},1e4);this.onDestroyTasks.push(()=>clearInterval(e)),this.admin.getOAIClasses().subscribe(i=>{this.oaiClasses=i,this.storage.get("admin_oai").subscribe(n=>{this.oai=n||{className:i[0],importerClassName:"org.edu_sharing.repository.server.importer.OAIPMHLOMImporter",recordHandlerClassName:"org.edu_sharing.repository.server.importer.RecordHandlerLOM"},this.oai.binaryHandlerClassName||(this.oai.binaryHandlerClassName="")})}),this.admin.getRepositoryVersion().subscribe(i=>{this.repositoryVersion=JSON.stringify(i,null,2)},i=>{console.info(i),this.repositoryVersion="Error accessing version information. Are you in dev mode?"})}}showWarningDialog(){var e=this;return(0,h.Z)(function*(){(yield e.sessionStorage.get("admin-confirmed-warning-dialog",!1,P.yh.Session).toPromise())||(yield e.dialogs.openGenericDialog({title:"ADMIN.WARNING_TITLE",message:"ADMIN.WARNING_INFO",buttons:[{label:"CANCEL",config:{color:"standard"}},{label:"ADMIN.UNDERSTAND",config:{color:"primary"}}],closable:V.IA.Disabled,maxWidth:600})).afterClosed().subscribe(a=>{"CANCEL"===a?window.history.back():"ADMIN.UNDERSTAND"===a&&e.sessionStorage.set("admin-confirmed-warning-dialog",!0,P.yh.Session)})})()}getOwnAppUrl(){return this.connector.getAbsoluteEdusharingUrl()+"metadata?format="+this.ownAppMode+"&external=true"}copyOwnApp(){S.d.copyToClipboard(this.getOwnAppUrl()),this.toast.toast("ADMIN.APPLICATIONS.COPIED_CLIPBOARD")}getAppTypes(){return Array.from(new Set(this.applications.map(e=>e.type)))}getApplications(e){return this.applications.filter(i=>i.type===e)}modeIsActive(e){if(this.mode===e){if(1===this.buttons.filter(i=>i.id===e).length)return!0;this.router.navigate([d.ru.ROUTER_PREFIX,"workspace"])}return!1}fixTp(e){this.tpChecks=[],this.admin.getToolpermissions(p.u6.AUTHORITY_EVERYONE).subscribe(i=>{const n={};Object.keys(i).forEach(a=>n[a]=i[a].explicit),n[e.name]="UNDEFINED",this.admin.setToolpermissions(p.u6.AUTHORITY_EVERYONE,n).subscribe(()=>this.runTpChecks())})}supportsUpload(e){return e?.params?.some(i=>i.file)}setJob(e){this.job.name=e.item.title,this.job.class=e.item.id,this.job.object=e.item.originalObject}setJobParamsTemplate(){const e={};let i=!1;for(const n of this.job.object.params)n.file||(e[n.name]="boolean"===n.type?"true"===n.sampleValue:n.sampleValue??"",n.type?.includes("Integer")&&""===e[n.name]&&(e[n.name]=null),n.values&&(e[n.name]=n.values.map(a=>a.name).join("|")),n.array&&(e[n.name]=[e[n.name]]),i=!0);console.log(e,this.job),i&&(this.job.params=JSON.stringify(e,null,2))}authenticateAsUser(){var e=this;return(0,h.Z)(function*(){(yield e.dialogs.openGenericDialog({title:"ADMIN.TOOLKIT.AUTHENTICATE_AS_USER",message:"ADMIN.TOOLKIT.AUTHENTICATE_AS_USER_DETAILS",buttons:U.Q0})).afterClosed().subscribe(function(){var n=(0,h.Z)(function*(a){"OK"===a&&(yield e.admin.switchAuthentication(e.authenticateAuthority.authorityName).toPromise(),S.d.goToDefaultLocation(e.router,e.platformLocation,e.config,!0))});return function(a){return n.apply(this,arguments)}}())})()}openNodeRender(e){const i=this.router.createUrlTree([d.ru.ROUTER_PREFIX+"render",e.ref.id]);window.open(this.connector.getAbsoluteEdusharingUrl()+this.router.serializeUrl(i))}static#e=this.\u0275fac=function(i){return new(i||o)(t.Y36(P.Gk),t.Y36(p.F_),t.Y36(p.eB),t.Y36(p.xD),t.Y36(w.H),t.Y36(Nt.ZF),t.Y36(p.Jh),t.Y36(P.SL),t.Y36(p.xE),t.Y36(p.K$),t.Y36(C.lw),t.Y36(J.gz),t.Y36(J.F0),t.Y36(p.Y6),t.Y36(p.uR),t.Y36(p.uR),t.Y36(b.F),t.Y36(x.sK),t.Y36(d.fA))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-admin-page"]],viewQuery:function(i,n){if(1&i&&(t.Gf(eo,5),t.Gf(no,5),t.Gf(oo,5),t.Gf(io,5),t.Gf(ao,5),t.Gf(so,5),t.Gf(ro,5),t.Gf(co,5)),2&i){let a;t.iGM(a=t.CRH())&&(n.nodeEntriesSearchResult=a.first),t.iGM(a=t.CRH())&&(n.actionbarComponent=a.first),t.iGM(a=t.CRH())&&(n.keyValueTable=a.first),t.iGM(a=t.CRH())&&(n.catalinaRef=a.first),t.iGM(a=t.CRH())&&(n.xmlSelect=a.first),t.iGM(a=t.CRH())&&(n.excelSelect=a.first),t.iGM(a=t.CRH())&&(n.templateSelect=a.first),t.iGM(a=t.CRH())&&(n.dynamicComponent=a.first)}},decls:27,vars:24,consts:[["keyValueTable",""],["height","auto",3,"title","buttons",4,"ngIf"],[1,"main"],[1,"main-nav"],["matRipple","","matRippleColor","primary","class","button clickable","tabindex","0",3,"active","click","keyup.enter",4,"ngFor","ngForOf"],["role","main","esSkipTarget","MAIN_CONTENT"],["esTitle","",1,"cdk-visually-hidden"],[4,"ngIf"],["class","content info",4,"ngIf"],["class","content config",4,"ngIf"],["class","content statistics",4,"ngIf"],["class","content mediacenter",4,"ngIf"],["class","content frontpage",4,"ngIf"],["class","content global-config",4,"ngIf"],["class","content plugins",4,"ngIf"],["class","content applications",4,"ngIf"],["class","content update",4,"ngIf"],["class","content import",4,"ngIf"],["class","content jobs",4,"ngIf"],["class","content toolkit",4,"ngIf"],["class","content browser",4,"ngIf"],["class","content foldertemplates",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","key"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["mat-row",""],["height","auto",3,"title","buttons"],[1,"card-content-padding"],[1,"cancel-job-message"],[3,"ngModel","ngModelOptions","ngModelChange"],["slot","label"],["slot","description",1,"description"],["matRipple","","matRippleColor","primary","tabindex","0",1,"button","clickable",3,"click","keyup.enter"],[3,"esIcon"],["dynamic",""],[1,"content","info"],[1,"heading"],[1,"version"],[1,"checks"],[1,"reload"],[1,"material-icons","clickable",3,"click"],["class","check",3,"check-fail","check-ok","check-info","check-warn",4,"ngFor","ngForOf"],[1,"checks-toolpermissions"],[1,"info"],[1,"check"],[1,"data"],[1,"title"],[1,"description"],["class","solution",4,"ngIf"],[1,"material-icons"],[1,"solution"],["mat-button","","color","primary","class","solution-link clickable",3,"click",4,"ngIf"],["mat-button","","color","primary",1,"solution-link","clickable",3,"click"],[1,"tp-name"],[1,"content","config"],[1,"group","xml"],[4,"ngFor","ngForOf"],[1,"group"],[3,"ngSubmit"],["mailForm",""],[1,"inputGroupGrow"],["matInput","","type","email","name","receiver",3,"ngModel","ngModelChange"],["name","template",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[1,"content","statistics"],[3,"onOpenNode"],[1,"content","mediacenter"],[1,"content","frontpage"],[1,"content","global-config"],[1,"content","plugins"],[1,"content","applications"],["type","file","id","xmlSelect","accept","application/xml",2,"display","none",3,"change"],["xmlSelect",""],[1,"register-app"],[1,"mat-heading-4","mat-heading-underline"],["matInput","","type","text","name","appUrl",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"click"],[1,"useFile"],["name","ownAppMode",3,"ngModel","ngModelChange"],["value","repository"],["value","render"],["value","lms"],["matInput","","type","text","name","ownAppUrl","readonly","",3,"ngModel"],[3,"onRefreshAppList"],[3,"multi"],[3,"expanded",4,"ngFor","ngForOf"],[3,"expanded"],[1,"app-list"],[1,"header"],[1,"id"],[1,"file"],[1,"repoType"],[1,"subtype"],[1,"config"],[1,"edit"],[1,"download"],[1,"delete"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["esIcon","edit",1,"clickable"],["esIcon","cloud_download",1,"clickable"],["esIcon","delete",1,"clickable"],["esIcon","settings",1,"clickable"],[1,"content","update"],[1,"hint"],[1,"table"],[1,"tableRow","header"],[1,"date"],[1,"test"],[1,"run"],["class","tableRow",3,"table-not-executed",4,"ngFor","ngForOf"],["class","updates-loading",4,"ngIf"],[1,"tableRow"],["class","date",4,"ngIf"],["mat-button","","color","primary",3,"click"],[1,"updates-loading"],[1,"content","import"],[1,"collections"],["type","file","id","xmlCollectionsSelect","accept",".xml, .zip",2,"display","none",3,"change"],["xmlCollectionsSelect",""],[1,"inputGroup"],[1,"inputGroup",3,"ngModel","ngModelChange"],["name","parentCollection","id","parentCollectionRoot","value","root"],["name","parentCollection","id","parentCollectionChoose","value","choose"],["class","inputGroup",4,"ngIf"],[1,"csv"],["type","file","id","csvSelect","accept",".xls, .xlsx",2,"display","none",3,"change"],["csvSelect",""],[1,"directory"],[1,"oai"],["type","file","id","uploadOaiSelect",2,"display","none",3,"change"],["uploadOaiSelect",""],["matInput","","type","text",3,"ngModel","ngModelChange"],["class","oaiForce",4,"ngIf"],[1,"oaiSave"],[3,"ngModel","ngModelChange"],[1,"actions"],[1,"oaiForce"],[1,"content","jobs"],["class","heading",4,"ngIf"],["class","group",4,"ngIf"],["class","no-jobs",4,"ngIf"],["class","job",4,"ngFor","ngForOf"],[1,"autocomplete"],[3,"suggestions","allowAny","inputMinLength","maxSuggestions","updateInput","addItem","addAny"],["class","job-title",4,"ngIf"],["class","job-class",4,"ngIf"],["class","inputGroupRow params",4,"ngIf"],["name","jobParams",1,"jobParams","materialize-textarea",3,"options","ngModel","ngModelOptions","ngModelChange"],["class","inputGroupGrow",4,"ngIf"],["mat-raised-button","",3,"disabled","click"],[1,"job-title"],[1,"job-class"],[1,"inputGroupRow","params"],[1,"mat-heading-5"],[1,"param-table"],["class","param-row",4,"ngFor","ngForOf"],[1,"param-row"],[1,"param-name"],[1,"param-value"],["type","file",2,"display","none",3,"change"],["uploadJobSelect",""],[1,"no-jobs"],[1,"job"],[1,"job-col"],[1,"job-row","job-main"],[1,"job-col","col-name"],[1,"name"],[1,"class"],[1,"job-col","col-time"],["mat-icon-button","","class","close",3,"click",4,"ngIf"],[1,"job-col","col-more",3,"click"],["class","material-icons",4,"ngIf"],["class","job-col row-detail",4,"ngIf"],["mat-icon-button","",1,"close",3,"click"],["esIcon","close"],[1,"job-col","row-detail"],["class","job-row log-filters",4,"ngIf"],[1,"log"],[1,"log-data"],["class","job-row",3,"status-error","status-warning",4,"ngFor","ngForOf"],[1,"job-row","log-filters"],[1,"job-row","log-filter"],[1,"job-row","log-level"],["for","logLevel"],["id","logLevel",3,"ngModel","ngModelChange"],["value",""],["value","4"],["value","3"],[1,"job-row"],[1,"log-level"],[1,"log-date"],[1,"log-class"],[1,"log-message"],[1,"content","toolkit"],[3,"mode","globalSearchAllowed","label","showRecent","onChooseAuthority"],[3,"removed",4,"ngIf"],["matInput","","type","text","name","cacheInfo",1,"cacheInfo",3,"ngModel","placeholder","ngModelChange"],["mat-raised-button",""],[1,"group","caches"],[1,"propertyGroup"],["matInput","","type","text",3,"ngModel","placeholder","ngModelChange"],["uploadTempSelect",""],["mat-flat-button","","color","primary",3,"click"],[3,"removed"],["matChipRemove","","esIcon","cancel"],[1,"content","browser"],["value","NODEREF"],["value","SOLR"],["value","ELASTIC"],["class","elastic-response",4,"ngIf"],["class","search-list",4,"ngIf"],[3,"query","properties","queryChange","propertiesChange"],["matInput","","type","text","name","noderef","placeholder",'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee"',3,"ngModel","ngModelChange"],["class","dsl-query",4,"ngIf"],["class","inputGroupGrow lucenePaging",4,"ngIf"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","5","name","luceneQuery","placeholder",'@cm\\:name:"*"',3,"ngModel","ngModelChange"],[1,"dsl-query"],["for","dslQuery"],["id","dslQuery",3,"options","ngModel","ngModelOptions","ngModelChange"],["name","solrStore","value","Workspace"],["name","solrStore","value","Archive"],["name","solrMode","value","view"],["name","solrMode","value","export"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","5",1,"export-properties",3,"ngModel","ngModelChange"],["name","exportFormat","value","csv"],["name","exportFormat","value","json"],[3,"globalSearchAllowed","placeholder","allowAny","onChooseAuthority"],["class","inputGroupGrow luceneAuthorities",4,"ngIf"],[1,"inputGroupGrow","luceneAuthorities"],[3,"removed",4,"ngFor","ngForOf"],[1,"inputGroupGrow","lucenePaging"],["matInput","","type","number","name","luceneOffset",3,"ngModel","ngModelChange"],["matInput","","type","number","name","luceneCount",3,"ngModel","ngModelChange"],[1,"elastic-response"],["for","elasticResponseLabel"],["id","elasticResponseLabel",3,"options","ngModel","ngModelOptions"],[1,"search-list"],["actionbarComponent",""],[3,"dataSource","scope","columns","configureColumns","displayType","elementInteractionType","clickItem"],["searchResults",""],["empty",""],[1,"no-results"],[1,"content","foldertemplates"],[3,"inputMinLength","placeholder","suggestions","addItem","updateInput"],[1,"eduGroupsSelected"],["class","badge",4,"ngFor","ngForOf"],["mat-raised-button","",1,"btnXml",3,"click"],["mat-button","","color","primary",1,"goto-folder",3,"click"],["type","file","id","templateSelect","accept","application/xml",2,"display","none",3,"change"],["templateSelect",""],[1,"upload-hint"],[1,"badge"]],template:function(i,n){1&i&&(t.YNc(0,uo,6,3,"ng-template",null,0,t.W1O),t.YNc(2,mo,14,16,"es-card",1),t.TgZ(3,"div",2)(4,"div",3)(5,"div"),t.YNc(6,ho,5,6,"div",4),t.qZA()(),t.TgZ(7,"div",5)(8,"h1",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Ao,2,0,null,7),t.YNc(12,Io,25,15,"div",8),t.YNc(13,vo,40,27,"div",9),t.YNc(14,bo,2,0,"div",10),t.YNc(15,Zo,2,0,"div",11),t.YNc(16,Lo,2,0,"div",12),t.YNc(17,Do,2,0,"div",13),t.YNc(18,So,2,0,"div",14),t.YNc(19,qo,75,56,"div",15),t.YNc(20,ko,23,20,"div",16),t.YNc(21,Wo,114,82,"div",17),t.YNc(22,xi,16,8,"div",18),t.YNc(23,Ni,89,66,"div",19),t.YNc(24,ki,24,13,"div",20),t.YNc(25,Qi,28,18,"div",21),t.qZA()(),t.YNc(26,Yi,1,0,"es-global-progress",7)),2&i&&(t.xp6(2),t.Q6J("ngIf",n.cancelJobInfo),t.xp6(4),t.Q6J("ngForOf",n.buttons),t.xp6(1),t.Gre("main-content main-content-",n.mode?n.mode.toLowerCase():"default",""),t.xp6(2),t.Oqu(t.lcZ(10,22,"ADMIN.TITLE")),t.xp6(2),t.Q6J("ngIf",n.getModeButton()&&n.getModeButton().factory),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("INFO")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("CONFIG")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("STATISTICS")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("MEDIACENTER")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("FRONTPAGE")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("GLOBAL_CONFIG")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("PLUGINS")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("APPLICATIONS")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("UPDATE")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("IMPORT")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("JOBS")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("TOOLKIT")),t.xp6(1),t.Q6J("ngIf",n.modeIsActive("BROWSER")),t.xp6(1),t.Q6J("ngIf","FOLDERTEMPLATES"===n.mode),t.xp6(1),t.Q6J("ngIf",n.globalProgress))},dependencies:[k.e,st.A,C.sg,C.O5,d.nv,d.ar,d.OR,d.cE,g._Y,g.Fj,g.wV,g.JJ,g.JL,g.On,g.F,rt.d,R.u,q.ey,I.lW,I.RK,X.oG,$.z2,$.iO,$.qH,j.pp,j.ib,j.yz,j.yK,A.KE,A.hX,A.bx,y.Nt,ct.IC,Z.VQ,Z.U0,q.wG,H.gD,m.BZ,m.w1,m.Dz,m.nj,m.ev,m.Gk,Et.w,vt.P,bt.h,Zt.M,at,Wt,Ae,En,bn,M,B.Y,Kn,Vn,D,F.F,x.X$,d.ik],styles:[".main[_ngcontent-%COMP%]{display:flex;width:100%;min-height:100%}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:fixed;display:flex;flex-direction:column;background-color:#fff;height:calc(100% - var(--mainnavHeight));overflow-y:auto;width:250px}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px 30px 20px 20px;width:100%}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:var(--palette-primary-50)}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .button.active[_ngcontent-%COMP%]{color:var(--primary);font-weight:700;background:linear-gradient(to right,var(--primary) 0,var(--primary) 5px,rgba(0,0,0,0) 5px,rgba(0,0,0,0) 5px) no-repeat}.main[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{padding:20px;width:100%;min-width:0;margin-left:250px;flex-grow:1}.main[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%]{min-height:36px;height:auto}.main[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .updates-loading[_ngcontent-%COMP%]{display:flex;margin:auto}.main[_ngcontent-%COMP%]   .main-content-statistics[_ngcontent-%COMP%]{padding:0}.tabs[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.inputGroupGrow[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.inputGroupGrow[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:0;flex-grow:1;display:flex;margin:0 10px}.inputGroupGrow[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-bottom:0}.heading[_ngcontent-%COMP%]{color:var(--textLight);text-transform:uppercase;font-weight:700;font-size:110%;width:100%;border-bottom:1px solid #ccc;margin:20px 0;padding:0 10px}.heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13pt}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-3px;margin-left:10px}.frontpage[_ngcontent-%COMP%], .global-config[_ngcontent-%COMP%]{display:flex;justify-content:center}.frontpage[_ngcontent-%COMP%]   es-admin-frontpage[_ngcontent-%COMP%], .frontpage[_ngcontent-%COMP%]   es-admin-config[_ngcontent-%COMP%], .global-config[_ngcontent-%COMP%]   es-admin-frontpage[_ngcontent-%COMP%], .global-config[_ngcontent-%COMP%]   es-admin-config[_ngcontent-%COMP%]{width:100%}.info[_ngcontent-%COMP%]{max-width:800px;margin:auto}.info[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-family:monospace;white-space:pre;padding:20px;border:1px solid #ccc;background-color:#f9f9f9}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]{position:relative}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:5px 20px 25px}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .tp-name[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .tp-name[_ngcontent-%COMP%]{font-size:90%;color:var(--textLight);padding-bottom:10px}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#d9f2e8;padding:10px;margin:2px 0}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{flex-grow:1}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child, .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{flex-grow:1}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{white-space:pre-line}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .solution-link[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .solution-link[_ngcontent-%COMP%]{color:var(--palette-primary-900);text-transform:uppercase;font-weight:700}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check.check-fail[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check.check-fail[_ngcontent-%COMP%]{background-color:#f1b2c5}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check.check-info[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check.check-info[_ngcontent-%COMP%]{background-color:#eaeaea}.info[_ngcontent-%COMP%]   .checks[_ngcontent-%COMP%]   .check.check-warn[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .checks-toolpermissions[_ngcontent-%COMP%]   .check.check-warn[_ngcontent-%COMP%]{background-color:#fff}.config[_ngcontent-%COMP%]   .xml[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.config[_ngcontent-%COMP%]   .xml[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:30px 20px}.applications[_ngcontent-%COMP%]{max-width:1000px;margin:auto}.applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid #ccc}.applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:0;flex-grow:2;word-break:break-word;padding:5px}.applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div.title[_ngcontent-%COMP%]{flex-grow:4}.applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div.config[_ngcontent-%COMP%], .applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div.edit[_ngcontent-%COMP%], .applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div.download[_ngcontent-%COMP%], .applications[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div.delete[_ngcontent-%COMP%]{max-width:50px}.applications[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:15px}.applications[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{padding-bottom:20px}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:30px 0}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;padding:10px 0}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-self:center}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{margin:10px 0}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin:10px 0;display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}.applications[_ngcontent-%COMP%]   .register-app[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}.applications[_ngcontent-%COMP%]   .materialize-textarea[_ngcontent-%COMP%]{height:150px}.applications[_ngcontent-%COMP%]   .useFile[_ngcontent-%COMP%]{color:var(--textLight);float:left}.applications[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .applications[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%]{float:right}.applications[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{width:100%;text-align:center;font-style:italic;padding-bottom:20px}.applications[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{width:100%;float:left;font-weight:700}.toolkit[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]{padding:20px 0;display:flex;align-items:center}.toolkit[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .toolkit[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .toolkit[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:flex}.toolkit[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%], .toolkit[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .directory[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .directory[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .directory[_ngcontent-%COMP%]{display:inline-block;padding:0 10px;vertical-align:middle}.import[_ngcontent-%COMP%]{max-width:800px;margin:auto}.import[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-right:20px}.import[_ngcontent-%COMP%]   .collections[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .csv[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .oai[_ngcontent-%COMP%]{padding-bottom:50px}.import[_ngcontent-%COMP%]   .oai[_ngcontent-%COMP%]{max-width:500px}.import[_ngcontent-%COMP%]   .oai[_ngcontent-%COMP%]   .oaiSave[_ngcontent-%COMP%], .import[_ngcontent-%COMP%]   .oai[_ngcontent-%COMP%]   .oaiForce[_ngcontent-%COMP%]{width:100%}.import[_ngcontent-%COMP%]   .oai[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:5px 0}.import[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-top:20px}.import[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;width:100%}.import[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.table[_ngcontent-%COMP%]{display:table;width:100%}.tableRow[_ngcontent-%COMP%]{display:table-row;background-color:#fff}.tableRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:table-cell;padding:5px 10px;vertical-align:middle;word-break:break-all;border-bottom:1px solid #ccc}.tableRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--textLight)}.tableRow.table-not-executed[_ngcontent-%COMP%]{background-color:#fff}.header[_ngcontent-%COMP%]{color:var(--textLight);background-color:transparent}.update[_ngcontent-%COMP%]{max-width:1000px;margin:auto}.update[_ngcontent-%COMP%]   .tableRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{min-width:160px}.update[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-weight:700;text-align:center;padding:0 0 40px}.update[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase}.toolkit[_ngcontent-%COMP%]{max-width:1200px}.toolkit[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%], .toolkit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}.toolkit[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]{padding:0;gap:20px}.toolkit[_ngcontent-%COMP%]   .catalina[_ngcontent-%COMP%]{margin-bottom:40px}.toolkit[_ngcontent-%COMP%]   .catalina[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:10px}.toolkit[_ngcontent-%COMP%]   .catalina[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.toolkit[_ngcontent-%COMP%]   .catalina[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:600px}.toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}.toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   .cacheGroup[_ngcontent-%COMP%], .toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   .propertyGroup[_ngcontent-%COMP%]{width:100%}.toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%]{margin:0 5px}.toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   .propertyGroup[_ngcontent-%COMP%]{padding-top:30px;display:flex;align-items:center;gap:20px}.toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   .propertyGroup[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-bottom:0}.toolkit[_ngcontent-%COMP%]   .caches[_ngcontent-%COMP%]   .propertyGroup[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-left:10px}.toolkit[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{padding:20px 0;float:left;width:100%}.toolkit[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{float:left;padding-top:10px;margin-bottom:10px}.toolkit[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%]{float:right}.toolkit[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .cacheInfo[_ngcontent-%COMP%]{max-width:250px;float:left}.browser[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{padding:0 10px}.browser[_ngcontent-%COMP%]   .dsl-query[_ngcontent-%COMP%]{flex-direction:column}.browser[_ngcontent-%COMP%]   .dsl-query[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-bottom:5px}.browser[_ngcontent-%COMP%]   .dsl-query[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]{resize:vertical;overflow:auto}.browser[_ngcontent-%COMP%]   .elastic-response[_ngcontent-%COMP%]{padding-top:20px}.browser[_ngcontent-%COMP%]   .elastic-response[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]{resize:vertical;overflow:auto}.browser[_ngcontent-%COMP%]   .lucenePaging[_ngcontent-%COMP%]{max-width:700px;margin:auto}.browser[_ngcontent-%COMP%]   .lucenePaging[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex-grow:initial;width:auto}.browser[_ngcontent-%COMP%]   .luceneAuthorities[_ngcontent-%COMP%]{margin-bottom:20px}.browser[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]{padding:20px 0 40px}.browser[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   es-actionbar[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;width:100%;height:40px}.browser[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px;color:var(--textLight);font-size:120%}.browser[_ngcontent-%COMP%]   .export-properties[_ngcontent-%COMP%]{min-height:150px}.foldertemplates[_ngcontent-%COMP%]{max-width:900px;margin:auto}.foldertemplates[_ngcontent-%COMP%]   .eduGroupsSelected[_ngcontent-%COMP%]{margin:20px 10px}.foldertemplates[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{float:left;margin-top:20px}.foldertemplates[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{display:inline-block;margin-top:10px}.foldertemplates[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%]{margin-right:20px}.statistics[_ngcontent-%COMP%]{display:flex;justify-content:center}.statistics[_ngcontent-%COMP%]   es-admin-statistics[_ngcontent-%COMP%]{width:100%}.jobs[_ngcontent-%COMP%]{max-width:1200px;display:flex;align-items:center;flex-direction:column}.jobs[_ngcontent-%COMP%]   .jobParams[_ngcontent-%COMP%]{min-height:250px}.jobs[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{position:relative;float:left;width:100%}.jobs[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .autocomplete[_ngcontent-%COMP%]{flex-direction:column}.jobs[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .autocomplete[_ngcontent-%COMP%] > es-autocomplete[_ngcontent-%COMP%]{width:calc(100% - 18px)}.jobs[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .autocomplete[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 20px}.jobs[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]{display:table}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]   .param-row[_ngcontent-%COMP%]{display:table-row}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]   .param-row[_ngcontent-%COMP%]   .param-name[_ngcontent-%COMP%]{font-weight:700}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]   .param-row[_ngcontent-%COMP%]   .param-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--textLight);font-size:90%}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]   .param-row[_ngcontent-%COMP%]   .param-value[_ngcontent-%COMP%]{min-width:30%}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]   .param-row[_ngcontent-%COMP%]   .param-value[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]{margin:5px;padding:5px;border:1px solid #9e9e9e}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   .param-table[_ngcontent-%COMP%]   .param-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:table-cell;padding:2px 5px;vertical-align:middle}.jobs[_ngcontent-%COMP%]   .params[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.jobs[_ngcontent-%COMP%]   .job-class[_ngcontent-%COMP%]{font-size:90%;color:var(--textLight)}.jobs[_ngcontent-%COMP%]   .no-jobs[_ngcontent-%COMP%]{font-size:120%;color:#aaa;text-align:center}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]{display:flex;width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ccc}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-main[_ngcontent-%COMP%]{padding:10px 20px}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .row-detail[_ngcontent-%COMP%]{background-color:#fff;padding-bottom:10px;width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .row-detail[_ngcontent-%COMP%]   .log[_ngcontent-%COMP%]{font-weight:700;padding:10px}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .row-detail[_ngcontent-%COMP%]   .job-col[_ngcontent-%COMP%]{width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .row-detail[_ngcontent-%COMP%]   .job-row[_ngcontent-%COMP%]{padding:2px 20px;width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-filters[_ngcontent-%COMP%]{padding:10px 0!important;justify-content:space-between}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{width:100%}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-filter[_ngcontent-%COMP%]{min-width:70px;color:var(--textLight);font-weight:700;text-transform:uppercase;max-width:500px}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-date[_ngcontent-%COMP%]{min-width:100px;color:var(--textLight)}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-class[_ngcontent-%COMP%]{min-width:170px;max-width:170px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--textLight)}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .log-message[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-all}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .class[_ngcontent-%COMP%]{color:#aaa}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .col-name[_ngcontent-%COMP%]{flex-grow:1}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .col-time[_ngcontent-%COMP%]{text-align:right}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-status[_ngcontent-%COMP%]{display:flex;align-items:center}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-status[_ngcontent-%COMP%]   es-spinner-small[_ngcontent-%COMP%]{margin:0 10px}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .col-more[_ngcontent-%COMP%]{justify-content:center;padding-left:20px;width:40px;color:var(--textLight)}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .status-fine[_ngcontent-%COMP%]{background-color:#dcffd8}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .status-aborted[_ngcontent-%COMP%]{background-color:#eee}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .status-warning[_ngcontent-%COMP%]{background-color:#ffffd8}.jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .status-error[_ngcontent-%COMP%]{background-color:#ffdcd8}[_nghost-%COMP%]     .preloader-wrapper.small{width:16px;height:16px}[_nghost-%COMP%]     .inputGroupGrow .mat-form-field-wrapper{width:100%;margin-bottom:0}[_nghost-%COMP%]     .jobs .log-filters .mat-form-field-wrapper{width:100%}.reload[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end;color:var(--textLight);padding-bottom:10px;position:absolute;top:-47px}.row[_ngcontent-%COMP%]{position:fixed;top:var(--mainnavHeight);width:100%;height:48px;z-index:50}.s12[_ngcontent-%COMP%]{position:fixed;z-index:10}.cancel-job-message[_ngcontent-%COMP%]{white-space:pre-line;padding-bottom:20px}@media all and (max-width: 800px){.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{width:66px}.main[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:none}.main[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:66px}}@media all and (max-width: 1000px){.applications[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{display:none}.applications[_ngcontent-%COMP%]   .tableRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px 2px}.update[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:none}.update[_ngcontent-%COMP%]   .tableRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{min-width:initial}.update[_ngcontent-%COMP%]   .run[_ngcontent-%COMP%]{min-width:160px!important}}@media all and (max-width: 1200px){.applications[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .applications[_ngcontent-%COMP%]   .repoType[_ngcontent-%COMP%], .applications[_ngcontent-%COMP%]   .subtype[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .log-class[_ngcontent-%COMP%], .jobs[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]{display:none}}"],data:{animation:[(0,v.X$)("openOverlay",d.Le.openOverlay(d.Le.ANIMATION_TIME_FAST))]}})}return o})()}];let Bi=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[J.Bz.forChild(Ki),J.Bz]})}return o})(),Wi=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[xt.m,Bi,Tt.x,Ot.forRoot({baseUrl:"./assets"})]})}return o})()}}]);