{"version":3,"file":"src_app_pages_sharing-page_sharing-page_module_ts.js","mappings":"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","sources":["./src/app/pages/sharing-page/sharing-page-routing.module.ts","./src/app/pages/sharing-page/sharing-page.component.ts","./src/app/pages/sharing-page/sharing-page.component.html","./src/app/pages/sharing-page/sharing-page.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharingPageComponent } from './sharing-page.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: SharingPageComponent,\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class SharingPageRoutingModule {}\n","import { Component, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport {\n    CustomOptions,\n    DefaultGroups,\n    ElementType,\n    InteractionType,\n    ListItem,\n    ListSortConfig,\n    NodeDataSource,\n    NodeEntriesDisplayType,\n    NodeEntriesWrapperComponent,\n    OPEN_URL_MODE,\n    OptionItem,\n    Scope,\n    TemporaryStorageService,\n    TranslationsService,\n    UIConstants,\n} from 'ngx-edu-sharing-ui';\nimport {\n    ConfigurationHelper,\n    Node,\n    Person,\n    RestConnectorService,\n    RestConstants,\n    RestHelper,\n    RestNodeService,\n    RestSharingService,\n    SharingInfo,\n} from '../../core-module/core.module';\nimport { Toast } from '../../services/toast';\nimport { Helper } from '../../core-module/rest/helper';\nimport { UIHelper } from '../../core-ui-module/ui-helper';\nimport { BridgeService } from '../../services/bridge.service';\nimport { NodeHelperService } from '../../services/node-helper.service';\nimport { ConfigService } from 'ngx-edu-sharing-api';\n\n@Component({\n    selector: 'es-sharing-page',\n    templateUrl: 'sharing-page.component.html',\n    styleUrls: ['sharing-page.component.scss'],\n})\nexport class SharingPageComponent {\n    readonly NodeEntriesDisplayType = NodeEntriesDisplayType;\n    readonly InteractionType = InteractionType;\n    readonly Scope = Scope;\n    @ViewChild('nodeEntries') nodeEntries: NodeEntriesWrapperComponent<Node>;\n    loading = true;\n    passwordInput: string;\n    private params: Params;\n    sharingInfo: SharingInfo;\n    nodesDataSource = new NodeDataSource<Node>();\n    columns: ListItem[] = [];\n    sort: ListSortConfig = {\n        allowed: true,\n        columns: RestConstants.POSSIBLE_SORT_BY_FIELDS,\n        active: RestConstants.CM_NAME,\n        direction: 'asc',\n    };\n    options: CustomOptions = {\n        useDefaultOptions: false,\n        addOptions: [],\n    };\n    constructor(\n        private router: Router,\n        private route: ActivatedRoute,\n        private connector: RestConnectorService,\n        private nodeService: RestNodeService,\n        private sharingService: RestSharingService,\n        private bridge: BridgeService,\n        private nodeHelperService: NodeHelperService,\n        private storage: TemporaryStorageService,\n        private toast: Toast,\n        private config: ConfigService,\n        private translations: TranslationsService,\n    ) {\n        this.columns.push(new ListItem('NODE', RestConstants.CM_NAME));\n        this.columns.push(new ListItem('NODE', RestConstants.CM_MODIFIED_DATE));\n        this.columns.push(new ListItem('NODE', RestConstants.SIZE));\n        const download = new OptionItem('SHARING.DOWNLOAD', 'cloud_download', (node: Node) =>\n            this.download(node),\n        );\n        download.elementType = [ElementType.Node];\n        download.group = DefaultGroups.Primary;\n        download.showAsAction = true;\n        const open = new OptionItem('SHARING.OPEN', 'open_in_new', (node: Node) => {\n            console.log(node);\n            UIHelper.openUrl(\n                node.properties[RestConstants.CCM_PROP_IO_WWWURL][0],\n                this.bridge,\n                OPEN_URL_MODE.BlankSystemBrowser,\n            );\n        });\n        open.group = DefaultGroups.Primary;\n        open.showAsAction = true;\n        download.customShowCallback = async (nodes: Node[]) => nodes?.[0]?.mediatype !== 'link';\n        open.customShowCallback = async (nodes: Node[]) => nodes?.[0]?.mediatype === 'link';\n        this.options.addOptions.push(download);\n        this.options.addOptions.push(open);\n        this.translations.waitForInit().subscribe(() => {\n            this.route.queryParams.subscribe((params) => {\n                this.params = params;\n                this.sharingService.getInfo(params.nodeId, params.token).subscribe(\n                    (result) => {\n                        this.loading = false;\n                        this.sharingInfo = result;\n                        if (result.expired) {\n                            this.router.navigate([\n                                UIConstants.ROUTER_PREFIX,\n                                'messages',\n                                'share_expired',\n                            ]);\n                            return;\n                        }\n                        this.loadChildren();\n                    },\n                    (error) => {\n                        console.warn(error);\n                        this.router.navigate([\n                            UIConstants.ROUTER_PREFIX,\n                            'messages',\n                            'share_expired',\n                        ]);\n                        this.loading = false;\n                    },\n                );\n            });\n        });\n    }\n\n    validatePassword() {\n        this.sharingService\n            .getInfo(this.params.nodeId, this.params.token, this.passwordInput)\n            .subscribe((result) => {\n                if (!result.passwordMatches) {\n                    this.toast.error(null, 'SHARING.ERROR_INVALID_PASSWORD');\n                }\n                this.sharingInfo = result;\n                this.loadChildren();\n            });\n    }\n    download(child: Node = null) {\n        const node = this.params.nodeId;\n        const token = this.params.token;\n        let url =\n            this.connector.getAbsoluteEndpointUrl() +\n            '../share?mode=download&token=' +\n            encodeURIComponent(token) +\n            '&password=' +\n            encodeURIComponent(this.passwordInput) +\n            '&nodeId=' +\n            encodeURIComponent(node);\n        if (child == null && this.sharingInfo.node.isDirectory) {\n            const ids = RestHelper.getNodeIds(this.nodesDataSource.getData()).join(',');\n            url += '&childIds=' + encodeURIComponent(ids);\n        } else {\n            if (child != null) {\n                url += '&childIds=' + encodeURIComponent(child.ref.id);\n            }\n        }\n        window.open(url);\n    }\n    changeSort(sort: ListSortConfig) {\n        this.sort = sort;\n        this.loadChildren();\n    }\n    private loadChildren() {\n        if (this.sharingInfo.password && !this.sharingInfo.passwordMatches) return;\n        this.nodesDataSource.reset();\n        this.nodesDataSource.isLoading = true;\n        const request = {\n            count: RestConstants.COUNT_UNLIMITED,\n            sortBy: [this.sort.active],\n            sortAscending: [this.sort.direction === 'asc'],\n            propertyFilter: [RestConstants.ALL],\n        };\n        this.sharingService\n            .getChildren(this.params.nodeId, this.params.token, this.passwordInput, request)\n            .subscribe((nodes) => {\n                this.nodesDataSource.setData(nodes.nodes);\n                this.nodesDataSource.isLoading = false;\n                setTimeout(() => {\n                    this.nodeEntries.initOptionsGenerator({\n                        customOptions: this.options,\n                    });\n                });\n            });\n    }\n    inviterIsAuthor() {\n        return Helper.objectEquals(this.sharingInfo.invitedBy, this.sharingInfo.node.createdBy);\n    }\n    getPersonName(person: Person) {\n        return ConfigurationHelper.getPersonWithConfigDisplayName(person, this.config);\n    }\n\n    childCount() {\n        if (this.sharingInfo.node.type === RestConstants.CCM_TYPE_IO) {\n            try {\n                return (\n                    parseInt(\n                        this.sharingInfo.node.properties[\n                            RestConstants.VIRTUAL_PROP_CHILDOBJECTCOUNT\n                        ]?.[0],\n                        10,\n                    ) || 0\n                );\n            } catch (e) {}\n        }\n        return 0;\n    }\n}\n","<es-global-progress *ngIf=\"loading\"></es-global-progress>\n<h1 esTitle class=\"cdk-visually-hidden\">{{ 'SHARING.TITLE' | translate }}</h1>\n<div *ngIf=\"!loading && sharingInfo\" class=\"container\">\n  <div class=\"container-inside\">\n    <div class=\"branding\">\n      <img [src]=\"'assets/images/logo.svg' | esAssetsPath\" esImageConfig alt=\"logo\" />\n    </div>\n    <div\n      class=\"details\"\n      [ngClass]=\"{ 'details-opacity': !(!sharingInfo.password || sharingInfo.passwordMatches) }\"\n    >\n      <div class=\"details-type\">\n        <img class=\"icon\" [src]=\"sharingInfo.node | esNodeIcon | async\" />\n        <div>\n          <div class=\"name\">{{ sharingInfo.node.name }}</div>\n          <div class=\"subobjects\" *ngIf=\"childCount() > 0\">\n            {{\n              'SHARING.SUBELEMENT_' + (childCount() === 1 ? 'SINGLE' : 'MULTI')\n                | translate : { count: childCount() }\n            }}\n          </div>\n          <div *ngIf=\"inviterIsAuthor()\">\n            {{\n              'SHARING.INVITED_AND_CREATED_BY'\n                | translate : { inviter: getPersonName(sharingInfo.invitedBy) }\n            }}\n          </div>\n          <div *ngIf=\"!inviterIsAuthor()\">\n            {{\n              'SHARING.INVITED_PLUS_CREATED_BY'\n                | translate\n                  : {\n                      inviter: getPersonName(sharingInfo.invitedBy),\n                      creator: getPersonName(sharingInfo.node.createdBy)\n                    }\n            }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"!(!sharingInfo.password || sharingInfo.passwordMatches)\" class=\"password-required\">\n      <form (ngsubmit)=\"validatePassword()\">\n        <es-input-password\n          label=\"{{ 'SHARING.PASSWORD' | translate }}\"\n          [required]=\"true\"\n          inputId=\"password\"\n          (keydown.enter)=\"validatePassword()\"\n          [(value)]=\"passwordInput\"\n          placeholder=\"{{ 'SHARING.PASSWORD_PLACEHOLDER' | translate }}\"\n        ></es-input-password>\n        <button mat-raised-button color=\"primary\" (click)=\"validatePassword()\">\n          {{ 'SHARING.ENTER_PASSWORD' | translate }}\n        </button>\n      </form>\n    </div>\n    <div *ngIf=\"!sharingInfo.password || sharingInfo.passwordMatches\" class=\"password-valid\">\n      <div\n        *ngIf=\"sharingInfo.password && sharingInfo.passwordMatches && !sharingInfo.node.isDirectory\"\n        class=\"password-correct\"\n      >\n        <i esIcon=\"done\"></i>{{ 'SHARING.PASSWORD_CORRECT' | translate }}\n      </div>\n      <div *ngIf=\"sharingInfo.node.isDirectory\">\n        <div class=\"download-top\">\n          <button mat-raised-button color=\"primary\" (click)=\"download()\">\n            <i esIcon=\"cloud_download\"></i>{{ 'SHARING.DOWNLOAD_ZIP' | translate }}\n          </button>\n        </div>\n        <div class=\"folder\">\n          <es-node-entries-wrapper\n            #nodeEntries\n            [dataSource]=\"nodesDataSource\"\n            [scope]=\"Scope.Sharing\"\n            [columns]=\"columns\"\n            [checkbox]=\"false\"\n            [sort]=\"sort\"\n            [elementInteractionType]=\"InteractionType.None\"\n            [displayType]=\"NodeEntriesDisplayType.Table\"\n            (sortChange)=\"changeSort($event)\"\n          ></es-node-entries-wrapper>\n        </div>\n      </div>\n      <div class=\"download\">\n        <button mat-raised-button color=\"primary\" (click)=\"download()\">\n          <i esIcon=\"cloud_download\"></i\n          >{{\n            'SHARING.' +\n              (sharingInfo.node.mediatype === 'link'\n                ? 'LINK'\n                : sharingInfo.node.isDirectory && nodesDataSource.getData()?.length > 1\n                ? 'DOWNLOAD_ZIP'\n                : 'DOWNLOAD') | translate\n          }}\n        </button>\n      </div>\n    </div>\n  </div>\n  <es-powered-by mode=\"color\"></es-powered-by>\n</div>\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\nimport { SharingPageRoutingModule } from './sharing-page-routing.module';\nimport { SharingPageComponent } from './sharing-page.component';\n\n@NgModule({\n    declarations: [SharingPageComponent],\n    imports: [SharedModule, SharingPageRoutingModule],\n})\nexport class SharingPageModule {}\n"],"names":["RouterModule","SharingPageComponent","routes","path","component","SharingPageRoutingModule","_","_2","_3","forChild","imports","i1","exports","DefaultGroups","ElementType","InteractionType","ListItem","NodeDataSource","NodeEntriesDisplayType","OPEN_URL_MODE","OptionItem","Scope","UIConstants","ConfigurationHelper","RestConstants","RestHelper","Helper","UIHelper","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ctx_r2","childCount","ɵɵpureFunction1","_c1","_c2","ctx_r3","getPersonName","sharingInfo","invitedBy","ɵɵpureFunction2","_c3","ctx_r4","node","createdBy","ɵɵlistener","SharingPageComponent_div_4_div_16_Template_form_ngsubmit_1_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","validatePassword","SharingPageComponent_div_4_div_16_Template_es_input_password_keydown_enter_2_listener","ctx_r9","SharingPageComponent_div_4_div_16_Template_es_input_password_valueChange_2_listener","$event","ctx_r10","passwordInput","SharingPageComponent_div_4_div_16_Template_button_click_5_listener","ctx_r11","ɵɵpropertyInterpolate","ɵɵpipeBind1","ɵɵproperty","ctx_r5","SharingPageComponent_div_4_div_17_div_2_Template_button_click_2_listener","_r16","ctx_r15","download","SharingPageComponent_div_4_div_17_div_2_Template_es_node_entries_wrapper_sortChange_7_listener","ctx_r17","changeSort","ctx_r13","nodesDataSource","Sharing","columns","sort","None","Table","ɵɵtemplate","SharingPageComponent_div_4_div_17_div_1_Template","SharingPageComponent_div_4_div_17_div_2_Template","SharingPageComponent_div_4_div_17_Template_button_click_4_listener","_r19","ctx_r18","ctx_r6","password","passwordMatches","isDirectory","mediatype","tmp_2_0","getData","length","SharingPageComponent_div_4_div_13_Template","SharingPageComponent_div_4_div_14_Template","SharingPageComponent_div_4_div_15_Template","SharingPageComponent_div_4_div_16_Template","SharingPageComponent_div_4_div_17_Template","ɵɵsanitizeUrl","_c4","ctx_r1","ɵɵtextInterpolate","name","inviterIsAuthor","constructor","router","route","connector","nodeService","sharingService","bridge","nodeHelperService","storage","toast","config","translations","loading","allowed","POSSIBLE_SORT_BY_FIELDS","active","CM_NAME","direction","options","useDefaultOptions","addOptions","push","CM_MODIFIED_DATE","SIZE","elementType","Node","group","Primary","showAsAction","open","console","log","openUrl","properties","CCM_PROP_IO_WWWURL","BlankSystemBrowser","customShowCallback","_ref","_asyncToGenerator","nodes","_x","apply","arguments","_ref2","_x2","waitForInit","subscribe","queryParams","params","getInfo","nodeId","token","result","expired","navigate","ROUTER_PREFIX","loadChildren","error","warn","child","url","getAbsoluteEndpointUrl","encodeURIComponent","ids","getNodeIds","join","ref","id","window","reset","isLoading","request","count","COUNT_UNLIMITED","sortBy","sortAscending","propertyFilter","ALL","getChildren","setData","setTimeout","nodeEntries","initOptionsGenerator","customOptions","objectEquals","person","getPersonWithConfigDisplayName","type","CCM_TYPE_IO","parseInt","VIRTUAL_PROP_CHILDOBJECTCOUNT","e","ɵɵdirectiveInject","Router","ActivatedRoute","i2","RestConnectorService","RestNodeService","RestSharingService","i3","BridgeService","i4","NodeHelperService","i5","TemporaryStorageService","i6","Toast","i7","ConfigService","TranslationsService","selectors","viewQuery","SharingPageComponent_Query","rf","ctx","SharingPageComponent_es_global_progress_0_Template","SharingPageComponent_div_4_Template","SharedModule","SharingPageModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}