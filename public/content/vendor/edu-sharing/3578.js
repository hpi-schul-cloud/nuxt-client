"use strict";(self.webpackChunkapp_as_web_component=self.webpackChunkapp_as_web_component||[]).push([[3578],{3578:(w,m,s)=>{s.r(m),s.d(m,{EmbedPageModule:()=>V});var f=s(66317),u=s(2962),p=s(50555),c=s(22941),l=s(15861),r=s(38181),g=s(46680),v=s(90721),I=s(72079),t=s(65879),E=s(52081),y=s(5178),P=s(1189),b=s(96814),C=s(87548),R=s(1751);const T=["mdsRef"],S=["licenseRef"];function A(e,Y){if(1&e&&t._UZ(0,"es-mds-editor-wrapper",2,3),2&e){const n=t.oxw();t.Q6J("embedded",!0)("currentValues",n.data)("setId",n.setId)("groupId",n.groupId)}}const N=function(e){return{kind:"properties",properties:e}};function x(e,Y){if(1&e&&t._UZ(0,"es-license-dialog-content",4,5),2&e){const n=t.oxw();t.Q6J("data",t.VKq(1,N,n.data))}}const F=[{path:":component",component:(()=>{class e{constructor(n,o,i,d,J,Q){var h=this;this.translations=n,this.mainNavService=o,this.toast=i,this.ngZone=d,this.route=J,this.event=Q,this.data={},this.groupId="io",this.setId=g.u.DEFAULT,this.destroyed=new I.xQ,window.ngEmbed=this,this.mainNavService.getCookieInfo().show=!1,this.mainNavService.patchMainNavConfig({currentScope:"embed",show:!1}),this.event.addListener(this,this.destroyed),this.toast.showProgressSpinner(),this.translations.waitForInit().subscribe(()=>{this.route.params.subscribe(Z=>{this.component=Z.component,this.route.queryParams.subscribe(a=>{a.group&&(this.groupId=a.group),a.set&&(this.setId=a.set),a.data&&(this.data=JSON.parse(a.data)),"mds"===this.component?v.d.waitForComponent(this.ngZone,this,"mdsRef").subscribe((0,l.Z)(function*(){yield h.mdsRef.reInit(),h.toast.closeProgressSpinner()})):this.toast.closeProgressSpinner()})})})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}onEvent(n,o){var i=this;return(0,l.Z)(function*(){n===r.I.EVENT_PARENT_FETCH_DATA&&("mds"===i.component?i.event.broadcastEvent(r.I.EVENT_POST_DATA,yield i.mdsRef.getValues()):"license"===i.component&&i.event.broadcastEvent(r.I.EVENT_POST_DATA,i.licenseRef.getProperties()))})()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(E.fA),t.Y36(y.ZF),t.Y36(P.F),t.Y36(t.R0b),t.Y36(c.gz),t.Y36(r.I))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["es-mds-embed"]],viewQuery:function(o,i){if(1&o&&(t.Gf(T,5),t.Gf(S,5)),2&o){let d;t.iGM(d=t.CRH())&&(i.mdsRef=d.first),t.iGM(d=t.CRH())&&(i.licenseRef=d.first)}},decls:2,vars:2,consts:[["editorMode","form",3,"embedded","currentValues","setId","groupId",4,"ngIf"],[3,"data",4,"ngIf"],["editorMode","form",3,"embedded","currentValues","setId","groupId"],["mdsRef",""],[3,"data"],["licenseRef",""]],template:function(o,i){1&o&&(t.YNc(0,A,2,4,"es-mds-editor-wrapper",0),t.YNc(1,x,2,3,"es-license-dialog-content",1)),2&o&&(t.Q6J("ngIf","mds"===i.component),t.xp6(1),t.Q6J("ngIf","license"===i.component))},dependencies:[b.O5,C.o,R.a],styles:["html,body{overflow-x:hidden;background-color:transparent}\n"],encapsulation:2})}return e})()}];let M=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(F),c.Bz]})}return e})(),V=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[p.m,M,u.x,f.LicenseDialogModule]})}return e})()}}]);