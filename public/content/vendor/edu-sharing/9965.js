"use strict";(self.webpackChunkapp_as_web_component=self.webpackChunkapp_as_web_component||[]).push([[9965],{59965:(P,C,i)=>{i.r(C),i.d(C,{OerPageModule:()=>Y});var _=i(50555),p=i(22941),c=i(52081),r=i(81771),u=i(81955),E=i(64634),x=i(45125),L=i(72079),t=i(65879),T=i(76754),A=i(5178),l=i(71365),d=i(86381),S=i(96814),v=i(68014),m=i(654),f=i(66848),I=i(689);function R(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToCollections())})("keyup.enter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToCollections())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.showMore[e.COLLECTIONS]?"HIDE_MORE":"SHOW_MORE"))}}function N(n,g){1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"OER.NO_COLLECTION_RESULTS")," "))}function y(n,g){if(1&n&&(t.TgZ(0,"div",13)(1,"div",8),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,R,4,3,"div",9),t.YNc(5,N,3,3,"div",14),t.TgZ(6,"div"),t._uU(7,"TODO"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"OER.COLLECTIONS")),t.xp6(2),t.Q6J("ngIf",e.hasMore[e.COLLECTIONS]||!0),t.xp6(1),t.Q6J("ngIf",!e.loading[e.COLLECTIONS]&&!e.nodes[e.COLLECTIONS].length)}}function w(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"a",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goToSearch())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,e.showMore[e.MATERIALS]?"HIDE_MORE":"SHOW_MORE"))}}function B(n,g){1&n&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"OER.NO_MATERIAL_RESULTS")," "))}function D(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.toggleMore(o.TOOLS))})("keyup.enter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.toggleMore(o.TOOLS))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.showMore[e.TOOLS]?"HIDE_MORE":"SHOW_MORE"))}}function b(n,g){1&n&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"OER.NO_TOOL_RESULTS")," "))}function Z(n,g){if(1&n&&(t.TgZ(0,"div",20)(1,"div",8),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,D,4,3,"div",9),t.YNc(5,b,3,3,"div",21),t._uU(6," TODO "),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"OER.TOOLS")),t.xp6(2),t.Q6J("ngIf",e.hasMore[e.TOOLS]),t.xp6(1),t.Q6J("ngIf",!e.loading[e.TOOLS]&&!e.nodes[e.TOOLS].length)}}const U=[{path:"",component:(()=>{class n{get currentQuery(){return this.currentQuerySubject.value}set currentQuery(e){this.currentQuerySubject.next(e)}constructor(e,s,o,a,O,Q,F,j,J,W,G,K){this.router=e,this.route=s,this.connector=o,this.nodeService=a,this.nodeHelper=O,this.searchService=Q,this.mdsService=F,this.storage=j,this.translations=J,this.mainNav=W,this.translate=G,this.searchField=K,this.SCOPES=c.sX,this.COLLECTIONS=0,this.MATERIALS=1,this.TOOLS=2,this.TYPE_COUNT=3,this.columns=[],this.options=[],this.currentQuerySubject=new x.X(null),this.loading=[],this.showMore=[],this.hasMore=[],this.offsets=[],this.nodes=[],this.destroyed=new L.xQ,this.translations.waitForInit().subscribe(()=>{for(let h=0;h<this.TYPE_COUNT;h++)this.columns.push([]),this.updateOptions(h),this.nodes.push([]);this.columns[this.COLLECTIONS].push(new c.HC("NODE",r.u6.CM_NAME)),this.columns[this.COLLECTIONS].push(new c.HC("COLLECTION","info")),this.columns[this.COLLECTIONS].push(new c.HC("COLLECTION","scope")),this.mdsService.getSet().subscribe(h=>{this.columns[this.MATERIALS]=u.h.getColumns(this.translate,h,"search")}),this.columns[this.TOOLS].push(new c.HC("NODE",r.u6.CM_NAME)),this.columns[this.TOOLS].push(new c.HC("NODE",r.u6.LOM_PROP_DESCRIPTION)),this.connector.numberPerRequest=20;for(let h=0;h<this.TYPE_COUNT;h++)this.offsets[h]=0,this.nodes[h]=[],this.showMore[h]=!1,this.hasMore[h]=!1;this.route.queryParams.forEach(h=>{for(let M=0;M<this.TYPE_COUNT;M++)this.showMore[M]="true"==h["showMore"+M];this.search(h.query?h.query:"")})}),setInterval(()=>this.updateHasMore(),1e3)}ngOnInit(){this.registerMainNav()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.storage.set(r.xU.NODE_RENDER_PARAMETER_LIST,this.nodes[this.MATERIALS]),this.mainNav.getMainNav().topBar.elementRef.nativeElement.style.marginTop=null}registerMainNav(){this.mainNav.setMainNavConfig({title:"SEARCH.TITLE",currentScope:"oer",canOpen:!0});const e=this.searchField.enable({placeholder:"OER.SEARCH"},this.destroyed);e.onSearchTriggered().subscribe(({searchString:s})=>this.routeSearch(s)),this.currentQuerySubject.subscribe(s=>e.setSearchString(s))}setMainNavOffset(e){this.mainNav.getMainNav().topBar.elementRef.nativeElement.style.marginTop=e+"px"}goToCollections(){this.router.navigate([c.ru.ROUTER_PREFIX+"collections"],{queryParams:{mainnav:!0}})}goToSearch(){this.router.navigate([c.ru.ROUTER_PREFIX+"search"])}routeSearch(e=this.currentQuery){if(e)return void this.router.navigate([c.ru.ROUTER_PREFIX+"search"],{queryParams:{query:e}});const s={query:e};for(let o=0;o<this.TYPE_COUNT;o++)s["showMore"+o]=this.showMore[o];this.router.navigate(["./"],{queryParams:s,relativeTo:this.route})}checkMore(){}search(e){if(this.currentQuery===e)return;for(let a=0;a<this.TYPE_COUNT;a++)this.offsets[a]=0,this.nodes[a]=[],this.loading[a]=!0;const s=[];this.currentQuery=e;const o=e;""===e&&(e="*"),s.push({property:"ngsearchword",values:[e]}),this.searchService.search(s,[],{sortBy:[r.u6.CCM_PROP_COLLECTION_PINNED_STATUS,r.u6.CCM_PROP_COLLECTION_PINNED_ORDER,r.u6.CM_MODIFIED_DATE],sortAscending:[!1,!0,!1],offset:this.offsets[this.COLLECTIONS],propertyFilter:[r.u6.ALL]},r.u6.CONTENT_TYPE_COLLECTIONS,r.u6.HOME_REPOSITORY,r.u6.DEFAULT,[r.u6.ALL],"collections").subscribe(a=>{if(this.currentQuery===o){for(const O of a.nodes)this.nodes[this.COLLECTIONS].push(O);this.offsets[this.COLLECTIONS]+=this.connector.numberPerRequest,this.loading[this.COLLECTIONS]=!1}}),this.searchService.search(s,[],{sortBy:[r.u6.CM_MODIFIED_DATE],sortAscending:!1,offset:this.offsets[this.MATERIALS],propertyFilter:[r.u6.ALL]}).subscribe(a=>{if(this.currentQuery===o){for(const O of a.nodes)this.nodes[this.MATERIALS].push(O);this.nodes[this.MATERIALS]=E.W.deepCopyArray(this.nodes[this.MATERIALS]),this.offsets[this.MATERIALS]+=this.connector.numberPerRequest,this.loading[this.MATERIALS]=!1}}),this.searchService.search(s,[],{sortBy:[r.u6.CM_MODIFIED_DATE],sortAscending:!1,offset:this.offsets[this.TOOLS],propertyFilter:[r.u6.LOM_PROP_DESCRIPTION]}).subscribe(a=>{if(this.currentQuery===o){for(const O of a.nodes)this.nodes[this.TOOLS].push(O);this.nodes[this.TOOLS]=E.W.deepCopyArray(this.nodes[this.TOOLS]),this.offsets[this.TOOLS]+=this.connector.numberPerRequest,this.loading[this.TOOLS]=!1}})}toggleMore(e){this.showMore[e]=!this.showMore[e],this.routeSearch()}loadMore(e){}openNode(e){this.router.navigate([this.nodeHelper.getNodeLink("routerLink",e)],{queryParams:this.nodeHelper.getNodeLink("queryParams",e)})}updateOptions(e,s=null){if(this.options[e]=[],e==this.MATERIALS){this.options[e].push(new c.BA("INFORMATION","info_outline",a=>this.openNode(a)));const o=new c.BA("DOWNLOAD","cloud_download",a=>this.downloadNode(a));s&&"link"==s.mediatype&&(o.isEnabled=!1),this.options[e].push(o)}}downloadNode(e=this.displayedNode){window.open(e.downloadUrl)}updateHasMore(){try{this.hasMore[this.COLLECTIONS]=document.getElementById("collections").scrollHeight>105}catch{}try{this.hasMore[this.MATERIALS]=document.getElementById("materials").scrollHeight>315}catch{}try{this.hasMore[this.TOOLS]=document.getElementById("tools").scrollHeight>315}catch{}}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(p.F0),t.Y36(p.gz),t.Y36(r.xD),t.Y36(r.xE),t.Y36(T.G),t.Y36(r.Y6),t.Y36(r.xW),t.Y36(r.xU),t.Y36(c.fA),t.Y36(A.ZF),t.Y36(l.sK),t.Y36(d.LN))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["es-oer-page"]],decls:23,vars:17,consts:[[1,"header",3,"esBorderBoxObserver"],["esImageConfig","","alt","",3,"src"],[1,"headerGradient"],[1,"heading"],["esTitle",""],[1,"content"],["class","collectionsGroup",4,"ngIf"],[1,"materials"],[1,"caption"],["class","more",4,"ngIf"],["class","noResults materials",4,"ngIf"],["class","tools",4,"ngIf"],[3,"scope"],[1,"collectionsGroup"],["class","noResults collections",4,"ngIf"],[1,"more"],["tabindex","0",1,"clickable",3,"click","keyup.enter"],[1,"noResults","collections"],["tabindex","0",1,"clickable",3,"click"],[1,"noResults","materials"],[1,"tools"],["class","noResults tools",4,"ngIf"],[1,"noResults","tools"]],template:function(s,o){1&s&&(t.TgZ(0,"div")(1,"div",0),t.NdJ("esBorderBoxObserver",function(O){return o.setMainNavOffset(O.height-75)}),t._UZ(2,"img",1),t.ALo(3,"esAssetsPath"),t._UZ(4,"div",2),t.qZA(),t.TgZ(5,"div",3)(6,"h1",4),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"h2"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",5),t.YNc(13,y,8,5,"div",6),t.TgZ(14,"div",7)(15,"div",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,w,4,3,"div",9),t.YNc(19,B,3,3,"div",10),t._uU(20," TODO "),t.qZA(),t.YNc(21,Z,7,5,"div",11),t.qZA()(),t._UZ(22,"es-footer",12)),2&s&&(t.xp6(2),t.Q6J("src",t.lcZ(3,9,"assets/images/layout/oer_bg.jpg"),t.LSH),t.xp6(5),t.Oqu(t.lcZ(8,11,"OER.HEADING_TITLE")),t.xp6(3),t.Oqu(t.lcZ(11,13,"OER.HEADING_DESCRIPTION")),t.xp6(3),t.Q6J("ngIf",o.nodes[o.COLLECTIONS]&&o.nodes[o.COLLECTIONS].length),t.xp6(3),t.Oqu(t.lcZ(17,15,"OER.MATERIALS")),t.xp6(2),t.Q6J("ngIf",o.hasMore[o.MATERIALS]),t.xp6(1),t.Q6J("ngIf",!(o.loading[o.MATERIALS]||o.nodes[o.MATERIALS]&&o.nodes[o.MATERIALS].length)),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("scope","oer"))},dependencies:[S.O5,c.bd,v.c,m.e,f.M,I.U,l.X$],styles:[".topBar-oer>div{background:transparent!important}  .topBar-oer .topBarSearch form input{background-color:#fff!important}  .topBar-oer .topBarSearch{position:initial!important}  .topBar-oer .topBarSearch form input,   .topBar-oer .topBarSearch form i{color:#505050!important}  .topBar-oer .userMenu{position:absolute!important}  .topBar-oer .topBarSearch form{margin:auto}  .topBar-oer .topBarSearch form .searchClearIcon{right:5px}  .topBar-oer .topBarSearch form,   .topBar-oer .topBarSearch input{width:500px;box-sizing:border-box}  .topBar-oer .topbar-search-right{width:300px;text-align:right;display:flex!important;align-items:center;justify-content:flex-end}@media screen and (max-width: 1200px){  .topBar-oer .topBarSearch form,   .topBar-oer .topBarSearch input{width:100%;box-sizing:content-box}}@media screen and (max-width: 1000px){  .topBar-oer .user{width:auto}}@media screen and (max-width: 900px){  .topBar-oer .topbar-search-right{width:auto}  .topBar-oer .searchInputGroup{width:100%!important}}@media screen and (max-width: 700px){  .topBar-oer .topBarSearch form,   .topBar-oer .topBarSearch input{box-sizing:border-box}}@media screen and (max-width: 1000px){.heading[_ngcontent-%COMP%]{display:none}}.heading[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;margin-top:3%;width:100%;text-align:center;color:#fff}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:240%}.heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:120%;white-space:pre-line}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-shadow:0 0 10px #000}.header[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;max-height:300px;min-height:80px}.header[_ngcontent-%COMP%]   .headerGradient[_ngcontent-%COMP%]{position:absolute;z-index:1;inset:0 0 5px;background:linear-gradient(rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%)}.content[_ngcontent-%COMP%]{position:relative;top:-20px;width:calc(100% + 10px);padding:0 4%;overflow:hidden}.caption[_ngcontent-%COMP%]{float:left;color:var(--textLight);margin-left:15px}.more[_ngcontent-%COMP%]{float:right;text-transform:uppercase;font-weight:700}.more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 10px}.list[_ngcontent-%COMP%]{width:calc(100% + var(--cardWidth)60px);float:left;overflow:hidden;margin:10px 0}.collections[_ngcontent-%COMP%]{min-height:115px;max-height:115px;margin-bottom:70px}.materials[_ngcontent-%COMP%]{min-height:315px;max-height:315px}.scrollContent[_ngcontent-%COMP%]{overflow-x:auto}.listLoading[_ngcontent-%COMP%]{width:100%}.listMore[_ngcontent-%COMP%]{width:100%;max-height:none}.noResults[_ngcontent-%COMP%]{float:left;width:100%;font-size:120%;color:#0000008a;text-align:center;padding-top:20px}@media (pointer: coarse){[_nghost-%COMP%]     .collections{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .collections .list{width:max-content}}@media all and (max-width: 900px){[_nghost-%COMP%]     .collections .list{width:max-content}.collections[_ngcontent-%COMP%]{width:calc(100% + 40px);margin:10px -20px;padding:0 20px}}@media all and (max-width: 700px){.materials[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{width:100%}}"]})}return n})()}];let H=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(U),p.Bz]})}return n})(),Y=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[_.m,H]})}return n})()},66848:(P,C,i)=>{i.d(C,{M:()=>t});var _=i(72079),p=i(12994),c=i(77504),r=i(96124),u=i(65879),E=i(6593),x=i(52081),L=i(81771);let t=(()=>{class T{constructor(l,d,S,v){this.elementRef=l,this.documentTitle=d,this.translations=S,this.pageHeading=new _.xQ,this.titleOverride=new _.xQ,this.pageTitle=new _.xQ,this.mutationObserver=new MutationObserver(()=>this.updatePageHeading()),this.mutationObserver.observe(this.elementRef.nativeElement,{characterData:!0,subtree:!0}),(0,p.aj)([this.pageHeading,this.titleOverride]).pipe((0,r.U)(([m,f])=>f??m)).subscribe(this.pageTitle),(0,p.aj)([(0,c.D)({branding:v.get("branding"),siteTitle:v.get("siteTitle","edu-sharing")}),this.pageTitle,this.translations.waitForInit()]).subscribe(([m,f])=>this.updateTitle(m,f))}ngOnChanges(l){if(l.esTitle){const d=l.esTitle.currentValue;this.titleOverride.next(""===d?null:d??"")}}ngOnInit(){this.updatePageHeading()}ngOnDestroy(){this.mutationObserver.disconnect()}updatePageHeading(){this.pageHeading.next(this.elementRef.nativeElement.textContent)}updateTitle(l,d){this.documentTitle.setTitle(d?l.branding?d+" - "+l.siteTitle:d:l.siteTitle)}static#t=this.\u0275fac=function(d){return new(d||T)(u.Y36(u.SBq),u.Y36(E.Dx),u.Y36(x.fA),u.Y36(L.eB))};static#e=this.\u0275dir=u.lG2({type:T,selectors:[["","esTitle",""]],inputs:{esTitle:"esTitle"},features:[u.TTD]})}return T})()}}]);