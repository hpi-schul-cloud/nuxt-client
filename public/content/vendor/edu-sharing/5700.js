"use strict";(self.webpackChunkapp_as_web_component=self.webpackChunkapp_as_web_component||[]).push([[5700],{75700:(Z,m,a)=>{a.r(m),a.d(m,{AddFolderDialogComponent:()=>T,AddFolderDialogModule:()=>E});var p=a(50555),l=a(81771),u=a(90721),A=a(53461),t=a(65879),C=a(91486),g=a(71365),v=a(48098),f=a(96814),i=a(56223),F=a(23680),c=a(64170),S=a(24516),D=a(98525);function M(o,h){if(1&o&&(t.TgZ(0,"mat-option",4),t._uU(1),t.qZA()),2&o){const e=h.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function O(o,h){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-select",2),t.NdJ("ngModelChange",function(n){t.CHM(e);const d=t.oxw();return t.KtG(d.mdsSet=n)}),t.YNc(6,M,2,2,"mat-option",3),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"WORKSPACE.ADD_FOLDER_METADATASET")),t.xp6(2),t.Q6J("ngModel",e.mdsSet),t.xp6(1),t.Q6J("ngForOf",e.mdsSets)}}let T=(()=>{class o{constructor(e,s,n,d,r){this.data=e,this.dialogRef=s,this.mds=n,this.translate=d,this.config=r,this.folderName=""}ngOnInit(){this.processDialogData(),this.updateButtons()}processDialogData(){this.mds.getSets().subscribe(e=>{this.mdsSets=l.qp.filterValidMds(l.u6.HOME_REPOSITORY,e.metadatasets,this.config),this.mdsSets&&(u.d.prepareMetadatasets(this.translate,this.mdsSets),this.mdsSets.length?this.mdsSet=this.mdsSets[0].id:(console.error("Filtering valid mds failed, no mds was available after filtering. Will use default mds"),console.error("Check availableMds in config"))),this._parent=this.data.parent,this._parent&&this._parent.metadataset&&"default"!==this._parent.metadataset&&(this.mdsSet=this._parent.metadataset)})}cancel(){this.dialogRef.close(null)}addFolder(){const e=this.folderName.trim();e&&this.dialogRef.close({name:e,metadataSet:this.mdsSets?this.mdsSet:null})}updateButtons(){const e=[new l.Qd("CANCEL",{color:"standard"},()=>this.cancel()),new l.Qd("SAVE",{color:"primary"},()=>this.addFolder())];e[1].disabled=!this.folderName.trim(),this.dialogRef.patchConfig({buttons:e})}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(A.W9),t.Y36(C.Y),t.Y36(l.xW),t.Y36(g.sK),t.Y36(v.E4))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["es-add-folder-dialog"]],decls:6,vars:5,consts:[["matInput","","autofocus","","autocomplete","off","data-test","add-folder-name-input",3,"ngModel","ngModelChange","keyup.enter"],[4,"ngIf"],["id","mdsSet",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,n){1&s&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"input",0),t.NdJ("ngModelChange",function(r){return n.folderName=r})("ngModelChange",function(){return n.updateButtons()})("keyup.enter",function(){return n.addFolder()}),t.qZA()(),t.YNc(5,O,7,5,"div",1)),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"WORKSPACE.FOLDER_PLACEHOLDER")),t.xp6(2),t.Q6J("ngModel",n.folderName),t.xp6(1),t.Q6J("ngIf",n.mdsSets&&n.mdsSets.length>1))},dependencies:[f.sg,f.O5,i.Fj,i.JJ,i.On,F.ey,c.KE,c.hX,S.Nt,D.gD,g.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return o})(),E=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=t.oAB({type:o});static#a=this.\u0275inj=t.cJS({imports:[p.m]})}return o})()}}]);