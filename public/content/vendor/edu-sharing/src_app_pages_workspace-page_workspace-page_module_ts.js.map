{"version":3,"file":"src_app_pages_workspace-page_workspace-page_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAuE;AAS7B;AAEoD;;;;;;;;;;;;;ICF1FO,4DAAA,iBAA4F;IAAvDA,wDAAA,mBAAAG,yFAAA;MAAAH,2DAAA,CAAAK,IAAA;MAAA,MAAAC,OAAA,GAAAN,2DAAA;MAAA,OAASA,yDAAA,CAAAM,OAAA,CAAAG,cAAA,CAAAC,IAAA,CAAAJ,OAAA,CAAAK,KAAA,CAA0B;IAAA,EAAC;IACvEX,4DAAA,YAA0B;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EAAI;;;;;IAKlCA,4DAAA,aAA4C;IAAAA,oDAAA,GAAoC;;IAAAA,0DAAA,EAAM;;;IAA1CA,uDAAA,GAAoC;IAApCA,+DAAA,CAAAA,yDAAA,2BAAoC;;;;;IAChFA,4DAAA,aAAsC;IAAAA,oDAAA,GAAgB;IAAAA,0DAAA,EAAM;;;;IAAtBA,uDAAA,GAAgB;IAAhBA,+DAAA,CAAAiB,MAAA,CAAAC,IAAA,CAAAC,KAAA,CAAgB;;;;;IACtDnB,4DAAA,aAA+C;IAC7CA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,0CACF;;;;;IAEEA,4DAAA,cAAyD;IACpCA,oDAAA,GAAa;IAAAA,0DAAA,EAAO;;;;IAApBA,uDAAA,GAAa;IAAbA,+DAAA,CAAAqB,WAAA,CAAa;;;;;IAFpCrB,4DAAA,aAAyC;IACvCA,wDAAA,IAAAuB,oEAAA,kBAEM;IACRvB,0DAAA,EAAM;;;;IAHmCA,uDAAA,GAAgB;IAAhBA,wDAAA,YAAAyB,MAAA,CAAAP,IAAA,CAAAQ,QAAA,CAAgB;;;;;IAIzD1B,4DAAA,aAAkD;IAAAA,oDAAA,GAAoC;;IAAAA,0DAAA,EAAM;;;IAA1CA,uDAAA,GAAoC;IAApCA,+DAAA,CAAAA,yDAAA,2BAAoC;;;;;IACtFA,4DAAA,cAA6D;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAM;;;;IAA5BA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAA2B,MAAA,CAAAT,IAAA,CAAAU,WAAA,CAAsB;;;;;IACnF5B,4DAAA,aAAsD;IACpDA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,wCACF;;;;;IACAA,4DAAA,cAA8D;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAM;;;;IAAhCA,uDAAA,GAA0B;IAA1BA,+DAAA,CAAA6B,MAAA,CAAAX,IAAA,CAAAY,eAAA,CAA0B;;;;;IACxF9B,4DAAA,aAA6C;IAC3CA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,sDACF;;;;;IACAA,4DAAA,aAAuC;IAAAA,oDAAA,GAAiB;IAAAA,0DAAA,EAAM;;;;IAAvBA,uDAAA,GAAiB;IAAjBA,+DAAA,CAAA+B,OAAA,CAAAb,IAAA,CAAAc,MAAA,CAAiB;;;;;IAKtDhC,4DAAA,WAAkD;IAAAA,oDAAA,GAEhD;;IAAAA,0DAAA,EAAO;;;;IAFyCA,uDAAA,GAEhD;IAFgDA,+DAAA,CAAAA,yDAAA,sBAAAiC,OAAA,CAAAf,IAAA,CAAAgB,SAAA,EAEhD;;;;;IACFlC,4DAAA,WAA8B;IAAAA,oDAAA,GAAkC;;IAAAA,0DAAA,EAAO;;;IAAzCA,uDAAA,GAAkC;IAAlCA,+DAAA,CAAAA,yDAAA,yBAAkC;;;;;IAChEA,4DAAA,WAAqD;IAAAA,oDAAA,GAEnD;;IAAAA,0DAAA,EAAO;;;IAF4CA,uDAAA,GAEnD;IAFmDA,+DAAA,CAAAA,yDAAA,2BAEnD;;;;;IACFA,4DAAA,WAAgC;IAAAA,oDAAA,GAAwC;;IAAAA,0DAAA,EAAO;;;IAA/CA,uDAAA,GAAwC;IAAxCA,+DAAA,CAAAA,yDAAA,+BAAwC;;;;;IACxEA,4DAAA,eAGG;IAAAA,oDAAA,GAAqB;IAAAA,0DAAA,EACvB;;;;IADEA,uDAAA,GAAqB;IAArBA,gEAAA,MAAAmC,OAAA,CAAAjB,IAAA,CAAAkB,QAAA,MAAqB;;;;;IAG1BpC,4DAAA,aAA+C;IAC7CA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,0CACF;;;;;IACAA,4DAAA,aAAyC;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAM;;;;IAAzBA,uDAAA,GAAmB;IAAnBA,+DAAA,CAAAqC,OAAA,CAAAnB,IAAA,CAAAoB,QAAA,CAAmB;;;;;IAC5DtC,4DAAA,aAAiD;IAAAA,oDAAA,GAAmC;;IAAAA,0DAAA,EAAM;;;IAAzCA,uDAAA,GAAmC;IAAnCA,+DAAA,CAAAA,yDAAA,0BAAmC;;;;;IACpFA,4DAAA,aAA2C;IAAAA,oDAAA,GAAqB;IAAAA,0DAAA,EAAM;;;;IAA3BA,uDAAA,GAAqB;IAArBA,+DAAA,CAAAuC,OAAA,CAAArB,IAAA,CAAAsB,UAAA,CAAqB;;;;;IAChExC,4DAAA,aAA+C;IAAAA,oDAAA,GAAuC;;IAAAA,0DAAA,EAAM;;;IAA7CA,uDAAA,GAAuC;IAAvCA,+DAAA,CAAAA,yDAAA,8BAAuC;;;;;IACtFA,4DAAA,aAAyC;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAM;;;;IAAzBA,uDAAA,GAAmB;IAAnBA,+DAAA,CAAAyC,OAAA,CAAAvB,IAAA,CAAAwB,QAAA,CAAmB;;;;;IAC5D1C,4DAAA,aAAmD;IAAAA,oDAAA,GAA6B;;IAAAA,0DAAA,EAAM;;;IAAnCA,uDAAA,GAA6B;IAA7BA,+DAAA,CAAAA,yDAAA,oBAA6B;;;;;IAChFA,4DAAA,aAA0D;IAAAA,oDAAA,GAA4B;;IAAAA,0DAAA,EAAM;;;;IAAlCA,uDAAA,GAA4B;IAA5BA,+DAAA,CAAAA,yDAAA,OAAA2C,OAAA,CAAAzB,IAAA,CAAA0B,IAAA,EAA4B;;;;;IACtF5C,4DAAA,aAA2D;IAAAA,oDAAA,GAA2B;;IAAAA,0DAAA,EAAM;;;IAAjCA,uDAAA,GAA2B;IAA3BA,+DAAA,CAAAA,yDAAA,kBAA2B;;;;;IAEpFA,4DAAA,aAA0D;IACxDA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,gDACF;;;;;IAEEA,4DAAA,UAAiD;IAAAA,oDAAA,GAAgC;;IAAAA,0DAAA,EAAM;;;;IAAtCA,uDAAA,GAAgC;IAAhCA,+DAAA,CAAAA,yDAAA,OAAA6C,aAAA,EAAgC;;;;;IADnF7C,4DAAA,aAAoD;IAClDA,wDAAA,IAAA8C,0EAAA,kBAAuF;IACzF9C,0DAAA,EAAM;;;;IADuBA,uDAAA,GAAoB;IAApBA,wDAAA,YAAA+C,OAAA,CAAAC,WAAA,CAAAC,KAAA,CAAoB;;;;;IAEjDjD,4DAAA,aAA2D;IACzDA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,iDACF;;;;;IAEEA,4DAAA,UAAkD;IAAAA,oDAAA,GAAgC;;IAAAA,0DAAA,EAAM;;;;IAAtCA,uDAAA,GAAgC;IAAhCA,+DAAA,CAAAA,yDAAA,OAAAkD,aAAA,EAAgC;;;;;IADpFlD,4DAAA,aAAqD;IACnDA,wDAAA,IAAAmD,0EAAA,kBAAwF;IAC1FnD,0DAAA,EAAM;;;;IADuBA,uDAAA,GAAqB;IAArBA,wDAAA,YAAAoD,OAAA,CAAAJ,WAAA,CAAAK,MAAA,CAAqB;;;;;IAXpDrD,4DAAA,UAAyB;IACvBA,wDAAA,IAAAsD,oEAAA,iBAEM;IACNtD,wDAAA,IAAAuD,oEAAA,iBAEM;IACNvD,wDAAA,IAAAwD,oEAAA,iBAEM;IACNxD,wDAAA,IAAAyD,oEAAA,iBAEM;IACRzD,0DAAA,EAAM;;;;IAZsBA,uDAAA,GAA8B;IAA9BA,wDAAA,SAAA0D,OAAA,CAAAV,WAAA,CAAAC,KAAA,CAAAU,MAAA,CAA8B;IAGpC3D,uDAAA,GAA8B;IAA9BA,wDAAA,SAAA0D,OAAA,CAAAV,WAAA,CAAAC,KAAA,CAAAU,MAAA,CAA8B;IAGxB3D,uDAAA,GAA+B;IAA/BA,wDAAA,SAAA0D,OAAA,CAAAV,WAAA,CAAAK,MAAA,CAAAM,MAAA,CAA+B;IAGrC3D,uDAAA,GAA+B;IAA/BA,wDAAA,SAAA0D,OAAA,CAAAV,WAAA,CAAAK,MAAA,CAAAM,MAAA,CAA+B;;;;;IAIrD3D,4DAAA,aAA8C;IAC5CA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,0CACF;;;;;IACAA,4DAAA,cAAyE;IACvEA,uDAAA,cAAuC;IACvCA,4DAAA,cAAyB;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAM;;;;;IADhCA,uDAAA,GAAe;IAAfA,wDAAA,QAAA6D,WAAA,EAAA7D,2DAAA,CAAe;IACXA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAA+D,OAAA,CAAA7C,IAAA,CAAA8C,WAAA,CAAsB;;;;;IAK7ChE,4DAAA,cAAwD;IAAAA,oDAAA,GAAY;IAAAA,0DAAA,EAAM;;;;IAAlBA,uDAAA,GAAY;IAAZA,+DAAA,CAAAiE,UAAA,CAAY;;;;;IAEtEjE,4DAAA,UAA8C;IACnBA,oDAAA,GAAiB;IAAAA,0DAAA,EAAM;IAChDA,4DAAA,aAAmB;IAAAA,oDAAA,GAAiB;IAAAA,0DAAA,EAAM;;;;IADjBA,uDAAA,GAAiB;IAAjBA,+DAAA,CAAAkE,YAAA,IAAiB;IACvBlE,uDAAA,GAAiB;IAAjBA,+DAAA,CAAAkE,YAAA,IAAiB;;;;;IAPxClE,4DAAA,UAAkD;IACvBA,oDAAA,GAAe;IAAAA,0DAAA,EAAM;IAC9CA,4DAAA,aAAmB;IACjBA,wDAAA,IAAAmE,oEAAA,kBAA0E;IAC5EnE,0DAAA,EAAM;IACNA,wDAAA,IAAAoE,oEAAA,kBAGM;IACRpE,0DAAA,EAAM;;;;IARqBA,uDAAA,GAAe;IAAfA,+DAAA,WAAe;IAECA,uDAAA,GAAe;IAAfA,wDAAA,YAAAqE,OAAA,CAAAnD,IAAA,CAAAoD,OAAA,CAAe;IAE9BtE,uDAAA,GAAkB;IAAlBA,wDAAA,YAAAqE,OAAA,CAAAnD,IAAA,CAAAqD,UAAA,CAAkB;;;;;;;;;;;;;;;;IA1FpDvE,qEAAA,GAA2B;IACzBA,4DAAA,aAME;IAJAA,wDAAA,mBAAAyE,6EAAA;MAAAzE,2DAAA,CAAA0E,IAAA;MAAA,MAAAC,OAAA,GAAA3E,2DAAA;MAAA,OAASA,yDAAA,CAAA2E,OAAA,CAAAC,SAAA,CAAAlE,IAAA,CAAAiE,OAAA,CAAAhE,KAAA,CAAqB;IAAA,EAAC;;;IAFjCX,0DAAA,EAME;IACFA,4DAAA,aAAgC;IAC9BA,wDAAA,IAAA6E,gEAAA,oBAES;IACT7E,4DAAA,aAAsB;IACKA,oDAAA,GAAgC;;IAAAA,0DAAA,EAAM;IAC/DA,4DAAA,cAAmB;IAAAA,oDAAA,IAAe;IAAAA,0DAAA,EAAM;IACxCA,wDAAA,KAAA8E,8DAAA,iBAAsF;IACtF9E,wDAAA,KAAA+E,8DAAA,iBAA4D;IAC5D/E,wDAAA,KAAAgF,8DAAA,iBAEM;IACNhF,wDAAA,KAAAiF,8DAAA,iBAIM;IACNjF,wDAAA,KAAAkF,8DAAA,iBAA4F;IAC5FlF,wDAAA,KAAAmF,8DAAA,iBAAyF;IACzFnF,wDAAA,KAAAoF,8DAAA,iBAEM;IACNpF,wDAAA,KAAAqF,8DAAA,kBAA8F;IAC9FrF,wDAAA,KAAAsF,8DAAA,iBAEM;IACNtF,wDAAA,KAAAuF,8DAAA,iBAA8D;IAC9DvF,4DAAA,cAAyB;IAAAA,oDAAA,IAAmC;;IAAAA,0DAAA,EAAM;IAClEA,4DAAA,cAAmB;IAAAA,oDAAA,IAAkB;IAAAA,uDAAA,UAAM;IAAAA,oDAAA,IAAqB;IAAAA,0DAAA,EAAM;IACtEA,4DAAA,cAAyB;IAAAA,oDAAA,IAAiC;;IAAAA,0DAAA,EAAM;IAChEA,4DAAA,cAAmB;IACjBA,wDAAA,KAAAwF,+DAAA,kBAES;IACTxF,wDAAA,KAAAyF,+DAAA,kBAAuE;IACvEzF,wDAAA,KAAA0F,+DAAA,kBAES;IACT1F,wDAAA,KAAA2F,+DAAA,kBAA+E;IAC/E3F,wDAAA,KAAA4F,+DAAA,mBAIC;IACH5F,0DAAA,EAAM;IACNA,wDAAA,KAAA6F,8DAAA,iBAEM;IACN7F,wDAAA,KAAA8F,8DAAA,iBAAkE;IAClE9F,wDAAA,KAAA+F,8DAAA,iBAA0F;IAC1F/F,wDAAA,KAAAgG,8DAAA,iBAAsE;IACtEhG,wDAAA,KAAAiG,8DAAA,iBAA4F;IAC5FjG,wDAAA,KAAAkG,8DAAA,iBAAkE;IAClElG,wDAAA,KAAAmG,8DAAA,iBAAsF;IACtFnG,wDAAA,KAAAoG,8DAAA,iBAA4F;IAC5FpG,wDAAA,KAAAqG,8DAAA,iBAA4F;IAC5FrG,wDAAA,KAAAsG,8DAAA,iBAaM;IACNtG,wDAAA,KAAAuG,8DAAA,iBAEM;IACNvG,wDAAA,KAAAwG,8DAAA,kBAGM;;IACNxG,wDAAA,KAAAyG,8DAAA,iBASM;IACRzG,0DAAA,EAAM;IAEVA,mEAAA,EAAe;;;;;IA7FXA,uDAAA,GAEC;IAFDA,wDAAA,QAAAA,yDAAA,QAAAA,yDAAA,QAAA4G,MAAA,CAAAjG,KAAA,EAAAiG,MAAA,CAAAC,UAAA,KAAA7G,6DAAA,KAAA+G,GAAA,IAAA/G,6DAAA,KAAAgH,GAAA,KAAAhH,2DAAA,CAEC;IAG0EA,uDAAA,GAAe;IAAfA,wDAAA,SAAA4G,MAAA,CAAAK,OAAA,GAAe;IAI/DjH,uDAAA,GAAgC;IAAhCA,+DAAA,CAAAA,yDAAA,wBAAgC;IACtCA,uDAAA,GAAe;IAAfA,+DAAA,CAAA4G,MAAA,CAAA1F,IAAA,CAAAgG,IAAA,CAAe;IACRlH,uDAAA,GAAgB;IAAhBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAC,KAAA,CAAgB;IACtBnB,uDAAA,GAAgB;IAAhBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAC,KAAA,CAAgB;IACVnB,uDAAA,GAAmB;IAAnBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAQ,QAAA,CAAmB;IAGzB1B,uDAAA,GAAmB;IAAnBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAQ,QAAA,CAAmB;IAKb1B,uDAAA,GAAsB;IAAtBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAU,WAAA,CAAsB;IACX5B,uDAAA,GAAsB;IAAtBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAU,WAAA,CAAsB;IACjC5B,uDAAA,GAA0B;IAA1BA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAY,eAAA,CAA0B;IAGlB9B,uDAAA,GAA0B;IAA1BA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAY,eAAA,CAA0B;IAClC9B,uDAAA,GAAiB;IAAjBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAc,MAAA,CAAiB;IAGvBhC,uDAAA,GAAiB;IAAjBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAc,MAAA,CAAiB;IACZhC,uDAAA,GAAmC;IAAnCA,+DAAA,CAAAA,yDAAA,4BAAmC;IACzCA,uDAAA,GAAkB;IAAlBA,+DAAA,CAAA4G,MAAA,CAAA1F,IAAA,CAAAiG,OAAA,CAAkB;IAAMnH,uDAAA,GAAqB;IAArBA,+DAAA,CAAA4G,MAAA,CAAA1F,IAAA,CAAAkG,UAAA,CAAqB;IACvCpH,uDAAA,GAAiC;IAAjCA,+DAAA,CAAAA,yDAAA,0BAAiC;IAEjDA,uDAAA,GAAyC;IAAzCA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAgB,SAAA,KAAA0E,MAAA,CAAA1F,IAAA,CAAAmG,WAAA,CAAyC;IAGzCrH,uDAAA,GAAqB;IAArBA,wDAAA,UAAA4G,MAAA,CAAA1F,IAAA,CAAAgB,SAAA,CAAqB;IACrBlC,uDAAA,GAA4C;IAA5CA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAmG,WAAA,KAAAT,MAAA,CAAA1F,IAAA,CAAAoG,YAAA,CAA4C;IAG5CtH,uDAAA,GAAuB;IAAvBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAoG,YAAA,CAAuB;IAG3BtH,uDAAA,GAA2E;IAA3EA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAkB,QAAA,IAAAwE,MAAA,CAAA1F,IAAA,CAAAgB,SAAA,IAAA0E,MAAA,CAAA1F,IAAA,CAAAkB,QAAA,KAAAwE,MAAA,CAAA1F,IAAA,CAAAmG,WAAA,CAA2E;IAItDrH,uDAAA,GAAmB;IAAnBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAoB,QAAA,CAAmB;IAGzBtC,uDAAA,GAAmB;IAAnBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAoB,QAAA,CAAmB;IACbtC,uDAAA,GAAqB;IAArBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAsB,UAAA,CAAqB;IAC3BxC,uDAAA,GAAqB;IAArBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAsB,UAAA,CAAqB;IACfxC,uDAAA,GAAmB;IAAnBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAwB,QAAA,CAAmB;IACzB1C,uDAAA,GAAmB;IAAnBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAwB,QAAA,CAAmB;IACb1C,uDAAA,GAAuB;IAAvBA,wDAAA,UAAA4G,MAAA,CAAA1F,IAAA,CAAAmG,WAAA,CAAuB;IAC7BrH,uDAAA,GAAoC;IAApCA,wDAAA,UAAA4G,MAAA,CAAA1F,IAAA,CAAAmG,WAAA,IAAAT,MAAA,CAAA1F,IAAA,CAAA0B,IAAA,CAAoC;IACpC5C,uDAAA,GAAqC;IAArCA,wDAAA,UAAA4G,MAAA,CAAA1F,IAAA,CAAAmG,WAAA,KAAAT,MAAA,CAAA1F,IAAA,CAAA0B,IAAA,CAAqC;IACnD5C,uDAAA,GAAiB;IAAjBA,wDAAA,SAAA4G,MAAA,CAAA5D,WAAA,CAAiB;IAcGhD,uDAAA,GAAkB;IAAlBA,wDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAqG,OAAA,CAAkB;IAGVvH,uDAAA,GAA2B;IAA3BA,wDAAA,SAAAA,yDAAA,SAAA4G,MAAA,CAAA1F,IAAA,CAAAqG,OAAA,EAA2B;IAIvDvH,uDAAA,GAA0C;IAA1CA,wDAAA,UAAAwH,QAAA,GAAAZ,MAAA,CAAAa,SAAA,CAAAC,eAAA,qBAAAF,QAAA,CAAAG,OAAA,CAA0C;;;AD9DhD,MAAOC,+BAA+B;EACxC,IAAaC,IAAIA,CAACA,IAAU;IACxB,IAAI,CAACC,IAAI,CAACD,IAAI,CAAC;EACnB;EAOcC,IAAIA,CAACD,IAAU;IAAA,IAAAE,KAAA;IAAA,OAAAC,wLAAA;MACzBD,KAAI,CAACpH,KAAK,GAAGkH,IAAI;MACjBE,KAAI,CAAC7G,IAAI,SAAS6G,KAAI,CAACE,MAAM,CAACJ,IAAI,CAAC;MACnCE,KAAI,CAACG,OAAO,CAACC,kBAAkB,CAACN,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC,CAACC,SAAS,CAAEpH,IAAqB,IAAI;QAC7E6G,KAAI,CAAC/E,WAAW,GAAG+E,KAAI,CAACQ,iBAAiB,CAACrH,IAAI,CAAC;MACnD,CAAC,CAAC;IAAC;EACP;EACQ+G,MAAMA,CAACJ,IAAU;IACrB,MAAM3G,IAAI,GAAQ,EAAE;IACpBA,IAAI,CAACgG,IAAI,GAAGW,IAAI,CAACX,IAAI;IACrBhG,IAAI,CAACC,KAAK,GAAG0G,IAAI,CAAC1G,KAAK;IACvBD,IAAI,CAACmG,WAAW,GAAGQ,IAAI,CAACR,WAAW;IACnCnG,IAAI,CAACoG,YAAY,GAAGO,IAAI,CAACW,UAAU,IAAI,IAAI;IAC3CtH,IAAI,CAACU,WAAW,GAAGiG,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC8I,4BAA4B,CAAC;IAC9EvH,IAAI,CAACwH,OAAO,GAAGb,IAAI,CAACa,OAAO,CAACC,GAAG;IAC/BzH,IAAI,CAACQ,QAAQ,GAAGmG,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAACiJ,wBAAwB,CAAC;IACvE,IAAI1H,IAAI,CAACQ,QAAQ,IAAIR,IAAI,CAACQ,QAAQ,CAACiC,MAAM,KAAK,CAAC,IAAI,CAACzC,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAAC,EAAER,IAAI,CAACQ,QAAQ,GAAG,IAAI;IAC1F;IACAR,IAAI,CAACiG,OAAO,GAAGzH,yEAAmB,CAACmJ,8BAA8B,CAC7DhB,IAAI,CAACiB,SAAS,EACd,IAAI,CAACC,aAAa,CACrB;IACD7H,IAAI,CAACkG,UAAU,GAAG,IAAIvH,8DAAc,CAAC,IAAI,CAACmJ,SAAS,CAAC,CAACC,SAAS,CAACpB,IAAI,CAACqB,SAAS,CAAC;IAC9EhI,IAAI,CAACwB,QAAQ,GAAG9C,8DAAc,CAACuJ,oBAAoB,CAC/CtB,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAACyJ,2BAA2B,CAAC,CAC7D;IACDlI,IAAI,CAACc,MAAM,GAAG,IAAI,CAACqH,QAAQ,CACvBxB,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC2J,oCAAoC,CAAC,CACtE,CAACC,IAAI,CAAC,IAAI,CAAC;IACZrI,IAAI,CAACY,eAAe,GAAG+F,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC6J,wBAAwB,CAAC,GACxE3B,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC6J,wBAAwB,CAAC,CAAC,CAAC,CAAC,GAC1D,IAAI;IACVtI,IAAI,CAACgB,SAAS,GAAG2F,IAAI,CAAC3F,SAAS,KAAK,MAAM,GAAG2F,IAAI,CAACzF,QAAQ,GAAGyF,IAAI,CAAC3F,SAAS;IAC3EhB,IAAI,CAACkB,QAAQ,GAAGyF,IAAI,CAACzF,QAAQ;IAC7BlB,IAAI,CAAC0B,IAAI,GAAGiF,IAAI,CAACjF,IAAI;IACrB,IAAIiF,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC8J,4BAA4B,CAAC,EAAE;MAC7DvI,IAAI,CAACoB,QAAQ,GAAG,IAAIzC,8DAAc,CAAC,IAAI,CAACmJ,SAAS,CAAC,CAACC,SAAS,CACxDpB,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC8J,4BAA4B,CAAC,CAAC,CAAC,CAAC,CACjE;;IAGLvI,IAAI,CAACsB,UAAU,GAAG,IAAI1C,iEAAiB,EAAE,CAACmJ,SAAS,CAACpB,IAAI,CAAC;IAEzD3G,IAAI,CAACqG,OAAO,GAAG,IAAI,CAACmC,UAAU,CAACC,cAAc,CAAC9B,IAAI,CAAC;IACnD3G,IAAI,CAAC8C,WAAW,GAAG,IAAI,CAAC0F,UAAU,CAACE,cAAc,CAAC/B,IAAI,CAAC;IAEvD3G,IAAI,CAACqD,UAAU,GAAG,EAAE;IACpBrD,IAAI,CAACoD,OAAO,GAAGuD,IAAI,CAACvD,OAAO,CAACuF,IAAI,EAAE;IAElC,KAAK,MAAMC,CAAC,IAAIC,MAAM,CAACC,IAAI,CAACnC,IAAI,CAACtD,UAAU,CAAC,CAACsF,IAAI,EAAE,EAAE;MACjD3I,IAAI,CAACqD,UAAU,CAAC0F,IAAI,CAAC,CAACH,CAAC,EAAEjC,IAAI,CAACtD,UAAU,CAACuF,CAAC,CAAC,CAACP,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;IAE5D,OAAOrI,IAAI;EACf;EACAgJ,YACWzC,SAA+B,EAC9BS,OAAwB,EACxBc,SAA2B,EAC3BD,aAA4B,EAC5BW,UAA6B;IAJ9B,KAAAjC,SAAS,GAATA,SAAS;IACR,KAAAS,OAAO,GAAPA,OAAO;IACP,KAAAc,SAAS,GAATA,SAAS;IACT,KAAAD,aAAa,GAAbA,aAAa;IACb,KAAAW,UAAU,GAAVA,UAAU;IAjEZ,KAAAjJ,cAAc,GAAG,IAAIhB,uDAAY,EAAE;IACnC,KAAAmF,SAAS,GAAG,IAAInF,uDAAY,EAAE;EAiErC;EACHoH,UAAUA,CAAA;IACN,OAAO,IAAI,CAAC6C,UAAU,CAACS,kBAAkB,CAAC,IAAI,CAACxJ,KAAK,CAAC;EACzD;EACQ4H,iBAAiBA,CAACvF,WAA4B;IAClD,MAAMoH,WAAW,GAAG,IAAI,CAAC3C,SAAS,CAACC,eAAe,EAAE,EAAE2C,aAAa;IACnE,MAAMnJ,IAAI,GAAQ,EAAE;IACpBA,IAAI,CAAC+B,KAAK,GAAG,EAAE;IACf/B,IAAI,CAACmC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACL,WAAW,CAACA,WAAW,EAAE,OAAO9B,IAAI;IACzC,KAAK,MAAMoJ,UAAU,IAAItH,WAAW,CAACA,WAAW,CAACuH,oBAAoB,EAAE;MACnE,IACID,UAAU,CAACE,SAAS,CAACH,aAAa,KAAKD,WAAW,IAClDE,UAAU,CAACE,SAAS,CAACC,aAAa,KAAK9K,mEAAa,CAAC+K,oBAAoB,EAC3E,EACD,MAAM,IAAIJ,UAAU,CAACE,SAAS,CAACC,aAAa,KAAK9K,mEAAa,CAACgL,mBAAmB,EAAE;QACjFzJ,IAAI,CAAC+B,KAAK,CAACgH,IAAI,CAACK,UAAU,CAAC;OAC9B,MAAM;QACHpJ,IAAI,CAACmC,MAAM,CAAC4G,IAAI,CAACK,UAAU,CAAC;;;IAGpC,KAAK,MAAMA,UAAU,IAAItH,WAAW,CAACA,WAAW,CAAC4H,gBAAgB,CAAC5H,WAAW,EAAE;MAC3E,IACIsH,UAAU,CAACE,SAAS,CAACH,aAAa,KAAKD,WAAW,IAClDE,UAAU,CAACE,SAAS,CAACC,aAAa,KAAK9K,mEAAa,CAAC+K,oBAAoB,EAC3E,EACD,MAAM,IAAIJ,UAAU,CAACE,SAAS,CAACC,aAAa,KAAK9K,mEAAa,CAACgL,mBAAmB,EAAE;QACjF,IAAI,CAAC,IAAI,CAACE,kBAAkB,CAAC3J,IAAI,CAACmC,MAAM,EAAEiH,UAAU,CAAC,EAAEpJ,IAAI,CAAC+B,KAAK,CAACgH,IAAI,CAACK,UAAU,CAAC;OACrF,MAAM;QACH,IAAI,CAAC,IAAI,CAACO,kBAAkB,CAAC3J,IAAI,CAACmC,MAAM,EAAEiH,UAAU,CAAC,EAAEpJ,IAAI,CAACmC,MAAM,CAAC4G,IAAI,CAACK,UAAU,CAAC;;;IAG3F,OAAOpJ,IAAI;EACf;EAEAmI,QAAQA,CAAC9E,UAAiB;IACtB,MAAMuG,MAAM,GAAa,EAAE;IAC3B,IAAIvG,UAAU,EAAE;MACZ,KAAK,MAAMwG,CAAC,IAAIxG,UAAU,EAAE;QACxBuG,MAAM,CAACb,IAAI,CAAC,IAAIlK,qDAAK,CAACgL,CAAC,CAAC,CAACC,cAAc,EAAE,CAAC;;;IAGlD,OAAOF,MAAM;EACjB;EAEAD,kBAAkBA,CAAC7H,WAAyB,EAAEsH,UAAsB;IAChE,KAAK,MAAMW,IAAI,IAAIjI,WAAW,EAAE;MAC5B,IAAIiI,IAAI,CAACT,SAAS,CAACH,aAAa,IAAIC,UAAU,CAACE,SAAS,CAACH,aAAa,EAAE,OAAO,IAAI;;IAEvF,OAAO,KAAK;EAChB;EACApD,OAAOA,CAAA;IACH,OAAO,IAAI,CAACtG,KAAK,IAAI,IAAI,CAACA,KAAK,CAACuK,MAAM,CAACC,OAAO,CAACxL,mEAAa,CAACyL,YAAY,CAAC,KAAK,CAAC,CAAC;EACrF;EAAC,QAAAC,CAAA;qBA3HQzD,+BAA+B,EAAA5H,+DAAA,CAAAuL,0EAAA,GAAAvL,+DAAA,CAAAuL,qEAAA,GAAAvL,+DAAA,CAAA0L,iEAAA,GAAA1L,+DAAA,CAAA4L,8DAAA,GAAA5L,+DAAA,CAAA8L,4EAAA;EAAA;EAAA,QAAAE,EAAA;UAA/BpE,+BAA+B;IAAAqE,SAAA;IAAAC,MAAA;MAAArE,IAAA;IAAA;IAAAsE,OAAA;MAAA1L,cAAA;MAAAmE,SAAA;IAAA;IAAAwH,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,yCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCvB5CzM,wDAAA,IAAA2M,uDAAA,4BAiGe;;;QAjGA3M,wDAAA,SAAA0M,GAAA,CAAAxL,IAAA,CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAqB;AAGoC;AAOxC;AAE8D;AAEvC;;;;;;;;;;;;;ICdjElB,4DAAA,+BASC;IAJCA,wDAAA,uBAAAiN,qGAAAC,MAAA;MAAAlN,2DAAA,CAAAmN,GAAA;MAAA,MAAAC,MAAA,GAAApN,2DAAA;MAAA,OAAaA,yDAAA,CAAAoN,MAAA,CAAAC,cAAA,CAAAH,MAAA,CAAsB;IAAA,EAAC,uBAAAI,qGAAAJ,MAAA;MAAAlN,2DAAA,CAAAmN,GAAA;MAAA,MAAAlM,MAAA,GAAAjB,2DAAA;MAAA,OACvBA,yDAAA,CAAAiB,MAAA,CAAAsM,QAAA,CAAAL,MAAA,CAAgB;IAAA,EADO,4BAAAM,0GAAAN,MAAA;MAAAlN,2DAAA,CAAAmN,GAAA;MAAA,MAAAM,MAAA,GAAAzN,2DAAA;MAAA,OAElBA,yDAAA,CAAAyN,MAAA,CAAAC,aAAA,EAAAR,MAAA,EAAuB;IAAA,EAFL,qBAAAS,mGAAA;MAAA3N,2DAAA,CAAAmN,GAAA;MAAA,MAAA1L,MAAA,GAAAzB,2DAAA;MAAA,OAGzBA,yDAAA,CAAAyB,MAAA,CAAAmM,YAAA,EAAc;IAAA,EAHW;IAIrC5N,0DAAA,EAAwB;;;;IAPvBA,wDAAA,eAAA4G,MAAA,CAAAiH,WAAA,CAA0B,SAAAjH,MAAA,CAAAiH,WAAA;;;ADe5B;;;;;;AAYM,MAAOC,wBAAwB;EACjC,IAAID,WAAWA,CAAA;IACX,OAAO,IAAI,CAACE,SAAS,CAACF,WAAW;EACrC;EAEA3D,YACY8D,OAAuB,EACvBC,WAA+B,EAC/BpG,IAAqB,EACrBqG,MAAc,EACdC,KAAY,EACZJ,SAA2B;IAL3B,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAApG,IAAI,GAAJA,IAAI;IACJ,KAAAqG,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAJ,SAAS,GAATA,SAAS;EAClB;EAGHK,mBAAmBA,CAACC,KAAoB;IACpC,IAAIA,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;MACxB,IAAI,IAAI,CAACP,SAAS,CAACF,WAAW,IAAI,IAAI,EAAE;QACpC,IAAI,CAACD,YAAY,EAAE;QACnBS,KAAK,CAACE,cAAc,EAAE;QACtBF,KAAK,CAACG,eAAe,EAAE;QACvB;;;EAGZ;EAEMnB,cAAcA,CAACoB,OAAyC;IAAA,IAAA1G,KAAA;IAAA,OAAAC,wLAAA;MAC1D,MAAM0G,SAAS,SAAS3G,KAAI,CAACiG,OAAO,CAACW,iBAAiB,CAAC;QACnDxN,KAAK,EAAE,kCAAkC;QACzCyN,OAAO,EAAE,oCAAoC;QAC7CC,OAAO,EAAE9B,0GAAS;QAClB+B,KAAK,EAAE,CAACL,OAAO,CAAC5G,IAAI;OACvB,CAAC;MACF6G,SAAS,CAACK,WAAW,EAAE,CAACzG,SAAS,CAAE0G,QAAQ,IAAI;QAC3C,IAAIA,QAAQ,KAAK,KAAK,EAAE;UACpBjH,KAAI,CAACkH,gBAAgB,CAACR,OAAO,CAACS,OAAO,CAAC;;MAE9C,CAAC,CAAC;IAAC;EACP;EAEQD,gBAAgBA,CAACC,OAAgB;IACrC,IAAI,CAACf,KAAK,CAACgB,mBAAmB,EAAE;IAChC,IAAI,CAACtH,IAAI,CACJuH,mBAAmB,CAChBF,OAAO,CAACA,OAAO,CAACrH,IAAI,CAACQ,EAAE,EACvB6G,OAAO,CAACA,OAAO,CAACG,KAAK,EACrBH,OAAO,CAACA,OAAO,CAACI,KAAK,CACxB,CACAhH,SAAS,CACLpH,IAAkB,IAAI;MACnB,IAAI,CAACiN,KAAK,CAACoB,oBAAoB,EAAE;MACjC,IAAI,CAAC3B,YAAY,EAAE;MACnB;MACA,IAAI,CAAC/F,IAAI,CACJ2H,eAAe,CAACN,OAAO,CAACA,OAAO,CAACrH,IAAI,CAACQ,EAAE,EAAE,CAAC1I,mEAAa,CAAC8P,GAAG,CAAC,CAAC,CAC7DnH,SAAS,CACLT,IAAI,IAAI;QACL,IAAI,CAACoG,WAAW,CAACyB,YAAY,CAAChP,IAAI,CAAC,CAACmH,IAAI,CAACA,IAAI,CAAC,CAAC;QAC/C,IAAI,CAACkG,SAAS,CAACF,WAAW,GAAGhG,IAAI,CAACA,IAAI;QACtC,IAAI,CAACkG,SAAS,CAAC4B,iBAAiB,CAACjP,IAAI,CAACmH,IAAI,CAACA,IAAI,CAAC;QAChD,IAAI,CAACsG,KAAK,CAACA,KAAK,CAAC,4BAA4B,CAAC;MAClD,CAAC,EACAyB,KAAU,IAAK,IAAI,CAACzB,KAAK,CAACyB,KAAK,CAACA,KAAK,CAAC,CAC1C;IACT,CAAC,EACAA,KAAU,IAAK,IAAI,CAACzB,KAAK,CAACyB,KAAK,CAACA,KAAK,CAAC,CAC1C;EACT;EAEAhC,YAAYA,CAAA;IACR,IAAI,CAACG,SAAS,CAACF,WAAW,GAAG,IAAI;IACjC,IAAI,CAACE,SAAS,CAAC4B,iBAAiB,CAACjP,IAAI,CAAC,IAAI,CAAC;EAC/C;EAEA6M,QAAQA,CAAC1F,IAAU;IACf,IAAIA,IAAI,CAACqH,OAAO,EAAE;MACd,IAAI,CAAChB,MAAM,CAAC2B,QAAQ,CAAC,CAAC/C,2DAAW,CAACgD,aAAa,GAAG,QAAQ,EAAEjI,IAAI,CAACO,GAAG,CAACC,EAAE,EAAER,IAAI,CAACqH,OAAO,CAAC,CAAC;KAC1F,MAAM;MACH,IAAI,CAAChB,MAAM,CAAC2B,QAAQ,CAAC,CAAC/C,2DAAW,CAACgD,aAAa,GAAG,QAAQ,EAAEjI,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC,CAAC;;EAEjF;EAEMqF,aAAaA,CAACoB,KAAa;IAAA,IAAAiB,MAAA;IAAA,OAAA/H,wLAAA;MAC7B,MAAM0G,SAAS,SAASqB,MAAI,CAAC/B,OAAO,CAACgC,2BAA2B,CAAC;QAC7DlB,KAAK;QACLmB,YAAY,EAAEjD,mEAAY,CAACkD;OAC9B,CAAC;MACFxB,SAAS,CACJK,WAAW,EAAE,CACbzG,SAAS,CAAE6H,YAAY,IAAKJ,MAAI,CAACK,cAAc,CAACtB,KAAK,EAAEqB,YAAY,CAAC,CAAC;IAAC;EAC/E;EAEQC,cAAcA,CAACC,aAAqB,EAAEF,YAAA,GAAuB,IAAI;IACrE,IAAIG,OAAO,GAAG,CAAC,CAACH,YAAY;IAC5B,IACI,IAAI,CAACpC,SAAS,CAACF,WAAW,IAC1B,IAAI,CAACE,SAAS,CAACF,WAAW,CAACzF,GAAG,CAACC,EAAE,KAAKgI,aAAa,CAAC,CAAC,CAAC,EAAEjI,GAAG,CAACC,EAAE,IAC9D8H,YAAY,EACd;MACE,IAAI,CAACpC,SAAS,CAACF,WAAW,GAAGsC,YAAY,CAAC,CAAC,CAAC;;IAEhD,IAAIG,OAAO,EAAE;MACT,IAAI,CAACrC,WAAW,CAACyB,YAAY,CAAChP,IAAI,CAACyP,YAAY,CAAC;;EAExD;EAAC,QAAA9E,CAAA;qBAxGQyC,wBAAwB,EAAA9N,+DAAA,CAAAuL,6EAAA,GAAAvL,+DAAA,CAAA0L,kEAAA,GAAA1L,+DAAA,CAAA4L,qEAAA,GAAA5L,+DAAA,CAAA8L,oDAAA,GAAA9L,+DAAA,CAAA0Q,kDAAA,GAAA1Q,+DAAA,CAAA4Q,gEAAA;EAAA;EAAA,QAAA5E,EAAA;UAAxB8B,wBAAwB;IAAA7B,SAAA;IAAA6E,YAAA,WAAAC,sCAAAtE,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;iBAAxBC,GAAA,CAAA0B,mBAAA,CAAAlB,MAAA,CACb;QAAA,UAAAlN,+DAAA;;;;;;;;QC9BAA,wDAAA,IAAAiR,yDAAA,mCASyB;;;QARtBjR,wDAAA,SAAA0M,GAAA,CAAAmB,WAAA,CAAiB;;;;;;iBD0BJ,CAACjB,6DAAO,CAAC,WAAW,EAAEC,2DAAW,CAACqE,SAAS,EAAE,CAAC;IAAC;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEnBxC;AAcK;AACW;AACuB;AAepB;AAEmB;AAW3C;;;;;;;;;;;;;;;;IC7ChBlR,uDAAA,iBAAyC;;;;;IAIRA,uDAAA,YAA2C;;;IAAlBA,wDAAA,cAAa;;;;;IACjEA,0DAAA,wCAAqD;;;;;IAInDA,uDAAA,YAA0B;IAC1BA,oDAAA,GACF;;;;IADEA,uDAAA,GACF;IADEA,gEAAA,MAAAqS,OAAA,CAAAC,gBAAA,MACF;;;;;IACAtS,0DAAA,yCAAsD;;;;;IAG3BA,uDAAA,YAAwB;;;;;IACnDA,0DAAA,4CAAyD;;;;;IAd7DA,4DAAA,oBAAiE;IAE7DA,wDAAA,IAAAuS,sFAAA,0BAAoF;IACpFvS,wDAAA,IAAAwS,qFAAA,yBAAqD;IACvDxS,0DAAA,EAAU;IACVA,4DAAA,cAAS;IACPA,wDAAA,IAAAyS,sFAAA,0BAGc;IACdzS,wDAAA,IAAA0S,qFAAA,yBAAsD;IACxD1S,0DAAA,EAAU;IACVA,4DAAA,cAAS;IACPA,wDAAA,IAAA2S,sFAAA,0BAAiE;IACjE3S,wDAAA,IAAA4S,qFAAA,yBAAyD;IAC3D5S,0DAAA,EAAU;;;;;;;IAZKA,uDAAA,GAAyB;IAAzBA,wDAAA,qBAAA6S,GAAA,CAAyB;IAOzB7S,uDAAA,GAA0B;IAA1BA,wDAAA,qBAAA8S,GAAA,CAA0B;IAI1B9S,uDAAA,GAA6B;IAA7BA,wDAAA,qBAAA+S,IAAA,CAA6B;;;;;IAM1C/S,0DAAA,wCAAqD;;;;;IADvDA,4DAAA,cAAkC;IAChCA,wDAAA,IAAAgT,mFAAA,yBAAqD;IACvDhT,0DAAA,EAAM;;;;;IADSA,uDAAA,GAAyB;IAAzBA,wDAAA,qBAAA6S,GAAA,CAAyB;;;;;;IAKxC7S,4DAAA,sCAKC;IAFCA,wDAAA,uBAAAiT,wHAAA;MAAAjT,2DAAA,CAAAkT,IAAA;MAAA,MAAAC,OAAA,GAAAnT,2DAAA;MAAA,OAAaA,yDAAA,CAAAmT,OAAA,CAAAC,OAAA,EAAS;IAAA,EAAC,4BAAAC,6HAAA;MAAArT,2DAAA,CAAAkT,IAAA;MAAA,MAAAI,OAAA,GAAAtT,2DAAA;MAAA,OACLA,yDAAA,CAAAsT,OAAA,CAAAC,IAAA,EAAM;IAAA,EADD;IAExBvT,0DAAA,EAA8B;;;;IAH7BA,wDAAA,SAAA2B,MAAA,CAAA6R,UAAA,CAAmB;;;;;IAajBxT,4DAAA,aAAoE;IACxCA,oDAAA,GAA0B;IAAAA,0DAAA,EAAI;IAACA,oDAAA,GAC3D;IAAAA,0DAAA,EAAK;;;;;;IADuBA,uDAAA,GAA0B;IAA1BA,+DAAA,CAAAyT,OAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAC,KAAA,EAA0B;IAAK5T,uDAAA,GAC3D;IAD2DA,gEAAA,MAAA6T,SAAA,MAC3D;;;;;;;;;;IAMF7T,4DAAA,YAAuE;IACrEA,oDAAA,GAIF;;;IAAAA,0DAAA,EAAI;;;;IAJFA,uDAAA,GAIF;IAJEA,gEAAA,MAAAA,yDAAA,yCAAAA,6DAAA,IAAAgH,GAAA,EAAAhH,yDAAA,OAAA2C,OAAA,CAAAoR,oBAAA,EAAApQ,MAAA,QAIF;;;;;IACA3D,uDAAA,kCAM2B;;;;IAJzBA,wDAAA,eAAAgU,OAAA,CAAAC,gBAAA,CAA+B,YAAAD,OAAA,CAAAE,kBAAA,iBAAAF,OAAA,CAAA1C,sBAAA,CAAA6C,SAAA,4BAAAH,OAAA,CAAA7C,eAAA,CAAAiD,iBAAA;;;;;IAKjCpU,4DAAA,cAA2D;IACzDA,oDAAA,GACF;;IAAAA,0DAAA,EAAM;;;IADJA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,gDACF;;;;;IACAA,uDAAA,kCAO2B;;;;IALzBA,wDAAA,eAAAqU,OAAA,CAAAC,gBAAA,CAAAD,OAAA,CAAAE,YAAA,EAA6C,YAAAF,OAAA,CAAAG,OAAA,oCAAAH,OAAA,CAAA/C,sBAAA,CAAAmD,KAAA,4BAAAJ,OAAA,CAAAlD,eAAA,CAAAiD,iBAAA;;;;;IAM/CpU,4DAAA,cAAwE;IACtEA,oDAAA,GAIF;;IAAAA,0DAAA,EAAM;;;;IAJJA,uDAAA,GAIF;IAJEA,gEAAA,MAAAA,yDAAA,2CAAAA,6DAAA,IAAAgH,GAAA,EAAAjD,OAAA,CAAA2Q,cAAA,CAAAC,OAAA,GAAAhR,MAAA,QAIF;;;;;IACA3D,uDAAA,kCAO2B;;;;IALzBA,wDAAA,eAAAqE,OAAA,CAAAqQ,cAAA,CAA6B,YAAArQ,OAAA,CAAAmQ,OAAA,oCAAAnQ,OAAA,CAAAiN,sBAAA,CAAAmD,KAAA,4BAAApQ,OAAA,CAAA8M,eAAA,CAAAiD,iBAAA;;;;;IA7CjCpU,4DAAA,cAAwC;IACfA,oDAAA,GAAwD;;IAAAA,0DAAA,EAAI;IAEnFA,uDAAA,qBAAkD;IAClDA,4DAAA,aAA4B;IAC1BA,wDAAA,IAAA4U,2EAAA,iBAEK;IACP5U,0DAAA,EAAK;IACLA,4DAAA,YAAmC;IACjCA,oDAAA,GACA;;IAAAA,4DAAA,gBAA4B;IAAAA,oDAAA,IAAsB;IAAAA,0DAAA,EAAO;IAE3DA,wDAAA,KAAA6U,2EAAA,gBAKI;IACJ7U,wDAAA,KAAA8U,iGAAA,sCAM2B;IAC3B9U,wDAAA,KAAA+U,6EAAA,kBAEM;IACN/U,wDAAA,KAAAgV,iGAAA,sCAO2B;IAC3BhV,wDAAA,KAAAiV,6EAAA,kBAKM;IACNjV,wDAAA,KAAAkV,iGAAA,sCAO2B;IAC7BlV,0DAAA,EAAM;;;;IAlDmBA,uDAAA,GAAwD;IAAxDA,+DAAA,CAAAA,yDAAA,gDAAwD;IAIvDA,uDAAA,GAAiB;IAAjBA,wDAAA,YAAA6B,MAAA,CAAA6R,KAAA,CAAAyB,MAAA,CAAiB;IAKvCnV,uDAAA,GACA;IADAA,gEAAA,MAAAA,yDAAA,gDACA;IAA4BA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAA6B,MAAA,CAAAyQ,gBAAA,CAAsB;IAEhBtS,uDAAA,GAAiC;IAAjCA,wDAAA,UAAA6B,MAAA,CAAAoS,gBAAA,CAAAmB,OAAA,GAAiC;IAOlEpV,uDAAA,GAAiC;IAAjCA,wDAAA,UAAA6B,MAAA,CAAAoS,gBAAA,CAAAmB,OAAA,GAAiC;IAMGpV,uDAAA,GAAkB;IAAlBA,wDAAA,SAAA6B,MAAA,CAAA0S,YAAA,CAAkB;IAItDvU,uDAAA,GAAkB;IAAlBA,wDAAA,SAAA6B,MAAA,CAAA0S,YAAA,CAAkB;IAOkBvU,uDAAA,GAA+B;IAA/BA,wDAAA,UAAA6B,MAAA,CAAA6S,cAAA,CAAAU,OAAA,GAA+B;IAOnEpV,uDAAA,GAA+B;IAA/BA,wDAAA,UAAA6B,MAAA,CAAA6S,cAAA,CAAAU,OAAA,GAA+B;;;;;IAYlCpV,4DAAA,cAA4C;IAAAA,uDAAA,iBAAyB;IAAAA,0DAAA,EAAM;;;;;IAOvEA,4DAAA,WAAwC;IAAAA,oDAAA,GAEtC;;IAAAA,0DAAA,EAAO;;;IAF+BA,uDAAA,GAEtC;IAFsCA,+DAAA,CAAAA,yDAAA,6CAEtC;;;;;IACFA,4DAAA,WAAyC;IAAAA,oDAAA,GAEvC;;IAAAA,0DAAA,EAAO;;;IAFgCA,uDAAA,GAEvC;IAFuCA,+DAAA,CAAAA,yDAAA,qCAEvC;;;;;;IAaFA,4DAAA,iBAMC;IADCA,wDAAA,mBAAAqV,+GAAA;MAAArV,2DAAA,CAAAsV,IAAA;MAAA,MAAAC,WAAA,GAAAvV,2DAAA,GAAAwV,SAAA;MAAA,MAAAC,OAAA,GAAAzV,2DAAA;MAAA,OAASA,yDAAA,CAAAyV,OAAA,CAAApI,cAAA,CAAAkI,WAAA,CAAuB;IAAA,EAAC;IAEjCvV,uDAAA,YAA4B;IAC5BA,oDAAA,GACF;;IAAAA,0DAAA,EAAS;;;;IALPA,yDAAA,cAAAoD,OAAA,CAAAuS,SAAA,GAA+B;IAG5B3V,uDAAA,GAAoB;IAApBA,wDAAA,qBAAoB;IACvBA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,0CACF;;;;;;IAjCJA,4DAAA,cAIC;IAEGA,wDAAA,IAAA4V,mFAAA,kBAES;IACT5V,wDAAA,IAAA6V,mFAAA,kBAES;IACT7V,oDAAA,GACF;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAA2B;IACzBA,oDAAA,GACF;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAyB;IAAAA,oDAAA,GAAqC;;IAAAA,0DAAA,EAAM;IACpEA,4DAAA,eAA4B;IAAAA,oDAAA,IAA8B;;IAAAA,0DAAA,EAAM;IAChEA,4DAAA,eAA4B;IACcA,wDAAA,mBAAA8V,sGAAA;MAAA,MAAAC,WAAA,GAAA/V,2DAAA,CAAAgW,IAAA;MAAA,MAAAT,WAAA,GAAAQ,WAAA,CAAAP,SAAA;MAAA,MAAAS,OAAA,GAAAjW,2DAAA;MAAA,OAASA,yDAAA,CAAAiW,OAAA,CAAAC,cAAA,CAAAX,WAAA,CAAuB;IAAA,EAAC;IACvEvV,uDAAA,aAAmC;IACnCA,oDAAA,IACF;;IAAAA,0DAAA,EAAS;IACTA,wDAAA,KAAAmW,sFAAA,qBASS;IACXnW,0DAAA,EAAM;;;;;IA/BNA,yDAAA,gBAAAoW,OAAA,CAAAC,gBAAA,CAAAd,WAAA,EAA+C;IAGtCvV,uDAAA,GAA+B;IAA/BA,wDAAA,SAAAoW,OAAA,CAAAC,gBAAA,CAAAd,WAAA,EAA+B;IAG/BvV,uDAAA,GAAgC;IAAhCA,wDAAA,UAAAoW,OAAA,CAAAC,gBAAA,CAAAd,WAAA,EAAgC;IAGvCvV,uDAAA,GACF;IADEA,gEAAA,OAAAuV,WAAA,CAAArG,OAAA,CAAAG,KAAA,OAAAkG,WAAA,CAAArG,OAAA,CAAAI,KAAA,OACF;IAEEtP,uDAAA,GACF;IADEA,gEAAA,MAAAuV,WAAA,CAAAgB,UAAA,CAAAC,SAAA,OAAAjB,WAAA,CAAAgB,UAAA,CAAAE,QAAA,MACF;IACyBzW,uDAAA,GAAqC;IAArCA,+DAAA,CAAAA,yDAAA,QAAAuV,WAAA,CAAAmB,UAAA,EAAqC;IAClC1W,uDAAA,GAA8B;IAA9BA,+DAAA,CAAAA,yDAAA,SAAAuV,WAAA,EAA8B;IAGnDvV,uDAAA,GAA2B;IAA3BA,wDAAA,4BAA2B;IAC9BA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,iDACF;IAEGA,uDAAA,GAAgC;IAAhCA,wDAAA,UAAAoW,OAAA,CAAAC,gBAAA,CAAAd,WAAA,EAAgC;;;;;IA3BzCvV,4DAAA,cAAsC;IACpCA,wDAAA,IAAA2W,4EAAA,kBAA2E;IAC3E3W,wDAAA,IAAA4W,4EAAA,oBAmCM;IACR5W,0DAAA,EAAM;;;;IArCEA,uDAAA,GAAqB;IAArBA,wDAAA,SAAA+B,OAAA,CAAA8U,eAAA,CAAqB;IAEL7W,uDAAA,GAAW;IAAXA,wDAAA,YAAA+B,OAAA,CAAA+U,QAAA,CAAW;;;;;IA9FvC9W,qEAAA,GAA+B;IAC7BA,wDAAA,IAAA+W,wEAAA,4BAgBgB;IAEhB/W,wDAAA,IAAAgX,sEAAA,gCAAAhX,oEAAA,CAIc;IAEdA,wDAAA,IAAAkX,sEAAA,iCAAAlX,oEAAA,CAOc;IAGdA,wDAAA,IAAAmX,sEAAA,mCAAAnX,oEAAA,CAqDc;IAEdA,wDAAA,IAAAoX,sEAAA,iCAAApX,oEAAA,CAwCc;IAChBA,mEAAA,EAAe;;;;;IAlIGA,uDAAA,GAAyB;IAAzBA,wDAAA,UAAAqX,MAAA,CAAAnW,IAAA,CAAAmG,WAAA,CAAyB,aAAAiQ,GAAA;;;;;;IAT7CtX,4DAAA,aAA6D;IAEIA,oDAAA,GAAe;IAAAA,0DAAA,EAAM;IAClFA,4DAAA,aAAmB;IACOA,wDAAA,mBAAAuX,kEAAA;MAAAvX,2DAAA,CAAAwX,IAAA;MAAA,MAAAC,OAAA,GAAAzX,2DAAA;MAAA,OAASA,yDAAA,CAAAyX,OAAA,CAAAC,KAAA,EAAO;IAAA,EAAC;IAAC1X,4DAAA,WAA0B;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAI;IAGjFA,wDAAA,IAAA2X,sDAAA,wBAAyC;IACzC3X,wDAAA,IAAA4X,wDAAA,2BAmIe;IACjB5X,0DAAA,EAAM;;;;IA1I2DA,uDAAA,GAAe;IAAfA,+DAAA,CAAA4G,MAAA,CAAA1F,IAAA,CAAAgG,IAAA,CAAe;IAKjElH,uDAAA,GAAa;IAAbA,wDAAA,SAAA4G,MAAA,CAAAiR,OAAA,CAAa;IACX7X,uDAAA,GAAc;IAAdA,wDAAA,UAAA4G,MAAA,CAAAiR,OAAA,CAAc;;;;AD8C/B9F,2CAAK,CAAC+F,QAAQ,CAAClG,mDAAa,EAAEC,gDAAU,EAAEC,mDAAa,EAAEG,kDAAY,EAAEC,6CAAO,EAAEF,iDAAW,EAAEG,2CAAK,CAAC;AAc7F,MAAO4F,0BAA0B;EAGnC,IACIC,MAAMA,CAAA;IACN,OAAO,IAAI,CAACC,OAAO;EACvB;EACA,IAAID,MAAMA,CAACE,KAAoC;IAC3C,IAAI,CAACD,OAAO,GAAGC,KAAK;IACpB,IAAI,CAACC,YAAY,EAAE;EACvB;EAGA,IAAatQ,IAAIA,CAACA,IAAU;IACxB,IAAI,CAACuQ,WAAW,CAACC,IAAI,CAACxQ,IAAI,CAAC;EAC/B;EAyCAqC,YACYlB,SAA2B,EAC3BsP,MAAqB,EACrB5O,UAA6B,EAC7BwE,MAAc,EACdqK,MAAsB,EACtBrQ,OAAwB,EACxBsQ,WAAwB,EACxBC,SAA4B,EAC5BC,QAA0B;IAR1B,KAAA1P,SAAS,GAATA,SAAS;IACT,KAAAsP,MAAM,GAANA,MAAM;IACN,KAAA5O,UAAU,GAAVA,UAAU;IACV,KAAAwE,MAAM,GAANA,MAAM;IACN,KAAAqK,MAAM,GAANA,MAAM;IACN,KAAArQ,OAAO,GAAPA,OAAO;IACP,KAAAsQ,WAAW,GAAXA,WAAW;IACX,KAAAC,SAAS,GAATA,SAAS;IACT,KAAAC,QAAQ,GAARA,QAAQ;IAhDV,KAAAjY,cAAc,GAAG,IAAIhB,uDAAY,EAAE;IACnC,KAAAkZ,UAAU,GAAG,IAAIlZ,uDAAY,EAAE;IAC/B,KAAAmF,SAAS,GAAG,IAAInF,uDAAY,EAAE;IAC9B,KAAAmZ,OAAO,GAAG,IAAInZ,uDAAY,EAAE;IAC5B,KAAAoZ,SAAS,GAAG,IAAIpZ,uDAAY,EAAE;IAE/B,KAAA6R,sBAAsB,GAAGA,sEAAsB;IAC/C,KAAAH,eAAe,GAAGA,+DAAe;IACjC,KAAA2H,IAAI,GAAG,MAAM;IACb,KAAAC,UAAU,GAAG,YAAY;IACzB,KAAAC,QAAQ,GAAG,UAAU;IAE9B,KAAAnB,OAAO,GAAG,IAAI;IAEd,KAAA5D,gBAAgB,GAAG,IAAI5C,8DAAc,EAAE;IACvC,KAAA0C,oBAAoB,GAAG,IAAI,CAACE,gBAAgB,CAACgF,OAAO,EAAE;IAGtD,KAAApC,eAAe,GAAG,KAAK;IACvB,KAAArC,OAAO,GAAe,EAAE;IACxB,KAAAN,kBAAkB,GAAe,EAAE;IAGnC,KAAAQ,cAAc,GAAG,IAAIrD,8DAAc,EAAE;IACrC,KAAAqC,KAAK,GAAU;MACXwF,MAAM,EAAE,EAAE;MACV/D,MAAM,EAAE,EAAE;MACVxB,WAAW,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,gBAAgB,EAAE,gBAAgB,CAAC;MACpEwF,MAAM,EAAE,CACJ,wBAAwB,EACxB,uBAAuB,EACvB,uBAAuB,EACvB,sBAAsB;KAE7B;IAGO,KAAAf,WAAW,GAAG,IAAI7G,iDAAe,CAAO,IAAI,CAAC;IAajD,IAAI,CAACiD,OAAO,CAACvK,IAAI,CAAC,IAAImH,wDAAQ,CAAC,MAAM,EAAEzR,mEAAa,CAACyZ,OAAO,CAAC,CAAC;IAC9D,IAAI,CAAClF,kBAAkB,CAACjK,IAAI,CAAC,IAAImH,wDAAQ,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACjE,IAAI,CAAC8C,kBAAkB,CAACjK,IAAI,CAAC,IAAImH,wDAAQ,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChE,IAAI,CAAC8C,kBAAkB,CAACjK,IAAI,CAAC,IAAImH,wDAAQ,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;EACrE;EAEAiI,QAAQA,CAAA;IACJ,IAAI,CAACjB,WAAW,CACXkB,IAAI,CACD7H,uDAAM,CAAE5J,IAAI,IAAKA,IAAI,KAAK,IAAI,CAAC;IAC/B;IACA;IACA2J,qEAAoB,EAAE,CACzB,CACAlJ,SAAS,CAAET,IAAI,IAAK,IAAI,CAACC,IAAI,CAACD,IAAI,CAAC,CAAC;EAC7C;EAEcC,IAAIA,CAACD,IAAU;IAAA,IAAAE,KAAA;IAAA,OAAAC,wLAAA;MACzBD,KAAI,CAAC+O,QAAQ,GAAG,IAAI;MACpB/O,KAAI,CAAC8O,eAAe,GAAG,IAAI;MAC3B9O,KAAI,CAACwR,UAAU,EAAE;MACjBxR,KAAI,CAAC8P,OAAO,GAAG,IAAI;MACnB;MACA9P,KAAI,CAAC7G,IAAI,GAAG6G,KAAI,CAACE,MAAM,CAACJ,IAAI,CAAC;MAC7BE,KAAI,CAACyL,UAAU,GAAG,OACRzL,KAAI,CAACG,OAAO,CAACsH,eAAe,CAAC3H,IAAI,CAACO,GAAG,CAACC,EAAE,EAAE,CAAC1I,mEAAa,CAAC8P,GAAG,CAAC,CAAC,CAAC+J,SAAS,EAAE,EAClF3R,IAAI;MACNE,KAAI,CAAC8P,OAAO,GAAG,KAAK;MACpB9P,KAAI,CAAC7G,IAAI,GAAG6G,KAAI,CAACE,MAAM,CAACF,KAAI,CAACyL,UAAU,CAAC;MACxC,MAAMiG,WAAW,GAAG1R,KAAI,CAACyL,UAAU;MACnCzL,KAAI,CAACyQ,WAAW,CACXkB,mBAAmB,CAAC3R,KAAI,CAACyL,UAAU,CAACpL,GAAG,CAACuR,IAAI,EAAE5R,KAAI,CAACyL,UAAU,CAACpL,GAAG,CAACC,EAAE,CAAC,CACrEC,SAAS,CAAEpH,IAAwB,IAAI;QACpC,IAAIuY,WAAW,KAAK1R,KAAI,CAACyL,UAAU,EAAE;QACrCzL,KAAI,CAAC+O,QAAQ,GAAG5V,IAAI,CAAC4V,QAAQ,CAAC8C,OAAO,EAAE;QACvC,KAAK,MAAM1K,OAAO,IAAInH,KAAI,CAAC+O,QAAQ,EAAE;UACjC,IAAI5H,OAAO,CAAC2K,OAAO,EAAE;YACjB,IACI3K,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACma,wBAAwB,IAC1D5K,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACoa,uBAAuB,IACzD7K,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACqa,0BAA0B,IAC5D9K,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACsa,sBAAsB,IACxD/K,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACua,sBAAsB,IACxDhL,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACwa,sBAAsB,IACxDjL,OAAO,CAAC2K,OAAO,KAAKla,mEAAa,CAACya,uBAAuB,IACzDlL,OAAO,CAAC2K,OAAO,CAACQ,UAAU,CAAC1a,mEAAa,CAAC2a,qBAAqB,CAAC,EACjE;cACE,MAAMC,UAAU,GAAGrL,OAAO,CAAC2K,OAAO,CAACW,KAAK,CAAC,GAAG,CAAC;cAC7C,IAAIC,MAAM,GAAG,EAAE;cACf,IAAIF,UAAU,CAAC5W,MAAM,GAAG,CAAC,EACrB8W,MAAM,GAAG1S,KAAI,CAACiB,SAAS,CAAC0R,OAAO,CAC3B,YAAY,GAAGH,UAAU,CAAC,CAAC,CAAC,GAAG,OAAO,CACzC;cACLrL,OAAO,CAAC2K,OAAO,GAAG9R,KAAI,CAACiB,SAAS,CAAC0R,OAAO,CACpC,6BAA6B,GAAGH,UAAU,CAAC,CAAC,CAAC,EAC7C;gBAAEE;cAAM,CAAE,CACb;;;;QAIb,IAAIE,CAAC,GAAG,CAAC;QACT,KAAK,MAAMzL,OAAO,IAAInH,KAAI,CAAC+O,QAAQ,EAAE;UACjC,IAAI/O,KAAI,CAACsO,gBAAgB,CAACnH,OAAO,CAAC,EAAE;YAChCnH,KAAI,CAAC+O,QAAQ,CAAC8D,MAAM,CAACD,CAAC,EAAE,CAAC,CAAC;YAC1B5S,KAAI,CAAC+O,QAAQ,CAAC8D,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE1L,OAAO,CAAC;YACnC;;UAEJyL,CAAC,EAAE;;QAEP5S,KAAI,CAAC8O,eAAe,GAAG,KAAK;MAChC,CAAC,CAAC;MACN9O,KAAI,CAACwQ,MAAM,CAACsC,OAAO,EAAE,CAACvS,SAAS,CAAEwS,KAAc,IAAI;QAC/C/S,KAAI,CAACG,OAAO,CACPC,kBAAkB,CAACJ,KAAI,CAACyL,UAAU,CAACpL,GAAG,CAACC,EAAE,CAAC,CAC1CC,SAAS,CAAEpH,IAAqB,IAAI;UACjC6G,KAAI,CAAC/E,WAAW,GAAG+E,KAAI,CAACQ,iBAAiB,CAACuS,KAAK,EAAE5Z,IAAI,CAAC;QAC1D,CAAC,CAAC;MACV,CAAC,CAAC;MACF6G,KAAI,CAACgT,MAAM,GAAG,IAAI;MAClBhT,KAAI,CAACwM,YAAY,GAAG,IAAI;MACxBxM,KAAI,CAAC2M,cAAc,CAACsG,KAAK,EAAE;MAC3B,IAAIjT,KAAI,CAACyL,UAAU,CAACjP,UAAU,CAAC5E,mEAAa,CAACsb,sBAAsB,CAAC,EAAE;QAClElT,KAAI,CAACG,OAAO,CACPsH,eAAe,CACZkC,gEAAU,CAACwJ,oBAAoB,CAC3BnT,KAAI,CAACyL,UAAU,CAACjP,UAAU,CAAC5E,mEAAa,CAACsb,sBAAsB,CAAC,CAAC,CAAC,CAAC,CACtE,EACD,CAACtb,mEAAa,CAAC8P,GAAG,CAAC,CACtB,CACAnH,SAAS,CACL6S,MAAM,IAAI;UACPpT,KAAI,CAACwM,YAAY,GAAG4G,MAAM,CAACtT,IAAI;QACnC,CAAC,EACA+H,KAAK,IAAI,CAAE,CAAC,CAChB;;MAET,MAAMwL,OAAO,GAAG;QACZC,cAAc,EAAE,CAAC1b,mEAAa,CAAC8P,GAAG;OACrC;MACD1H,KAAI,CAACyQ,WAAW,CAAC8C,eAAe,CAACzT,IAAI,CAAC,CAACS,SAAS,CAAEiT,MAAM,IAAI;QACxDxT,KAAI,CAAC2M,cAAc,CAAC8G,OAAO,CAACD,MAAM,CAACzM,KAAK,CAAC;MAC7C,CAAC,CAAC;MACF/G,KAAI,CAAC2Q,QAAQ,CAAC+C,aAAa,CAAC1T,KAAI,CAACyL,UAAU,CAACpL,GAAG,CAACC,EAAE,CAAC,CAACC,SAAS,CAAEyS,MAAiB,IAAI;QAChFhT,KAAI,CAACgT,MAAM,GAAGA,MAAM,CAACA,MAAM;QAC3BhT,KAAI,CAAC2Q,QAAQ,CACRgD,uBAAuB,CAAC3T,KAAI,CAACyL,UAAU,CAACpL,GAAG,CAACC,EAAE,CAAC,CAC/CC,SAAS,CAAEE,UAAU,IAAI;UACtBT,KAAI,CAACkM,gBAAgB,CAACuH,OAAO,CACzBhT,UAAU,CACLiJ,MAAM,CAAEkK,CAAC,IAAKA,CAAC,CAACC,mBAAmB,KAAK,QAAQ,CAAC,CACjDC,GAAG,CAAEF,CAAC,IAAKA,CAAC,CAACnT,UAAU,CAAC,CAChC;UACDT,KAAI,CAAC+T,QAAQ,EAAE;QACnB,CAAC,CAAC;MACV,CAAC,CAAC;IAAC;EACP;EAEAzF,gBAAgBA,CAACnH,OAAoB;IACjC,IAAI,CAAC,IAAI,CAACsE,UAAU,EAAE,OAAO,KAAK;IAClC,MAAMuI,IAAI,GAAG,IAAI,CAACvI,UAAU,CAACjP,UAAU,CAAC5E,mEAAa,CAACqc,0BAA0B,CAAC;IACjF,IAAI,CAACD,IAAI,EAAE,OAAO,KAAK;IAEvB,OAAOA,IAAI,CAAC,CAAC,CAAC,IAAI7M,OAAO,CAACA,OAAO,CAACG,KAAK,GAAG,GAAG,GAAGH,OAAO,CAACA,OAAO,CAACI,KAAK;EACzE;EAEA8D,OAAOA,CAAClE,OAAA,GAAkB,IAAI;IAC1B,IAAI,CAACsE,UAAU,CAACtE,OAAO,GAAGA,OAAO;IACjC,IAAI,CAACtK,SAAS,CAAClE,IAAI,CAAC,IAAI,CAAC8S,UAAU,CAAC;EACxC;EAEAyI,WAAWA,CAACpU,IAAU;IAClB,IAAI,CAACqG,MAAM,CAAC2B,QAAQ,CAAC,CAAC/C,2DAAW,CAACgD,aAAa,GAAG,QAAQ,EAAEjI,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC,CAAC;EAC7E;EAEA6T,iBAAiBA,CAAC1T,UAAgB;IAC9BmJ,+DAAQ,CAACwK,cAAc,CAAC,IAAI,CAACjO,MAAM,EAAE1F,UAAU,CAAC;EACpD;EAEQ4T,aAAaA,CAAA;IACjB,IAAI,CAACH,WAAW,CAAC,IAAI,CAACzI,UAAU,CAAC;EACrC;EAEA0C,cAAcA,CAAChH,OAAoB;IAC/B,IAAI,IAAI,CAACmH,gBAAgB,CAACnH,OAAO,CAAC,EAAE,IAAI,CAACkE,OAAO,EAAE,CAAC,KAC9C,IAAI,CAACA,OAAO,CAAClE,OAAO,CAACA,OAAO,CAACG,KAAK,GAAG,GAAG,GAAGH,OAAO,CAACA,OAAO,CAACI,KAAK,CAAC;EAC1E;EAEQrH,MAAMA,CAACJ,IAAU;IACrB,MAAM3G,IAAI,GAAQ,EAAE;IACpBA,IAAI,CAACgG,IAAI,GAAGW,IAAI,CAACX,IAAI;IACrBhG,IAAI,CAACC,KAAK,GAAG0G,IAAI,CAAC1G,KAAK;IACvBD,IAAI,CAACmG,WAAW,GAAGQ,IAAI,CAACR,WAAW;IACnCnG,IAAI,CAACoG,YAAY,GAAGO,IAAI,CAACW,UAAU,IAAI,IAAI;IAC3CtH,IAAI,CAACU,WAAW,GAAGiG,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC8I,4BAA4B,CAAC;IAC9EvH,IAAI,CAACwH,OAAO,GAAGb,IAAI,CAACa,OAAO,CAACC,GAAG;IAC/BzH,IAAI,CAACQ,QAAQ,GAAGmG,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAACiJ,wBAAwB,CAAC;IACvE,IAAI1H,IAAI,CAACQ,QAAQ,IAAIR,IAAI,CAACQ,QAAQ,CAACiC,MAAM,IAAI,CAAC,IAAI,CAACzC,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAAC,EAAER,IAAI,CAACQ,QAAQ,GAAG,IAAI;IACzF;IACAR,IAAI,CAACiG,OAAO,GAAGzH,yEAAmB,CAACmJ,8BAA8B,CAC7DhB,IAAI,CAACiB,SAAS,EACd,IAAI,CAACwP,MAAM,CACd;IACDpX,IAAI,CAACkG,UAAU,GAAG,IAAIvH,8DAAc,CAAC,IAAI,CAACmJ,SAAS,CAAC,CAACC,SAAS,CAACpB,IAAI,CAACqB,SAAS,CAAC;IAC9EhI,IAAI,CAACwB,QAAQ,GAAG9C,8DAAc,CAACuJ,oBAAoB,CAC/CtB,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAACyJ,2BAA2B,CAAC,GAAG,CAAC,CAAC,CAClE;IACDlI,IAAI,CAACc,MAAM,GAAG,IAAI,CAACqH,QAAQ,CACvBxB,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC2J,oCAAoC,CAAC,CACtE,CAACC,IAAI,CAAC,IAAI,CAAC;IACZrI,IAAI,CAACY,eAAe,GAAG+F,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC6J,wBAAwB,CAAC,GACxE3B,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC6J,wBAAwB,CAAC,CAAC,CAAC,CAAC,GAC1D,IAAI;IACVtI,IAAI,CAACgB,SAAS,GAAG2F,IAAI,CAAC3F,SAAS,IAAI,MAAM,GAAG2F,IAAI,CAACzF,QAAQ,GAAGyF,IAAI,CAAC3F,SAAS;IAC1EhB,IAAI,CAACkB,QAAQ,GAAGyF,IAAI,CAACzF,QAAQ;IAC7BlB,IAAI,CAAC0B,IAAI,GAAGiF,IAAI,CAACjF,IAAI;IACrB,IAAIiF,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC8J,4BAA4B,CAAC,EAAE;MAC7DvI,IAAI,CAACoB,QAAQ,GAAG,IAAIzC,8DAAc,CAAC,IAAI,CAACmJ,SAAS,CAAC,CAACC,SAAS,CACxDpB,IAAI,CAACtD,UAAU,CAAC5E,mEAAa,CAAC8J,4BAA4B,CAAC,CAAC,CAAC,CAAC,CACjE;;IAGLvI,IAAI,CAACsB,UAAU,GAAG,IAAI1C,iEAAiB,EAAE,CAACmJ,SAAS,CAACpB,IAAI,CAAC;IAEzD3G,IAAI,CAACqG,OAAO,GAAG,IAAI,CAACmC,UAAU,CAACC,cAAc,CAAC9B,IAAI,CAAC;IACnD3G,IAAI,CAAC8C,WAAW,GAAG,IAAI,CAAC0F,UAAU,CAACE,cAAc,CAAC/B,IAAI,CAAC;IAEvD3G,IAAI,CAACqD,UAAU,GAAG,EAAE;IACpBrD,IAAI,CAACoD,OAAO,GAAGuD,IAAI,CAACvD,OAAO,CAACuF,IAAI,EAAE;IAElC,KAAK,MAAMC,CAAC,IAAIC,MAAM,CAACC,IAAI,CAACnC,IAAI,CAACtD,UAAU,CAAC,CAACsF,IAAI,EAAE,EAAE;MACjD3I,IAAI,CAACqD,UAAU,CAAC0F,IAAI,CAAC,CAACH,CAAC,EAAEjC,IAAI,CAACtD,UAAU,CAACuF,CAAC,CAAC,CAACP,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;IAE5D,OAAOrI,IAAI;EACf;EAEAwW,KAAKA,CAAA;IACD,IAAI,CAACkB,OAAO,CAAClY,IAAI,EAAE;EACvB;EAEA6S,IAAIA,CAAA;IACA,IAAI,CAAC9S,cAAc,CAACC,IAAI,CAAC,IAAI,CAAC8S,UAAU,CAAC;EAC7C;EAEAnG,cAAcA,CAACoB,OAAoB;IAC/B,IAAI,CAACoK,SAAS,CAACnY,IAAI,CAAC;MAAEwO,OAAO,EAAET,OAAO;MAAE5G,IAAI,EAAE,IAAI,CAAC2L;IAAU,CAAE,CAAC;EACpE;EAEAmC,SAASA,CAAA;IACL,OAAO,IAAI,CAACnC,UAAU,IAAI,IAAI,CAACA,UAAU,CAACtI,MAAM,CAACC,OAAO,CAACxL,mEAAa,CAACyL,YAAY,CAAC,IAAI,CAAC,CAAC;EAC9F;EAEAvE,UAAUA,CAAA;IACN,OAAO,IAAI,CAAC6C,UAAU,CAACS,kBAAkB,CAAC,IAAI,CAACqJ,UAAU,CAAC;EAC9D;EAEQjL,iBAAiBA,CAACuS,KAAc,EAAE9X,WAA4B;IAClE,MAAM9B,IAAI,GAAQ,EAAE;IACpBA,IAAI,CAAC+B,KAAK,GAAG,EAAE;IACf/B,IAAI,CAACmC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACL,WAAW,CAACA,WAAW,EAAE,OAAO9B,IAAI;IACzC,KAAK,MAAMoJ,UAAU,IAAItH,WAAW,CAACA,WAAW,CAACuH,oBAAoB,EAAE;MACnE,IACID,UAAU,CAACE,SAAS,CAACH,aAAa,IAAIyQ,KAAK,CAACuB,MAAM,CAAChS,aAAa,IAChEC,UAAU,CAACE,SAAS,CAACC,aAAa,IAAI9K,mEAAa,CAAC+K,oBAAoB,EAC1E,EACD,MAAM,IAAIJ,UAAU,CAACE,SAAS,CAACC,aAAa,IAAI9K,mEAAa,CAACgL,mBAAmB,EAAE;QAChFzJ,IAAI,CAAC+B,KAAK,CAACgH,IAAI,CAACK,UAAU,CAAC;OAC9B,MAAM;QACHpJ,IAAI,CAACmC,MAAM,CAAC4G,IAAI,CAACK,UAAU,CAAC;;;IAGpC,KAAK,MAAMA,UAAU,IAAItH,WAAW,CAACA,WAAW,CAAC4H,gBAAgB,CAAC5H,WAAW,EAAE;MAC3E,IACIsH,UAAU,CAACE,SAAS,CAACH,aAAa,IAAIyQ,KAAK,CAACuB,MAAM,CAAChS,aAAa,IAChEC,UAAU,CAACE,SAAS,CAACC,aAAa,IAAI9K,mEAAa,CAAC+K,oBAAoB,EAC1E,EACD,MAAM,IAAIJ,UAAU,CAACE,SAAS,CAACC,aAAa,IAAI9K,mEAAa,CAACgL,mBAAmB,EAAE;QAChF,IAAI,CAAC,IAAI,CAACE,kBAAkB,CAAC3J,IAAI,CAACmC,MAAM,EAAEiH,UAAU,CAAC,EAAEpJ,IAAI,CAAC+B,KAAK,CAACgH,IAAI,CAACK,UAAU,CAAC;OACrF,MAAM;QACH,IAAI,CAAC,IAAI,CAACO,kBAAkB,CAAC3J,IAAI,CAACmC,MAAM,EAAEiH,UAAU,CAAC,EAAEpJ,IAAI,CAACmC,MAAM,CAAC4G,IAAI,CAACK,UAAU,CAAC;;;IAG3F,OAAOpJ,IAAI;EACf;EAEQmI,QAAQA,CAAC9E,UAAiB;IAC9B,MAAMuG,MAAM,GAAa,EAAE;IAC3B,IAAIvG,UAAU,EAAE;MACZ,KAAK,MAAMwG,CAAC,IAAIxG,UAAU,EAAE;QACxBuG,MAAM,CAACb,IAAI,CAAC,IAAIlK,qDAAK,CAACgL,CAAC,CAAC,CAACC,cAAc,EAAE,CAAC;;;IAGlD,OAAOF,MAAM;EACjB;EAEQD,kBAAkBA,CAAC7H,WAAyB,EAAEsH,UAAsB;IACxE,KAAK,MAAMW,IAAI,IAAIjI,WAAW,EAAE;MAC5B,IAAIiI,IAAI,CAACT,SAAS,CAACH,aAAa,IAAIC,UAAU,CAACE,SAAS,CAACH,aAAa,EAAE,OAAO,IAAI;;IAEvF,OAAO,KAAK;EAChB;EAEAkP,UAAUA,CAAA;IACN,IAAI,CAAC7F,KAAK,CAACwF,MAAM,GAAG,EAAE;IACtB,IAAI,CAACxF,KAAK,CAACyB,MAAM,GAAG,EAAE;IACtB,IAAI,CAAC7C,gBAAgB,GAAG,IAAI;EAChC;EAEAwJ,QAAQA,CAAA;IACJ,IAAI,CAACvC,UAAU,EAAE;IACjB,IAAI,CAAC7F,KAAK,CAACwF,MAAM,CAACjP,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC0R,OAAO,CAAC,mCAAmC,CAAC,CAAC;IACnF,IAAI,CAAChH,KAAK,CAACwF,MAAM,CAACjP,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC0R,OAAO,CAAC,0CAA0C,CAAC,CAAC;IAC1F,IAAI,CAAChH,KAAK,CAACwF,MAAM,CAACjP,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC0R,OAAO,CAAC,wCAAwC,CAAC,CAAC;IACxF,IAAI,CAAChH,KAAK,CAACwF,MAAM,CAACjP,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC0R,OAAO,CAAC,oCAAoC,CAAC,CAAC;IAEpF,IAAI,CAAChH,KAAK,CAACyB,MAAM,CAAClL,IAAI,CAAC,IAAI,CAAC8Q,MAAM,CAACpX,MAAM,GAAG,IAAI,CAACsQ,gBAAgB,CAACU,OAAO,EAAE,CAAChR,MAAM,CAAC;IACnF,IAAI,CAAC+P,KAAK,CAACyB,MAAM,CAAClL,IAAI,CAAC,IAAI,CAACgK,gBAAgB,CAACU,OAAO,EAAE,CAAChR,MAAM,CAAC;IAC9D,IAAI,CAAC+P,KAAK,CAACyB,MAAM,CAAClL,IAAI,CAClBqS,gBAAgB,CAAC,IAAI,CAAC9I,UAAU,CAACjP,UAAU,CAAC5E,mEAAa,CAAC4c,2BAA2B,CAAC,CAAC,CAC1F;IACD,IAAI,CAAC7I,KAAK,CAACyB,MAAM,CAAClL,IAAI,CAClBqS,gBAAgB,CAAC,IAAI,CAAC9I,UAAU,CAACjP,UAAU,CAAC5E,mEAAa,CAAC6c,uBAAuB,CAAC,CAAC,CACtF;IACD,IAAI,CAAClK,gBAAgB,GAAG,IAAI,CAACoB,KAAK,CAACyB,MAAM,CAACsH,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IACjE,IAAI,CAACxE,YAAY,EAAE;EACvB;EAEQA,YAAYA,CAAA;IAChB,MAAMH,MAAM,GAAG,IAAI,CAACA,MAAM,EAAE4E,aAAa;IACzC,IAAI,CAAC5E,MAAM,EAAE;MACT;;IAEJ,MAAMtL,GAAG,GAAGsL,MAAM,CAAC6E,UAAU,CAAC,IAAI,CAAC;IACnC;IACA;IACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAG,IAAI,CAACtJ,KAAK,CAACyB,MAAM,CAAC;IAC/C,IAAI,CAAC,IAAI,CAACzB,KAAK,CAACwF,MAAM,EAAEvV,MAAM,EAAE;MAC5B;;IAEJ,IAAI,IAAI,CAACsZ,YAAY,EAAE;MACnB,IAAI,CAACA,YAAY,CAACC,OAAO,EAAE;;IAE/BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC1J,KAAK,CAAC;IACvB,IAAI,CAACuJ,YAAY,GAAG,IAAIlL,2CAAK,CAACrF,GAAG,EAAE;MAC/B2Q,IAAI,EAAE,KAAK;MACXnc,IAAI,EAAE;QACFgY,MAAM,EAAE,IAAI,CAACxF,KAAK,CAACwF,MAAM;QACzBoE,QAAQ,EAAE,CACN;UACIpc,IAAI,EAAE,IAAI,CAACwS,KAAK,CAACyB,MAAM;UACvBoI,eAAe,EAAE,IAAI,CAAC7J,KAAK,CAACyF,MAAM;UAClCqE,WAAW,EAAE;SAChB;OAER;MACDC,OAAO,EAAE;QACLC,SAAS,EAAE,GAAG;QACdC,OAAO,EAAE;UACLC,MAAM,EAAE;YACJxK,OAAO,EAAE;WACZ;UACDyK,OAAO,EAAE;SACZ;QACDC,UAAU,EAAE,KAAK;QACjBC,MAAM,EAAE;UACJC,OAAO,EAAE;YACLC,IAAI,EAAE,CAAC;YACPC,KAAK,EAAE,CAAC;YACRC,GAAG,EAAE,EAAE;YACPC,MAAM,EAAE;;SAEf;QACDC,MAAM,EAAE;UACJC,CAAC,EAAE;YACCC,KAAK,EAAE;cACHnL,OAAO,EAAE;;WAEhB;UACDoL,CAAC,EAAE;YACCnB,IAAI,EAAE,QAAQ;YACdoB,WAAW,EAAE,IAAI;YACjBzB,GAAG,EAAED,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC2B,KAAK,CAAC5B,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC;;;;KAI3D,CAAC;EACN;EAEA7V,OAAOA,CAAA;IACH,OAAO,IAAI,CAACuM,UAAU,IAAI,IAAI,CAACA,UAAU,CAACtI,MAAM,CAACC,OAAO,CAACxL,mEAAa,CAACyL,YAAY,CAAC,KAAK,CAAC,CAAC;EAC/F;EAEAkJ,gBAAgBA,CAACzM,IAAU;IACvB,OAAO,IAAIwJ,8DAAc,CAAC,CAACxJ,IAAI,CAAC,CAAC;EACrC;EAAC,QAAAwD,CAAA;qBAraQ0M,0BAA0B,EAAA/X,+DAAA,CAAAuL,kEAAA,GAAAvL,+DAAA,CAAA0L,+DAAA,GAAA1L,+DAAA,CAAA4L,4EAAA,GAAA5L,+DAAA,CAAA8L,oDAAA,GAAA9L,+DAAA,CAAA0Q,oEAAA,GAAA1Q,+DAAA,CAAA0Q,qEAAA,GAAA1Q,+DAAA,CAAA0L,6DAAA,GAAA1L,+DAAA,CAAA0Q,uEAAA,GAAA1Q,+DAAA,CAAA0Q,sEAAA;EAAA;EAAA,QAAA1E,EAAA;UAA1B+L,0BAA0B;IAAA9L,SAAA;IAAA8S,SAAA,WAAAC,iCAAAvS,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;QCpEvCzM,wDAAA,IAAAif,yCAAA,kBA4IM;;;QA5IAjf,wDAAA,SAAA0M,GAAA,CAAAxL,IAAA,CAAU;;;;;;;AD4ehB,SAASob,gBAAgBA,CAAC4C,QAAkB;EACxC,IAAIA,QAAQ,EAAEvb,MAAM,GAAG,CAAC,EAAE;IACtB,OAAOwb,QAAQ,CAACD,QAAQ,CAAC,CAAC,CAAC,CAAC;GAC/B,MAAM;IACH,OAAO,CAAC;;AAEhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEvd4B;AACG;AACY;AAQD;AAE0C;AAIC;;;;;;;;;;;;;;;;IC7BjFlf,4DAAA,YAAsD;IACpDA,oDAAA,GACF;;IAAAA,0DAAA,EAAK;;;IADHA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,0CACF;;;;;IACAA,4DAAA,YAAqD;IACnDA,oDAAA,GACF;;IAAAA,0DAAA,EAAK;;;IADHA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,qCACF;;;;;IALAA,wDAAA,IAAA8f,gDAAA,gBAEK;IACL9f,wDAAA,IAAA+f,gDAAA,gBAEK;;;;IALA/f,wDAAA,WAAAqX,MAAA,CAAA2I,WAAA,CAAmB;IAGnBhgB,uDAAA,GAAkB;IAAlBA,wDAAA,UAAAqX,MAAA,CAAA2I,WAAA,CAAkB;;;;;;IAOzBhgB,4DAAA,QAAG;IAAAA,oDAAA,GAAkD;;IAAAA,0DAAA,EAAI;IACzDA,4DAAA,WAAM;IAE0CA,wDAAA,2BAAAigB,kFAAA/S,MAAA;MAAAlN,2DAAA,CAAA+S,IAAA;MAAA,MAAAlR,MAAA,GAAA7B,2DAAA;MAAA,OAAAA,yDAAA,CAAA6B,MAAA,CAAAqe,sBAAA,GAAAhT,MAAA;IAAA,EAAoC;IAAClN,oDAAA,GAE/E;;IAAAA,0DAAA,EAAe;;;;IALlBA,uDAAA,GAAkD;IAAlDA,+DAAA,CAAAA,yDAAA,yCAAkD;IAGLA,uDAAA,GAAoC;IAApCA,wDAAA,YAAAyN,MAAA,CAAAyS,sBAAA,CAAoC;IAAClgB,uDAAA,GAE/E;IAF+EA,+DAAA,CAAAA,yDAAA,uCAE/E;;;;;IASFA,4DAAA,UAAsD;IACpDA,oDAAA,GAAkB;IAAAA,4DAAA,eAA8B;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAO;;;;IAA7EA,uDAAA,GAAkB;IAAlBA,gEAAA,MAAAmgB,UAAA,CAAAjZ,IAAA,MAAkB;IAA8BlH,uDAAA,GAAsB;IAAtBA,gEAAA,MAAAmgB,UAAA,CAAAvR,OAAA,MAAsB;;;;;IAF1E5O,4DAAA,UAAkD;IAChDA,wDAAA,IAAAogB,6DAAA,iBAEM;IACRpgB,0DAAA,EAAM;;;;IAHEA,uDAAA,GAA8C;IAA9CA,wDAAA,SAAAmgB,UAAA,CAAAE,aAAA,qBAA8C;;;;;IAHxDrgB,4DAAA,UAA6C;IACxCA,oDAAA,GAAwD;;IAAAA,0DAAA,EAAI;IAC/DA,wDAAA,IAAAsgB,uDAAA,kBAIM;IACRtgB,0DAAA,EAAM;;;;IANDA,uDAAA,GAAwD;IAAxDA,+DAAA,CAAAA,yDAAA,+CAAwD;IACnCA,uDAAA,GAAwB;IAAxBA,wDAAA,YAAAugB,iBAAA,CAAAC,OAAA,CAAwB;;;;;IAOhDxgB,uDAAA,SAA8C;;;;;IAG5CA,4DAAA,UAKC;IACCA,oDAAA,GAAkB;IAAAA,4DAAA,eAA8B;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAO;;;;IAA7EA,uDAAA,GAAkB;IAAlBA,gEAAA,MAAAygB,UAAA,CAAAvZ,IAAA,MAAkB;IAA8BlH,uDAAA,GAAsB;IAAtBA,gEAAA,MAAAygB,UAAA,CAAA7R,OAAA,MAAsB;;;;;IAP1E5O,4DAAA,UAAkD;IAChDA,wDAAA,IAAA0gB,6DAAA,iBAOM;IACR1gB,0DAAA,EAAM;;;;IAPDA,uDAAA,GAIT;IAJSA,wDAAA,SAAAygB,UAAA,CAAAJ,aAAA,qCAAAI,UAAA,CAAAJ,aAAA,qCAIT;;;;;IATErgB,4DAAA,UAAkD;IAChDA,wDAAA,IAAA2gB,sDAAA,gBAA8C;IAC9C3gB,4DAAA,QAAG;IAAAA,oDAAA,GAA8D;;IAAAA,0DAAA,EAAI;IACrEA,wDAAA,IAAA4gB,uDAAA,kBASM;IACR5gB,0DAAA,EAAM;;;;IAZCA,uDAAA,GAAqC;IAArCA,wDAAA,SAAAugB,iBAAA,CAAAM,iBAAA,CAAqC;IACvC7gB,uDAAA,GAA8D;IAA9DA,+DAAA,CAAAA,yDAAA,qDAA8D;IACzCA,uDAAA,GAAwB;IAAxBA,wDAAA,YAAAugB,iBAAA,CAAAC,OAAA,CAAwB;;;;;IAXlDxgB,wDAAA,IAAA8gB,iDAAA,iBAOM;IACN9gB,wDAAA,IAAA+gB,iDAAA,iBAaM;;;;IArBA/gB,wDAAA,SAAAugB,iBAAA,CAAAM,iBAAA,CAAqC;IAQrC7gB,uDAAA,GAA0C;IAA1CA,wDAAA,SAAAugB,iBAAA,CAAAS,sBAAA,CAA0C;;;ADgB5C,MAAOC,oBAAoB;EA8B7BC,QAAQA,CAACC,YAAoB,EAAEC,MAAc,EAAEC,MAAc,EAAEC,aAAsB;IACjF,OAAO,IAAI,CAACC,OAAO,CAACC,MAAM,CAACL,YAAY,IAAI,GAAG,EAAE,EAAE,EAAE;MAChD9F,cAAc,EAAE,CAAC1b,mEAAa,CAAC8P,GAAG,CAAC;MACnC2R,MAAM,EAAEA,MAAM;MACdC,MAAM,EAAE,CAACA,MAAM,CAAC;MAChBC,aAAa,EAAEA;KAClB,CAAC;EACN;EAGApX,YACYqX,OAA2B,EAC3BpT,KAAY,EACZnF,SAA2B,EAC3ByY,OAAgC,EAChCC,WAA+B,EAC/B1T,OAAuB;IALvB,KAAAuT,OAAO,GAAPA,OAAO;IACP,KAAApT,KAAK,GAALA,KAAK;IACL,KAAAnF,SAAS,GAATA,SAAS;IACT,KAAAyY,OAAO,GAAPA,OAAO;IACP,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAA1T,OAAO,GAAPA,OAAO;IA7CV,KAAAsD,sBAAsB,GAAGA,sEAAsB;IAC/C,KAAAH,eAAe,GAAGA,+DAAe;IACjC,KAAAqO,KAAK,GAAGA,qDAAK;IAItB,KAAAmC,UAAU,GAAG,IAAItQ,8DAAc,EAAE;IAI1B,KAAAmD,OAAO,GAAe,CACzB,IAAIpD,wDAAQ,CAAC,MAAM,EAAEzR,mEAAa,CAACyZ,OAAO,CAAC,EAC3C,IAAIhI,wDAAQ,CAAC,MAAM,EAAEzR,mEAAa,CAACiiB,gBAAgB,CAAC,CACvD;IACM,KAAAnE,OAAO,GAAkB;MAC5BoE,iBAAiB,EAAE,KAAK;MACxBC,UAAU,EAAE;KACf;IACD,KAAAjY,IAAI,GAAmB;MACnB2K,OAAO,EAAE,CACL,IAAI8K,4DAAY,CAAC,MAAM,EAAE3f,mEAAa,CAACyZ,OAAO,CAAC,EAC/C,IAAIkG,4DAAY,CAAC,MAAM,EAAE3f,mEAAa,CAACiiB,gBAAgB,CAAC,CAC3D;MACDG,OAAO,EAAE,IAAI;MACbC,MAAM,EAAEriB,mEAAa,CAACiiB,gBAAgB;MACtCK,SAAS,EAAE;KACd;IAED,KAAA/B,sBAAsB,GAAG,KAAK;IAStB,KAAAgC,SAAS,GAAG,IAAIzC,yCAAO,EAAQ;EASpC;EAEHpG,QAAQA,CAAA;IACJ,MAAM8I,aAAa,GAAG,IAAI5C,0DAAU,CAChC,+BAA+B,EAC/B,MAAM,EACL1X,IAAU,IAAK,IAAI,CAACua,aAAa,CAACva,IAAI,CAAC,CAC3C;IACDsa,aAAa,CAACE,KAAK,GAAGjD,6DAAa,CAACkD,OAAO;IAC3C,MAAMC,YAAY,GAAG,IAAIhD,0DAAU,CAC/B,8BAA8B,EAC9B,QAAQ,EACP1X,IAAU,IAAK,IAAI,CAAC2a,YAAY,CAAC3a,IAAI,CAAC,CAC1C;IACD0a,YAAY,CAACF,KAAK,GAAGjD,6DAAa,CAACkD,OAAO;IAC1C,IAAI,CAAC7E,OAAO,CAACqE,UAAU,CAAC7X,IAAI,CAACkY,aAAa,CAAC;IAC3C,IAAI,CAAC1E,OAAO,CAACqE,UAAU,CAAC7X,IAAI,CAACsY,YAAY,CAAC;IAC1C,IAAI,CAAC9E,OAAO,CAACqE,UAAU,CAACW,OAAO,CAAEC,CAAC,IAAI;MAClCA,CAAC,CAACC,WAAW,GAAG,CAACtD,2DAAW,CAACuD,IAAI,EAAEvD,2DAAW,CAACwD,iBAAiB,CAAC;IACrE,CAAC,CAAC;IACF,IAAI,CAACnB,WAAW,CACXoB,sBAAsB,EAAE,CACxBxJ,IAAI,CAACoG,0DAAS,CAAC,IAAI,CAACwC,SAAS,CAAC,CAAC,CAC/B5Z,SAAS,CAAEya,QAAQ,IAChBA,QAAQ,CACHC,iBAAiB,EAAE,CACnB1J,IAAI,CAACoG,0DAAS,CAAC,IAAI,CAACwC,SAAS,CAAC,CAAC,CAC/B5Z,SAAS,CAAC,CAAC;MAAE2a;IAAY,CAAE,KAAI;MAC5B,IAAI,CAACjD,WAAW,GAAGiD,YAAY;MAC/B,IAAI,CAAC3S,OAAO,EAAE;IAClB,CAAC,CAAC,CACT;EACT;EAEA4S,eAAeA,CAAA;IACX,IAAI,CAAC5S,OAAO,EAAE;IACd,IAAI,CAAC6S,IAAI,CAACC,oBAAoB,CAAC;MAC3BC,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBC,aAAa,EAAE,IAAI,CAAC7F;KACvB,CAAC;EACN;EAEA8F,WAAWA,CAAA;IACP,IAAI,CAACrB,SAAS,CAAC7J,IAAI,EAAE;IACrB,IAAI,CAAC6J,SAAS,CAACsB,QAAQ,EAAE;EAC7B;EAEcC,uBAAuBA,CAAC3U,KAAa;IAAA,IAAA/G,KAAA;IAAA,OAAAC,wLAAA;MAC/CD,KAAI,CAACmY,sBAAsB,GAAG,KAAK,CAAC,CAAC;MACrC,MAAMxR,SAAS,SAAS3G,KAAI,CAACiG,OAAO,CAACW,iBAAiB,CAAC;QACnDxN,KAAK,EAAE,8BAA8B;QACrC0N,OAAO,EAAEgR,iHAAgB;QACzB6D,QAAQ,EAAE/D,sFAAQ,CAACgE,QAAQ;QAC3BC,eAAe,EAAE7b,KAAI,CAAC8b,mBAAmB;QACzC/U;OACH,CAAC;MACFJ,SAAS,CAACK,WAAW,EAAE,CAACzG,SAAS,CAAE0G,QAAQ,IAAI;QAC3C,IAAIA,QAAQ,KAAK,YAAY,EAAE;UAC3B,IAAIjH,KAAI,CAACmY,sBAAsB,EAAE;YAC7BnY,KAAI,CAAC0Z,OAAO,CAACqC,GAAG,CAAC,+BAA+B,EAAE,IAAI,CAAC;;UAE3D/b,KAAI,CAACgc,8BAA8B,CAACjV,KAAK,CAAC;;MAElD,CAAC,CAAC;IAAC;EACP;EAEQkV,eAAeA,CAACb,IAAY,EAAEc,aAAkB;IACpD,IAAI,CAAC9V,KAAK,CAACoB,oBAAoB,EAAE;IAEjC,IAAI,CAAC2U,cAAc,CAACD,aAAa,CAAC;IAClC,IAAIA,aAAa,CAACpD,iBAAiB,IAAIoD,aAAa,CAACjD,sBAAsB,EAAE;MACzE,IAAI,CAACmD,iBAAiB,CAACF,aAAa,CAAC;;IAEzC,IAAId,IAAI,CAACxf,MAAM,IAAI,CAAC,EAAE;MAClB,IAAI,CAACwK,KAAK,CAACA,KAAK,CAAC,uCAAuC,CAAC;KAC5D,MAAM;MACH,IAAI,CAACA,KAAK,CAACA,KAAK,CAAC,gCAAgC,CAAC;;IAEtD,IAAI,CAACmC,OAAO,EAAE;EAClB;EAEQ6T,iBAAiBA,CAACC,cAA8B;IACpD,KAAK,IAAI,CAACpW,OAAO,CAACW,iBAAiB,CAAC;MAChCxN,KAAK,EAAE,oCAAoC;MAC3CkjB,QAAQ,EAAE,uCAAuC;MACjDC,MAAM,EAAE;QAAEC,IAAI,EAAE,MAAM;QAAEC,IAAI,EAAE;MAAM,CAAE;MACtC3V,OAAO,EAAE+Q,sGAAK;MACd8D,QAAQ,EAAE/D,sFAAQ,CAACgE,QAAQ;MAC3BC,eAAe,EAAE,IAAI,CAACa,aAAa;MACnCC,OAAO,EAAE;QAAElP,SAAS,EAAE4O;MAAc;KACvC,CAAC;EACN;EAEQO,MAAMA,CAAA;IACV,IAAI,CAACC,WAAW,CAAC,IAAI,CAACzB,IAAI,CAAC0B,YAAY,EAAE,CAACC,QAAQ,CAAC;EACvD;EAEQtC,YAAYA,CAAC3a,IAAU;IAC3B,IAAIA,IAAI,IAAI,IAAI,EAAE;MACd,IAAI,CAAC8c,MAAM,EAAE;MACb;;IAEJ,IAAI,CAACC,WAAW,CAAC,CAAC/c,IAAI,CAAC,CAAC;EAC5B;EAEQkc,8BAA8BA,CAACjV,KAAa;IAChD,IAAI,CAACX,KAAK,CAACgB,mBAAmB,EAAE;IAChC,IAAI,CAACoS,OAAO,CAACoD,MAAM,CAAC7V,KAAK,CAAC,CAACxG,SAAS,CAChC,MAAM,IAAI,CAACyc,cAAc,EAAE,EAC1BnV,KAAK,IAAK,IAAI,CAACoV,YAAY,CAACpV,KAAK,CAAC,CACtC;EACL;EAEQmV,cAAcA,CAAA;IAClB,IAAI,CAAC5W,KAAK,CAACoB,oBAAoB,EAAE;IACjC,IAAI,CAACpB,KAAK,CAACA,KAAK,CAAC,+BAA+B,CAAC;IACjD,IAAI,CAACgV,IAAI,CAAC0B,YAAY,EAAE,CAACI,KAAK,EAAE;IAChC,IAAI,CAAC3U,OAAO,EAAE;EAClB;EACQsU,WAAWA,CAACzB,IAAY;IAC5B,IAAI,IAAI,CAAC1B,OAAO,CAACyD,GAAG,CAAC,+BAA+B,EAAE,KAAK,CAAC,EAAE;MAC1D,IAAI,CAACnB,8BAA8B,CAACZ,IAAI,CAAC;MACzC;;IAGJ,KAAK,IAAI,CAACM,uBAAuB,CAAC,CAAC,GAAGN,IAAI,CAAC,CAAC;EAChD;EAEOgC,YAAYA,CAAChC,IAAY,EAAEiC,MAAM,GAAG,EAAE;IACzC;IACA,IAAI,CAACjX,KAAK,CAACgB,mBAAmB,EAAE;IAChC,IAAI,CAACoS,OAAO,CAAC9S,OAAO,CAAC0U,IAAI,EAAEiC,MAAM,CAAC,CAAC9c,SAAS,CACvC+c,MAAsB,IAAK,IAAI,CAACrB,eAAe,CAACb,IAAI,EAAEkC,MAAM,CAAC,EAC7DzV,KAAU,IAAK,IAAI,CAACoV,YAAY,CAACpV,KAAK,CAAC,CAC3C;EACL;EACQoV,YAAYA,CAACpV,KAAU;IAC3B,IAAI,CAACzB,KAAK,CAACyB,KAAK,CAACA,KAAK,CAAC;IACvB,IAAI,CAACzB,KAAK,CAACoB,oBAAoB,EAAE;EACrC;EAEQ6S,aAAaA,CAACva,IAAU;IAC5B,IAAIA,IAAI,IAAI,IAAI,EAAE;MACd,IAAI,CAAC4G,OAAO,EAAE;MACd;;IAGJ,IAAI,CAAC0W,YAAY,CAAC,CAACtd,IAAI,CAAC,CAAC;EAC7B;EACQ4G,OAAOA,CAAA;IACX,IAAI,CAAC0W,YAAY,CAAC,IAAI,CAAChC,IAAI,CAAC0B,YAAY,EAAE,CAACC,QAAQ,CAAC;EACxD;EAEMxU,OAAOA,CAACjC,KAAkB;IAAA,IAAA0B,MAAA;IAAA,OAAA/H,wLAAA;MAC5B+H,MAAI,CAAC4R,UAAU,CAAC2D,SAAS,GAAG,IAAI;MAChC,IAAIjX,KAAK,IAAI,IAAI,EAAE;QACf0B,MAAI,CAAC4R,UAAU,CAAC3G,KAAK,EAAE;QACvBjL,MAAI,CAACoT,IAAI,EAAE0B,YAAY,EAAE,CAACI,KAAK,EAAE;;MAErC,MAAMI,MAAM,SAAStV,MAAI,CAACmR,QAAQ,CAC9BnR,MAAI,CAACiQ,WAAW,EAChB3R,KAAK,GAAGA,KAAK,EAAE+S,MAAM,IAAIrR,MAAI,CAAC4R,UAAU,CAAChN,OAAO,EAAE,CAAChR,MAAM,GAAG,CAAC,EAC7DoM,MAAI,CAAClG,IAAI,CAACmY,MAAM,EAChBjS,MAAI,CAAClG,IAAI,CAACoY,SAAS,KAAK,KAAK,CAChC,CAACzI,SAAS,EAAE;MACb,IAAInL,KAAK,IAAI,IAAI,EAAE;QACf0B,MAAI,CAAC4R,UAAU,CAACnG,OAAO,CAAC6J,MAAM,CAACvW,KAAK,EAAEuW,MAAM,CAACE,UAAU,CAAC;OAC3D,MAAM;QACHxV,MAAI,CAAC4R,UAAU,CAAC6D,UAAU,CAACH,MAAM,CAACvW,KAAK,CAAC;QACxCiB,MAAI,CAAC4R,UAAU,CAAC8D,aAAa,CAACJ,MAAM,CAACE,UAAU,CAAC;;MAEpDxV,MAAI,CAAC4R,UAAU,CAAC2D,SAAS,GAAG,KAAK;IAAC;EACtC;EAEAI,KAAKA,CAACrX,KAA8C;IAChD,IAAI,CAAC8U,IAAI,CAAC0B,YAAY,EAAE,CAACc,MAAM,CAACtX,KAAK,CAACuX,OAAe,CAAC;EAC1D;EAEAC,UAAUA,CAAChc,IAAoB;IAC3B,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACyG,OAAO,EAAE;EAClB;EAEQ4T,cAAcA,CAAC1D,OAAuB;IAC1C,KAAK,MAAM6E,MAAM,IAAI7E,OAAO,CAACA,OAAO,EAAE;MAClC,IAAI6E,MAAM,CAAChF,aAAa,KAAK,MAAM,EAAE;QACjC;;MAEJ,IAAI,CAACrX,SAAS,CACTkc,GAAG,CAAC,kBAAkB,GAAGG,MAAM,CAAChF,aAAa,CAAC,CAC9C/X,SAAS,CAAEwd,IAAI,IAAMT,MAAM,CAACzW,OAAO,GAAGkX,IAAK,CAAC;MACjD,IAAIT,MAAM,CAAChF,aAAa,KAAK,eAAe,EAAE;QAC1CG,OAAO,CAACK,iBAAiB,GAAG,IAAI;;MAEpC,IACIwE,MAAM,CAAChF,aAAa,KAAK,4BAA4B,IACrDgF,MAAM,CAAChF,aAAa,KAAK,+BAA+B,EAC1D;QACEG,OAAO,CAACQ,sBAAsB,GAAG,IAAI;;;EAGjD;EAAC,QAAA3V,CAAA;qBAxPQ4V,oBAAoB,EAAAjhB,+DAAA,CAAAuL,wEAAA,GAAAvL,+DAAA,CAAA0L,kDAAA,GAAA1L,+DAAA,CAAA4L,kEAAA,GAAA5L,+DAAA,CAAAuL,6EAAA,GAAAvL,+DAAA,CAAA8L,kGAAA,GAAA9L,+DAAA,CAAA0Q,6EAAA;EAAA;EAAA,QAAA1E,EAAA;UAApBiV,oBAAoB;IAAAhV,SAAA;IAAA8S,SAAA,WAAAmH,2BAAAzZ,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;QC3DjCzM,4DAAA,oCAYC;QAHCA,wDAAA,wBAAAmmB,4EAAAjZ,MAAA;UAAA,OAAcR,GAAA,CAAAmZ,UAAA,CAAA3Y,MAAA,CAAkB;QAAA,EAAC,uBAAAkZ,2EAAAlZ,MAAA;UAAA,OACpBR,GAAA,CAAAgZ,KAAA,CAAAxY,MAAA,CAAa;QAAA,EADO,uBAAAmZ,2EAAAnZ,MAAA;UAAA,OAEpBR,GAAA,CAAA4D,OAAA,CAAApD,MAAA,CAAe;QAAA,EAFK;QAIjClN,wDAAA,IAAAsmB,2CAAA,gCAAAtmB,oEAAA,CAOc;QAChBA,0DAAA,EAA0B;QAE1BA,wDAAA,IAAAumB,2CAAA,gCAAAvmB,oEAAA,CASc;QAEdA,wDAAA,IAAAwmB,2CAAA,gCAAAxmB,oEAAA,CAuBc;;;QAvDZA,wDAAA,YAAA0M,GAAA,CAAA8H,OAAA,CAAmB,kCAAA9H,GAAA,CAAA4E,sBAAA,CAAAmD,KAAA,WAAA/H,GAAA,CAAA8S,KAAA,CAAAiH,aAAA,4BAAA/Z,GAAA,CAAAyE,eAAA,CAAAuV,OAAA,UAAAha,GAAA,CAAA7C,IAAA,gBAAA6C,GAAA,CAAAiV,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFyB;AASvB;AAEM;AACE;AACY;AAUf;AAOc;AACgB;AACP;;;;;;;;;;;;;;ICCzC3hB,uDAAA,YAA2D;;;;;IAC3DA,uDAAA,YAAyD;;;;;;IAK7DA,4DAAA,gCAWC;IANCA,wDAAA,uBAAA+mB,mHAAA7Z,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAAC,IAAA,GAAAjnB,2DAAA,GAAAknB,KAAA;MAAA,MAAAjlB,OAAA,GAAAjC,2DAAA;MAAA,OAAaA,yDAAA,CAAAiC,OAAA,CAAAklB,eAAA,CAAAja,MAAA,EAAA+Z,IAAA,CAA0B;IAAA,EAAC,6BAAAG,yHAAAla,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAAK,OAAA,GAAArnB,2DAAA;MAAA,OACrBA,yDAAA,CAAAqnB,OAAA,CAAAC,aAAA,CAAApa,MAAA,CAAqB;IAAA,EADA,yBAAAqa,qHAAAra,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAAQ,OAAA,GAAAxnB,2DAAA,GAAAwV,SAAA;MAAA,MAAArT,OAAA,GAAAnC,2DAAA;MAAA,OAAAA,yDAAA,CAAAmC,OAAA,CAAAslB,YAAA,CAAAD,OAAA,CAAApf,GAAA,CAAAC,EAAA,IAAA6E,MAAA;IAAA,uBAAAwa,iHAAAxa,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAA3kB,OAAA,GAAArC,2DAAA;MAAA,OAG7BA,yDAAA,CAAAqC,OAAA,CAAAslB,aAAA,CAAAza,MAAA,CAAqB;IAAA,EAHQ,oBAAA0a,gHAAA1a,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAA7T,OAAA,GAAAnT,2DAAA;MAAA,OAI9BA,yDAAA,CAAAmT,OAAA,CAAA0U,YAAA,CAAA3a,MAAA,CAAoB;IAAA,EAJU;IAMzClN,0DAAA,EAAwB;;;;;IARvBA,wDAAA,SAAAwnB,OAAA,CAAApf,GAAA,CAAAC,EAAA,CAAoB,gBAAAtG,OAAA,CAAA+lB,WAAA,WAAA/lB,OAAA,CAAAgmB,KAAA;;;;;;;;;IA5BxB/nB,4DAAA,aAA0F;IAA1CA,wDAAA,yBAAAgoB,0EAAA9a,MAAA;MAAA,MAAA6I,WAAA,GAAA/V,2DAAA,CAAAioB,IAAA;MAAA,MAAAT,OAAA,GAAAzR,WAAA,CAAAP,SAAA;MAAA,MAAAlC,OAAA,GAAAtT,2DAAA;MAAA,OAAeA,yDAAA,CAAAsT,OAAA,CAAA4U,WAAA,CAAAhb,MAAA,EAAAsa,OAAA,CAAyB;IAAA,EAAC;IACvFxnB,4DAAA,cAYC;IAJCA,wDAAA,yBAAAmoB,0EAAAjb,MAAA;MAAAlN,2DAAA,CAAAioB,IAAA;MAAA,MAAAxU,OAAA,GAAAzT,2DAAA;MAAA,OAAeA,yDAAA,CAAAyT,OAAA,CAAA2U,SAAA,CAAAlb,MAAA,CAAiB;IAAA,EAAC,mBAAAmb,oEAAA;MAAA,MAAAtS,WAAA,GAAA/V,2DAAA,CAAAioB,IAAA;MAAA,MAAAT,OAAA,GAAAzR,WAAA,CAAAP,SAAA;MAAA,MAAA7S,OAAA,GAAA3C,2DAAA;MAAA,OAGxBA,yDAAA,CAAA2C,OAAA,CAAA2lB,eAAA,CAAAd,OAAA,CAAqB;IAAA,EAHG;;IAKjCxnB,4DAAA,iBAIC;IAFCA,wDAAA,mBAAAuoB,uEAAArb,MAAA;MAAA,MAAA6I,WAAA,GAAA/V,2DAAA,CAAAioB,IAAA;MAAA,MAAAT,OAAA,GAAAzR,WAAA,CAAAP,SAAA;MAAA,MAAAxB,OAAA,GAAAhU,2DAAA;MAAA,OAASA,yDAAA,CAAAgU,OAAA,CAAAwU,mBAAA,CAAAtb,MAAA,EAAAsa,OAAA,CAAiC;IAAA,EAAC;IAG3CxnB,wDAAA,IAAAyoB,kDAAA,gBAA2D;IAC3DzoB,wDAAA,IAAA0oB,kDAAA,gBAAyD;IAC3D1oB,0DAAA,EAAS;IACTA,uDAAA,cAAqF;;;IACrFA,4DAAA,eAAmB;IAAAA,oDAAA,IAAe;IAAAA,0DAAA,EAAO;IAE3CA,wDAAA,KAAA2oB,uEAAA,oCAWyB;IAC3B3oB,0DAAA,EAAM;;;;;IA3BFA,uDAAA,GAAyC;IAAzCA,yDAAA,kBAAAyN,MAAA,CAAAsa,KAAA,iBAAyC;IACzC/nB,yDAAA,8BAAAyN,MAAA,CAAAob,UAAA,CAAArB,OAAA,EAAoD;IAPpDxnB,wDAAA,oBAAAA,yDAAA,QAAAyN,MAAA,CAAAqb,EAAA,CAAAC,cAAA,EAA6C,gBAAA/oB,6DAAA,KAAAgpB,GAAA,EAAAxB,OAAA,wBAAAA,OAAA,kBAAA/Z,MAAA,CAAAqZ,aAAA;IAa3C9mB,uDAAA,GAA+D;IAA/DA,yDAAA,sBAAAyN,MAAA,CAAAga,YAAA,CAAAD,OAAA,CAAApf,GAAA,CAAAC,EAAA,YAA+D;IAE3DrI,uDAAA,GAAmB;IAAnBA,wDAAA,UAAAyN,MAAA,CAAAwb,MAAA,CAAAzB,OAAA,EAAmB;IACnBxnB,uDAAA,GAAkB;IAAlBA,wDAAA,SAAAyN,MAAA,CAAAwb,MAAA,CAAAzB,OAAA,EAAkB;IAEDxnB,uDAAA,GAAqC;IAArCA,mEAAA,QAAAA,yDAAA,QAAAA,yDAAA,QAAAwnB,OAAA,IAAAxnB,2DAAA,CAAqC;IAACA,mEAAA,QAAAwnB,OAAA,CAAAtgB,IAAA,CAAqB;IAC/DlH,uDAAA,GAAe;IAAfA,+DAAA,CAAAwnB,OAAA,CAAAtgB,IAAA,CAAe;IAIjClH,uDAAA,GAAkB;IAAlBA,wDAAA,SAAAyN,MAAA,CAAAwb,MAAA,CAAAzB,OAAA,EAAkB;;;;;;;;;;;IAWvBxnB,4DAAA,iBAOC;IAHCA,wDAAA,mBAAAmpB,0EAAA;MAAAnpB,2DAAA,CAAAopB,IAAA;MAAA,MAAA1lB,OAAA,GAAA1D,2DAAA;MAAA,OAASA,yDAAA,CAAA0D,OAAA,CAAA2lB,OAAA,EAAS;IAAA,EAAC;IAInBrpB,oDAAA,GACF;;IAAAA,0DAAA,EAAS;;;;IAHPA,yDAAA,qBAAAyB,MAAA,CAAAsmB,KAAA,YAAuC;IAEvC/nB,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,oCAAAA,6DAAA,IAAAspB,GAAA,EAAA7nB,MAAA,CAAA8nB,SAAA,QACF;;;;;IACAvpB,uDAAA,qBAIc;;;;IADZA,yDAAA,qBAAAwpB,MAAA,CAAAzB,KAAA,YAAuC;;;;;IApD3C/nB,4DAAA,UAAuE;IACrEA,wDAAA,IAAAypB,8CAAA,mBAqCM;IACNzpB,wDAAA,IAAA0pB,iDAAA,oBASS;IACT1pB,wDAAA,IAAA2pB,qDAAA,wBAIc;IAChB3pB,0DAAA,EAAM;;;;IAtD+BA,wDAAA,UAAAqX,MAAA,CAAAuS,MAAA,IAAAvS,MAAA,CAAAuS,MAAA,CAAAjmB,MAAA,CAAiC;IAC9C3D,uDAAA,GAAW;IAAXA,wDAAA,YAAAqX,MAAA,CAAAuS,MAAA,CAAW;IA2C9B5pB,uDAAA,GAAmC;IAAnCA,wDAAA,SAAAqX,MAAA,CAAAkS,SAAA,SAAAlS,MAAA,CAAAwS,WAAA,CAAmC;IAOnC7pB,uDAAA,GAAiB;IAAjBA,wDAAA,SAAAqX,MAAA,CAAAwS,WAAA,CAAiB;;;;;IAItB7pB,4DAAA,cAAqC;IACnCA,uDAAA,uBAAqC;IACvCA,0DAAA,EAAM;;;AD1BF,MAAO8pB,yBAAyB;EAAA,QAAAze,CAAA,GACnB,KAAA0e,gBAAgB,GAAG,GAAG;EAQrC;EACA,IACIjC,WAAWA,CAAA;IACX,OAAO,IAAI,CAACkC,YAAY;EAC5B;EACA,IAAIlC,WAAWA,CAAC5P,KAAe;IAC3B,IAAI,CAAC8R,YAAY,GAAG9R,KAAK;IACzB,IAAI,CAAC+R,iBAAiB,EAAE;EAC5B;EAEA;EACA,IAAapiB,IAAIA,CAACA,IAAY;IAC1B,IAAI,CAAClH,KAAK,GAAGkH,IAAI;IACjB,IAAIA,IAAI,IAAI,IAAI,EAAE;MACd;;IAEJ,IAAI,CAACyI,OAAO,EAAE;EAClB;EAoBApG,YACYhC,OAAwB,EACxBgiB,cAAwC,EACxCjc,WAA+B,EAChC6a,EAAa;IAHZ,KAAA5gB,OAAO,GAAPA,OAAO;IACP,KAAAgiB,cAAc,GAAdA,cAAc;IACd,KAAAjc,WAAW,GAAXA,WAAW;IACZ,KAAA6a,EAAE,GAAFA,EAAE;IA1CL,KAAAkB,YAAY,GAAa,EAAE;IAU1B,KAAAjC,KAAK,GAAG,CAAC;IAUR,KAAAoC,OAAO,GAAG,IAAI1qB,uDAAY,EAAQ;IAClC,KAAA2qB,SAAS,GAAG,IAAI3qB,uDAAY,EAAE;IAC9B,KAAA4qB,MAAM,GAAG,IAAI5qB,uDAAY,EAA8C;IACvE,KAAA6qB,WAAW,GAAG,IAAI7qB,uDAAY,EAAW;IACzC,KAAA8qB,eAAe,GAAG,IAAI9qB,uDAAY,EAAE;IAG9C,KAAAoY,OAAO,GAAG,IAAI;IAEd,KAAA4P,YAAY,GAAkC,EAAE;IAGhD,KAAA+C,aAAa,GAAc,EAAE;IAE7B;IACQ,KAAAC,aAAa,GAAa,EAAE;IAC5B,KAAAvI,SAAS,GAAG,IAAIzC,yCAAO,EAAQ;IAyIvC,KAAAqH,aAAa,GAAGA,2DAAa;EAlI1B;EAEHzN,QAAQA,CAAA;IACJsN,uCAAU,CAAC,IAAI,CAAC1Y,WAAW,CAACyB,YAAY,EAAE,IAAI,CAACzB,WAAW,CAAC0c,YAAY,CAAC,CACnErR,IAAI,CAACoG,yDAAS,CAAC,IAAI,CAACwC,SAAS,CAAC,CAAC,CAC/B5Z,SAAS,CAAEwG,KAAK,IAAI;MACjB,MAAM8b,OAAO,GAAG,IAAI,CAAChB,MAAM,CAAC/N,GAAG,CAAEhU,IAAI,IAAKA,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC;MACtD,IAAIyG,KAAK,CAAC+b,IAAI,CAAEhjB,IAAI,IAAK+iB,OAAO,CAACE,QAAQ,CAACjjB,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC,CAAC,EAAE;QACrD,IAAI,CAACiI,OAAO,EAAE;;IAEtB,CAAC,CAAC;EACV;EAEA;;;EAGQ2Z,iBAAiBA,CAAA;IACrB,MAAMc,gBAAgB,GAAG,IAAI,CAACnB,MAAM,EAAEoB,IAAI,CACrCnjB,IAAI,IAAKA,IAAI,CAACO,GAAG,CAACC,EAAE,KAAK,IAAI,CAACyf,WAAW,CAAC,IAAI,CAACC,KAAK,CAAC,CACzD;IACD,IAAIgD,gBAAgB,EAAE;MAClB,IAAI,CAACN,aAAa,GAAG,CAACM,gBAAgB,CAAC3iB,GAAG,CAACC,EAAE,CAAC;;EAEtD;EAEAkb,WAAWA,CAAA;IACP,IAAI,CAACrB,SAAS,CAAC7J,IAAI,EAAE;IACrB,IAAI,CAAC6J,SAAS,CAACsB,QAAQ,EAAE;EAC7B;EAEA2D,eAAeA,CAAC8D,KAAc,EAAEC,GAAW;IACvC,IAAI,CAACV,aAAa,CAACU,GAAG,CAAC,GAAGD,KAAK;EACnC;EAEAE,aAAaA,CAACC,UAAsB,EAAEvjB,IAAU;IAC5C,IAAIujB,UAAU,CAACC,YAAY,EAAE;MACzB,OAAOD,UAAU,CAACC,YAAY,CAACxjB,IAAI,CAAC;;IAExC,OAAO,IAAI;EACf;EAEAwhB,OAAOA,CAAA;IACH,IAAI,CAACQ,WAAW,GAAG,IAAI;IACvB,IAAI,CAAC3hB,OAAO,CACPojB,WAAW,CAAC,IAAI,CAAC3qB,KAAK,EAAE,CAAChB,mEAAa,CAAC4rB,cAAc,CAAC,EAAE;MACrDnK,MAAM,EAAE,IAAI,CAACwI,MAAM,CAACjmB,MAAM;MAC1B6nB,KAAK,EAAE7rB,mEAAa,CAAC8rB;KACxB,CAAC,CACDnjB,SAAS,CAAEpH,IAAc,IAAI;MAC1B,IAAI,CAAC2oB,WAAW,GAAG,KAAK;MACxB,IAAI,CAACD,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC8B,MAAM,CAACxqB,IAAI,CAAC4N,KAAK,CAAC;MAC5C,IAAI,CAACya,SAAS,GAAG,CAAC;IACtB,CAAC,CAAC;EACV;EAEArB,WAAWA,CAAC7Z,KAAU,EAAExG,IAAU;IAC9BwG,KAAK,CAACE,cAAc,EAAE;IACtBF,KAAK,CAACG,eAAe,EAAE;IAEvB,IAAI,CAACmd,YAAY,CAACtd,KAAK,EAAExG,IAAI,CAAC;EAClC;EAEAyf,aAAaA,CAACjZ,KAAW;IACrB,IAAI,CAACkc,eAAe,CAAC7pB,IAAI,CAAC2N,KAAK,CAAC;EACpC;EAEQsd,YAAYA,CAACtd,KAAU,EAAExG,IAAU;IACvC;IACA;IACA,IAAI,CAAC+jB,YAAY,GAAGvd,KAAK,CAACwd,OAAO,GAAG,IAAI;IACxC,IAAI,CAACC,WAAW,GAAGzd,KAAK,CAAC0d,OAAO,GAAG,IAAI;IACvC,IAAI,CAAC7B,cAAc,CAAC1O,OAAO,CAAC;MACxBwQ,aAAa,EAAE,CAACnkB,IAAI,CAAC;MACrBokB,KAAK,EAAEzM,qDAAK,CAAC0M;KAChB,CAAC;IACF,IAAI,CAAChC,cAAc,CAACiC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAACC,QAAQ,CAAC;IAC7D,IAAI,CAAClC,cAAc,CAACmC,iBAAiB,EAAE;IACvC,IAAI,CAACC,eAAe,CAACC,QAAQ,EAAE;EACnC;EAEA1E,YAAYA,CAACxZ,KAAU;IACnB,IAAI,CAACgc,MAAM,CAAC3pB,IAAI,CAAC2N,KAAK,CAAC;EAC3B;EAEAwa,UAAUA,CAAChhB,IAAU;IACjB,OAAO,IAAI,CAACigB,WAAW,CAAC,IAAI,CAACA,WAAW,CAACnkB,MAAM,GAAG,CAAC,CAAC,KAAKkE,IAAI,CAACO,GAAG,CAACC,EAAE;EACxE;EAEAsf,aAAaA,CAAC9f,IAAU;IACpB,IAAI,CAACsiB,OAAO,CAACzpB,IAAI,CAACmH,IAAI,CAAC;EAC3B;EAEAohB,MAAMA,CAACphB,IAAU;IACb,OAAO,IAAI,CAAC4iB,aAAa,CAACK,QAAQ,CAACjjB,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC;EACnD;EAEAigB,eAAeA,CAACzgB,IAAU;IACtB,IAAI,CAACsiB,OAAO,CAACzpB,IAAI,CAACmH,IAAI,CAAC;EAC3B;EAEA2gB,mBAAmBA,CAACna,KAAiB,EAAExG,IAAU;IAC7C,IAAI,IAAI,CAAC4f,YAAY,CAAC5f,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC,KAAK,KAAK,EAAE;MAC1C;;IAEJgG,KAAK,CAACG,eAAe,EAAE;IACvB,MAAM0Y,KAAK,GAAG,IAAI,CAACuD,aAAa,CAACtf,OAAO,CAACtD,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC;IACrD,IAAI6e,KAAK,GAAG,CAAC,EAAE;MACX,IAAI,CAACuD,aAAa,CAACxgB,IAAI,CAACpC,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC;KACvC,MAAM;MACH,IAAI,CAACoiB,aAAa,CAAC7P,MAAM,CAACsM,KAAK,EAAE,CAAC,CAAC;;EAE3C;EAEA5W,OAAOA,CAAA;IACH,IAAI,CAAC,IAAI,CAAC3P,KAAK,EAAE;IACjB,IAAI,CAACuH,OAAO,CACPojB,WAAW,CAAC,IAAI,CAAC3qB,KAAK,EAAE,CAAChB,mEAAa,CAAC4rB,cAAc,CAAC,EAAE;MACrDC,KAAK,EAAE1B,yBAAyB,CAACC;KACpC,CAAC,CACDzhB,SAAS,CAAEpH,IAAc,IAAI;MAC1B,IAAI,CAAC0oB,MAAM,GAAG1oB,IAAI,CAAC4N,KAAK;MACxB,IAAI,CAACya,SAAS,GAAGroB,IAAI,CAACqkB,UAAU,CAACiH,KAAK,GAAGtrB,IAAI,CAACqkB,UAAU,CAACiG,KAAK;MAC9D,IAAI,CAAChB,aAAa,GAAG3D,4DAAM,CAAC4F,SAAS,CAAC,IAAI,CAAC7C,MAAM,CAACjmB,MAAM,EAAE,IAAI,CAAC;MAC/D,IAAI,CAAC2mB,WAAW,CAAC5pB,IAAI,CAAC,IAAI,CAACkpB,MAAM,EAAEjmB,MAAM,GAAG,CAAC,CAAC;MAC9C,IAAI,CAACymB,SAAS,CAAC1pB,IAAI,CAAC,KAAK,CAAC;MAC1B,IAAI,CAACmX,OAAO,GAAG,KAAK;MACpB,IAAI,CAACoS,iBAAiB,EAAE;IAC5B,CAAC,CAAC;EACV;EAGA7B,SAASA,CAACsE,QAAwB;IAC9B,IAAI,CAACrC,MAAM,CAAC3pB,IAAI,CAAC;MACbisB,MAAM,EAAED,QAAQ,CAACC,MAAM;MACvBC,MAAM,EAAE;QACJhH,OAAO,EAAE8G,QAAQ,CAACG,YAAY;QAC9BC,IAAI,EAAEJ,QAAQ,CAACK;;KAEtB,CAAC;EACN;EAAC,QAAA/gB,EAAA;qBA9LQ8d,yBAAyB,EAAA9pB,+DAAA,CAAAuL,qEAAA,GAAAvL,+DAAA,CAAA0L,wEAAA,GAAA1L,+DAAA,CAAA0L,kEAAA,GAAA1L,+DAAA,CAAAuL,+DAAA;EAAA;EAAA,QAAA0hB,EAAA;UAAzBnD,yBAAyB;IAAA7d,SAAA;IAAA8S,SAAA,WAAAmO,gCAAAzgB,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;;;gFAFvB,CAACma,wEAAwB,CAAC;IAAAxa,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAA4gB,mCAAA1gB,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QC1CzCzM,4DAAA,aAA8B;QAC5BA,uDAAA,2BAAqC;QAYrCA,wDAAA,IAAAotB,wCAAA,iBAsDM;QACNptB,wDAAA,IAAAqtB,wCAAA,iBAEM;QACRrtB,0DAAA,EAAM;;;;QAjEFA,uDAAA,GAA2B;QAA3BA,yDAAA,SAAA0M,GAAA,CAAAkf,YAAA,CAA2B,QAAAlf,GAAA,CAAAof,WAAA;QAI3B9rB,wDAAA,sBAAAstB,GAAA,CAAAC,IAAA,CAAmC;QAG/BvtB,uDAAA,GAA6B;QAA7BA,wDAAA,SAAA0M,GAAA,CAAAkd,MAAA,IAAAld,GAAA,CAAAkd,MAAA,CAAAjmB,MAAA,CAA6B;QAuDb3D,uDAAA,GAAa;QAAbA,wDAAA,SAAA0M,GAAA,CAAAmL,OAAA,CAAa;;;gwBDxBxBiS,yBAAyB,EAAAle,sDAAA,EAAA6hB,+DAAA,EAAA/hB,4DAAA;IAAAkiB,MAAA;IAAA1sB,IAAA;MAAA2sB,SAAA,EANtB,CACRjhB,6DAAO,CAAC,aAAa,EAAEC,2DAAW,CAACihB,WAAW,CAACjhB,2DAAW,CAACkhB,mBAAmB,CAAC,CAAC,EAChFnhB,6DAAO,CAAC,MAAM,EAAEC,2DAAW,CAACihB,WAAW,EAAE,CAAC;IAC7C;EAAA;;;;;;;;;;;;;;;;;;;;AEzC6E;AAIP;;;;;;;;ICFzE9tB,4DAAA,WAAmD;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAI;;;;;IAC1EA,4DAAA,WAAiE;IAAAA,oDAAA,2BAAoB;IAAAA,0DAAA,EAAI;;;;;;IAE3FA,4DAAA,aAA2C;IAIvCA,wDAAA,6BAAAguB,uFAAA9gB,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAAiH,OAAA,GAAAjuB,2DAAA;MAAA,OAAmBA,yDAAA,CAAAiuB,OAAA,CAAA3G,aAAA,CAAApa,MAAA,CAAqB;IAAA,EAAC,oBAAAghB,8EAAAhhB,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAAK,OAAA,GAAArnB,2DAAA;MAAA,OAC/BA,yDAAA,CAAAqnB,OAAA,CAAA8G,IAAA,CAAAjhB,MAAA,CAAY;IAAA,EADmB,qBAAAkhB,+EAAAlhB,MAAA;MAAAlN,2DAAA,CAAAgnB,IAAA;MAAA,MAAA7kB,OAAA,GAAAnC,2DAAA;MAAA,OAE9BA,yDAAA,CAAAmC,OAAA,CAAAksB,QAAA,CAAAnhB,MAAA,CAAgB;IAAA,EAFc;IAG1ClN,0DAAA,EAAwB;;;;IALvBA,uDAAA,GAAqB;IAArBA,wDAAA,sBAAqB,gBAAAqX,MAAA,CAAAyQ,WAAA;;;;;IAavB9nB,4DAAA,WAAuD;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAI;;;;;IAC9EA,4DAAA,WAAqE;IAAAA,oDAAA,2BAAoB;IAAAA,0DAAA,EAAI;;;;;;IAE/FA,4DAAA,aAA+C;IAI3CA,wDAAA,6BAAAsuB,wFAAAphB,MAAA;MAAAlN,2DAAA,CAAAuuB,IAAA;MAAA,MAAAC,OAAA,GAAAxuB,2DAAA;MAAA,OAAmBA,yDAAA,CAAAwuB,OAAA,CAAAlH,aAAA,CAAApa,MAAA,CAAqB;IAAA,EAAC,oBAAAuhB,+EAAAvhB,MAAA;MAAAlN,2DAAA,CAAAuuB,IAAA;MAAA,MAAApb,OAAA,GAAAnT,2DAAA;MAAA,OAC/BA,yDAAA,CAAAmT,OAAA,CAAAgb,IAAA,CAAAjhB,MAAA,CAAY;IAAA,EADmB,qBAAAwhB,gFAAAxhB,MAAA;MAAAlN,2DAAA,CAAAuuB,IAAA;MAAA,MAAAhsB,OAAA,GAAAvC,2DAAA;MAAA,OAE9BA,yDAAA,CAAAuC,OAAA,CAAA8rB,QAAA,CAAAnhB,MAAA,CAAgB;IAAA,EAFc;IAG1ClN,0DAAA,EAAwB;;;;IALvBA,uDAAA,GAAyB;IAAzBA,wDAAA,0BAAyB,gBAAAyB,MAAA,CAAAqmB,WAAA;;;;;IAa3B9nB,4DAAA,WAA0D;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAI;;;;;IACjFA,4DAAA,WAAwE;IAAAA,oDAAA,2BAAoB;IAAAA,0DAAA,EAAI;;;;;;IAElGA,4DAAA,aAAkD;IAI9CA,wDAAA,6BAAA2uB,wFAAAzhB,MAAA;MAAAlN,2DAAA,CAAAioB,IAAA;MAAA,MAAA3U,OAAA,GAAAtT,2DAAA;MAAA,OAAmBA,yDAAA,CAAAsT,OAAA,CAAAgU,aAAA,CAAApa,MAAA,CAAqB;IAAA,EAAC,oBAAA0hB,+EAAA1hB,MAAA;MAAAlN,2DAAA,CAAAioB,IAAA;MAAA,MAAAxU,OAAA,GAAAzT,2DAAA;MAAA,OAC/BA,yDAAA,CAAAyT,OAAA,CAAA0a,IAAA,CAAAjhB,MAAA,CAAY;IAAA,EADmB,qBAAA2hB,gFAAA3hB,MAAA;MAAAlN,2DAAA,CAAAioB,IAAA;MAAA,MAAAtlB,OAAA,GAAA3C,2DAAA;MAAA,OAE9BA,yDAAA,CAAA2C,OAAA,CAAA0rB,QAAA,CAAAnhB,MAAA,CAAgB;IAAA,EAFc;IAG1ClN,0DAAA,EAAwB;;;;IALvBA,uDAAA,GAA4B;IAA5BA,wDAAA,6BAA4B,gBAAA8uB,MAAA,CAAAhH,WAAA;;;;;IAa9B9nB,4DAAA,WAA6D;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAI;;;;;IACpFA,4DAAA,WACG;IAAAA,oDAAA,2BAAoB;IAAAA,0DAAA,EACtB;;;;;;IAEHA,4DAAA,aAAqD;IAIjDA,wDAAA,6BAAA+uB,wFAAA7hB,MAAA;MAAAlN,2DAAA,CAAAgvB,IAAA;MAAA,MAAAhb,OAAA,GAAAhU,2DAAA;MAAA,OAAmBA,yDAAA,CAAAgU,OAAA,CAAAsT,aAAA,CAAApa,MAAA,CAAqB;IAAA,EAAC,oBAAA+hB,+EAAA/hB,MAAA;MAAAlN,2DAAA,CAAAgvB,IAAA;MAAA,MAAA3a,OAAA,GAAArU,2DAAA;MAAA,OAC/BA,yDAAA,CAAAqU,OAAA,CAAA8Z,IAAA,CAAAjhB,MAAA,CAAY;IAAA,EADmB,qBAAAgiB,gFAAAhiB,MAAA;MAAAlN,2DAAA,CAAAgvB,IAAA;MAAA,MAAAjrB,OAAA,GAAA/D,2DAAA;MAAA,OAE9BA,yDAAA,CAAA+D,OAAA,CAAAsqB,QAAA,CAAAnhB,MAAA,CAAgB;IAAA,EAFc;IAG1ClN,0DAAA,EAAwB;;;;IALvBA,uDAAA,GAA4C;IAA5CA,wDAAA,SAAA+B,OAAA,CAAAgM,SAAA,CAAAohB,uBAAA,GAA4C,gBAAAptB,OAAA,CAAA+lB,WAAA;;;;;;IAchD9nB,4DAAA,aAAmD;IAI/CA,wDAAA,6BAAAovB,wFAAAliB,MAAA;MAAAlN,2DAAA,CAAAqvB,IAAA;MAAA,MAAAhrB,OAAA,GAAArE,2DAAA;MAAA,OAAmBA,yDAAA,CAAAqE,OAAA,CAAAijB,aAAA,CAAApa,MAAA,CAAqB;IAAA,EAAC,oBAAAoiB,+EAAApiB,MAAA;MAAAlN,2DAAA,CAAAqvB,IAAA;MAAA,MAAAE,OAAA,GAAAvvB,2DAAA;MAAA,OAC/BA,yDAAA,CAAAuvB,OAAA,CAAApB,IAAA,CAAAjhB,MAAA,CAAY;IAAA,EADmB,qBAAAsiB,gFAAAtiB,MAAA;MAAAlN,2DAAA,CAAAqvB,IAAA;MAAA,MAAAI,OAAA,GAAAzvB,2DAAA;MAAA,OAE9BA,yDAAA,CAAAyvB,OAAA,CAAApB,QAAA,CAAAnhB,MAAA,CAAgB;IAAA,EAFc;IAG1ClN,0DAAA,EAAwB;;;;IALvBA,uDAAA,GAA6B;IAA7BA,wDAAA,8BAA6B,gBAAAiC,OAAA,CAAA6lB,WAAA;;;ADpE3B,MAAO4H,sBAAsB;EAK/B,IAAaC,IAAIA,CAACA,IAAY;IAC1B,MAAMC,OAAO,GAAGD,IAAI,CAAC9T,GAAG,CAAEhU,IAAI,IAAKA,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC;IAC/C,IAAI,CAACyf,WAAW,GAAG8H,OAAO;EAC9B;EAoBA1lB,YAAA;IAnBS,KAAAuT,OAAO,GAAiB,EAAE;IAEzB,KAAAoS,UAAU,GAAG,IAAIpwB,uDAAY,EAAE;IAC/B,KAAA8qB,eAAe,GAAG,IAAI9qB,uDAAY,EAAE;IACpC,KAAAqwB,SAAS,GAAG,IAAIrwB,uDAAY,EAAE;IAC9B,KAAA4qB,MAAM,GAAG,IAAI5qB,uDAAY,EAA8C;IACvE,KAAAswB,aAAa,GAAG,IAAItwB,uDAAY,EAAE;IAInC,KAAAuwB,QAAQ,GAAG,UAAU;IACrB,KAAAC,YAAY,GAAG,cAAc;IAC7B,KAAAC,eAAe,GAAG,iBAAiB;IACnC,KAAAC,kBAAkB,GAAG,oBAAoB;IACzC,KAAAC,gBAAgB,GAAG,kBAAkB;IACrC,KAAAC,OAAO,GAAc,SAAS;IAEvC,KAAAvI,WAAW,GAAa,EAAE;IAI1B,KAAAwI,gBAAgB,GAAI5D,QAA6B,IAAa;MAC1D,OAAO;QAAE6D,MAAM,EAAE7D,QAAQ,CAACK,MAAM,KAAK;MAAM,CAAE;IACjD,CAAC;EAJc;EAMfyD,OAAOA,CAACC,IAAY;IAChB,IAAI,CAACX,SAAS,CAACpvB,IAAI,CAAC+vB,IAAI,CAAC;IACzB,IAAI,CAAC3I,WAAW,GAAG,EAAE;EACzB;EAEA4I,WAAWA,CAAChE,QAA6B;IACrC,IAAIA,QAAQ,CAACC,MAAM,KAAK,IAAI,CAAC0D,OAAO,IAAI3D,QAAQ,CAACK,MAAM,KAAK,MAAM,EAAE;MAChE,IAAI,CAACgD,aAAa,CAACrvB,IAAI,CAACgsB,QAAQ,CAACG,YAAY,CAAC;;EAEtD;EAEAsB,IAAIA,CAAC9f,KAAU;IACX,IAAI,CAACgc,MAAM,CAAC3pB,IAAI,CAAC2N,KAAK,CAAC;EAC3B;EAEAiZ,aAAaA,CAACjZ,KAAW;IACrB,IAAI,CAACkc,eAAe,CAAC7pB,IAAI,CAAC2N,KAAK,CAAC;EACpC;EAEAggB,QAAQA,CAAChgB,KAAW;IAChB,IAAI,CAACwhB,UAAU,CAACnvB,IAAI,CAAC2N,KAAK,CAAC;EAC/B;EAEOiC,OAAOA,CAAA;IACV,IAAI,CAACqgB,OAAO,EAAErgB,OAAO,EAAE;EAC3B;EAAC,QAAAjF,CAAA;qBA3DQqkB,sBAAsB;EAAA;EAAA,QAAA1jB,EAAA;UAAtB0jB,sBAAsB;IAAAzjB,SAAA;IAAA8S,SAAA,WAAA6R,6BAAAnkB,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;kEAiBpBqd,mFAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;QC5BxC9pB,4DAAA,aAA8F;QAA5BA,wDAAA,mBAAA6wB,qDAAA;UAAA,OAASnkB,GAAA,CAAA8jB,OAAA,CAAA9jB,GAAA,CAAAsjB,QAAA,CAAiB;QAAA,EAAC;QAC3FhwB,4DAAA,WAAmC;QAAAA,oDAAA,aAAM;QAAAA,0DAAA,EAAI;QAAAA,oDAAA,GAC7C;;QAAAA,wDAAA,IAAA8wB,mCAAA,eAA0E;QAC1E9wB,wDAAA,IAAA+wB,mCAAA,eAAyF;QAC3F/wB,0DAAA,EAAM;QACNA,wDAAA,IAAAgxB,qCAAA,iBAQM;QACNhxB,4DAAA,aAIC;QADCA,wDAAA,mBAAAixB,qDAAA;UAAA,OAASvkB,GAAA,CAAA8jB,OAAA,CAAA9jB,GAAA,CAAAujB,YAAA,CAAqB;QAAA,EAAC;QAE/BjwB,4DAAA,WAAmC;QAAAA,oDAAA,aAAK;QAAAA,0DAAA,EAAI;QAAAA,oDAAA,IAC5C;;QAAAA,wDAAA,KAAAkxB,oCAAA,eAA8E;QAC9ElxB,wDAAA,KAAAmxB,oCAAA,eAA6F;QAC/FnxB,0DAAA,EAAM;QACNA,wDAAA,KAAAoxB,sCAAA,iBAQM;QACNpxB,4DAAA,cAIC;QADCA,wDAAA,mBAAAqxB,sDAAA;UAAA,OAAS3kB,GAAA,CAAA8jB,OAAA,CAAA9jB,GAAA,CAAAwjB,eAAA,CAAwB;QAAA,EAAC;QAElClwB,4DAAA,YAAmC;QAAAA,oDAAA,aAAK;QAAAA,0DAAA,EAAI;QAAAA,oDAAA,IAC5C;;QAAAA,wDAAA,KAAAsxB,oCAAA,eAAiF;QACjFtxB,wDAAA,KAAAuxB,oCAAA,eAAgG;QAClGvxB,0DAAA,EAAM;QACNA,wDAAA,KAAAwxB,sCAAA,iBAQM;QACNxxB,4DAAA,cAIC;QADCA,wDAAA,mBAAAyxB,sDAAA;UAAA,OAAS/kB,GAAA,CAAA8jB,OAAA,CAAA9jB,GAAA,CAAAyjB,kBAAA,CAA2B;QAAA,EAAC;QAErCnwB,4DAAA,YAAmC;QAAAA,oDAAA,YAAI;QAAAA,0DAAA,EAAI;QAAAA,oDAAA,IAC3C;;QAAAA,wDAAA,KAAA0xB,oCAAA,eAAoF;QACpF1xB,wDAAA,KAAA2xB,oCAAA,eAEC;QACH3xB,0DAAA,EAAM;QACNA,wDAAA,KAAA4xB,sCAAA,iBAQM;QACN5xB,4DAAA,cAIC;QADCA,wDAAA,mBAAA6xB,sDAAA;UAAA,OAASnlB,GAAA,CAAA8jB,OAAA,CAAA9jB,GAAA,CAAA0jB,gBAAA,CAAyB;QAAA,EAAC;QAEnCpwB,4DAAA,YAAmC;QAAAA,oDAAA,aAAK;QAAAA,0DAAA,EAAI;QAAAA,oDAAA,IAC9C;;QAAAA,0DAAA,EAAM;QACNA,wDAAA,KAAA8xB,sCAAA,iBAQM;QACN9xB,4DAAA,cAOC;QAJCA,wDAAA,mBAAA+xB,sDAAA;UAAA,OAASrlB,GAAA,CAAA8jB,OAAA,CAAA9jB,GAAA,CAAA2jB,OAAA,CAAgB;QAAA,EAAC,yBAAA2B,4DAAA9kB,MAAA;UAAA,OAGXR,GAAA,CAAAgkB,WAAA,CAAAxjB,MAAA,CAAmB;QAAA,EAHR;QAK1BlN,4DAAA,YAAmC;QAAAA,oDAAA,cAAM;QAAAA,0DAAA,EAAI;QAAAA,oDAAA,IAC/C;;QAAAA,0DAAA,EAAM;;;QA/FgBA,yDAAA,qBAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAsjB,QAAA,CAA2C;QAClBhwB,uDAAA,GAC7C;QAD6CA,gEAAA,KAAAA,yDAAA,mCAC7C;QAA2BA,uDAAA,GAAsB;QAAtBA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAsjB,QAAA,CAAsB;QACRhwB,uDAAA,GAAsB;QAAtBA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAsjB,QAAA,CAAsB;QAE9ChwB,uDAAA,GAAsB;QAAtBA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAsjB,QAAA,CAAsB;QAWvChwB,uDAAA,GAA+C;QAA/CA,yDAAA,qBAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAujB,YAAA,CAA+C;QAGHjwB,uDAAA,GAC5C;QAD4CA,gEAAA,KAAAA,yDAAA,wCAC5C;QAA2BA,uDAAA,GAA0B;QAA1BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAujB,YAAA,CAA0B;QACZjwB,uDAAA,GAA0B;QAA1BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAujB,YAAA,CAA0B;QAElDjwB,uDAAA,GAA0B;QAA1BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAujB,YAAA,CAA0B;QAW3CjwB,uDAAA,GAAkD;QAAlDA,yDAAA,qBAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAwjB,eAAA,CAAkD;QAGNlwB,uDAAA,GAC5C;QAD4CA,gEAAA,KAAAA,yDAAA,2CAC5C;QAA2BA,uDAAA,GAA6B;QAA7BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAwjB,eAAA,CAA6B;QACflwB,uDAAA,GAA6B;QAA7BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAwjB,eAAA,CAA6B;QAErDlwB,uDAAA,GAA6B;QAA7BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAwjB,eAAA,CAA6B;QAW9ClwB,uDAAA,GAAqD;QAArDA,yDAAA,qBAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAyjB,kBAAA,CAAqD;QAGVnwB,uDAAA,GAC3C;QAD2CA,gEAAA,KAAAA,yDAAA,8CAC3C;QAA2BA,uDAAA,GAAgC;QAAhCA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAyjB,kBAAA,CAAgC;QAClBnwB,uDAAA,GAAgC;QAAhCA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAyjB,kBAAA,CAAgC;QAIxDnwB,uDAAA,GAAgC;QAAhCA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAAyjB,kBAAA,CAAgC;QAWjDnwB,uDAAA,GAAmD;QAAnDA,yDAAA,qBAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAA0jB,gBAAA,CAAmD;QAGPpwB,uDAAA,GAC9C;QAD8CA,gEAAA,KAAAA,yDAAA,6CAC9C;QACmBA,uDAAA,GAA8B;QAA9BA,wDAAA,SAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAA0jB,gBAAA,CAA8B;QAW/CpwB,uDAAA,GAA0C;QAA1CA,yDAAA,qBAAA0M,GAAA,CAAA+jB,IAAA,IAAA/jB,GAAA,CAAA2jB,OAAA,CAA0C;QAE1CrwB,wDAAA,sBAAA0M,GAAA,CAAA2jB,OAAA,CAA6B,iBAAA3jB,GAAA,CAAA4jB,gBAAA;QAIgBtwB,uDAAA,GAC/C;QAD+CA,gEAAA,KAAAA,yDAAA,oCAC/C;;;;;;;;;;;;;;;;;;;;;;;AC9FuD;AACa;;;AAEpE,MAAMmyB,MAAM,GAAW,CACnB;EACIxC,IAAI,EAAE,EAAE;EACRyC,SAAS,EAAEF,6EAAsBA;CACpC,EACD;EACIvC,IAAI,EAAE,OAAO;EACbyC,SAAS,EAAEF,6EAAsBA;CACpC,CACJ;AAMK,MAAOG,0BAA0B;EAAA,QAAAhnB,CAAA;qBAA1BgnB,0BAA0B;EAAA;EAAA,QAAArmB,EAAA;UAA1BqmB;EAA0B;EAAA,QAAApF,EAAA;cAHzBgF,yDAAY,CAACK,QAAQ,CAACH,MAAM,CAAC,EAC7BF,yDAAY;EAAA;;;sHAEbI,0BAA0B;IAAAE,OAAA,GAAAhnB,yDAAA;IAAAinB,OAAA,GAFzBP,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBoB;AAyBlB;AACC;AAC+B;AACQ;AAqB7B;AACgB;AACqB;AAClB;AACuB;AACa;AAa/B;AACA;AAGI;;;;;;;;;;;;;;;;;;;;;;ICpE7DjyB,6DAAA,wBAOC;IAFCA,yDAAA,oBAAAizB,kFAAA/lB,MAAA;MAAAlN,4DAAA,CAAA6S,GAAA;MAAA,MAAApR,MAAA,GAAAzB,4DAAA;MAAA,OAAUA,0DAAA,CAAAyB,MAAA,CAAAyxB,sBAAA,CAAAhmB,MAAA,CAA8B;IAAA,EAAC,qBAAAimB,mFAAAjmB,MAAA;MAAAlN,4DAAA,CAAA6S,GAAA;MAAA,MAAAlR,MAAA,GAAA3B,4DAAA;MAAA,OAC9BA,0DAAA,CAAA2B,MAAA,CAAAyxB,cAAA,CAAAlmB,MAAA,CAAsB;IAAA,EADQ;IAE1ClN,2DAAA,EAAiB;;;;IALhBA,yDAAA,gBAAA4G,MAAA,CAAAoZ,WAAA,kBAAApZ,MAAA,CAAAoZ,WAAA,CAAAqT,KAAA,CAAkC,wBAAAzsB,MAAA,CAAA6pB,IAAA,kBAAA7pB,MAAA,CAAA0sB,mBAAA;;;;;IASxCtzB,6DAAA,aAA6D;IAC3DA,qDAAA,GACF;;IAAAA,2DAAA,EAAM;;;IADJA,wDAAA,GACF;IADEA,iEAAA,MAAAA,0DAAA,wCACF;;;;;;IAEEA,6DAAA,cAA4E;IAAjCA,yDAAA,mBAAAuzB,iEAAA;MAAAvzB,4DAAA,CAAAgnB,IAAA;MAAA,MAAAiH,OAAA,GAAAjuB,4DAAA;MAAA,OAAAA,0DAAA,CAAAiuB,OAAA,CAAAuF,cAAA,GAA0B,KAAK;IAAA,EAAC;IAACxzB,2DAAA,EAAM;;;;;;IAClFA,6DAAA,cAA0F;IAItFA,yDAAA,mBAAAyzB,+DAAA;MAAAzzB,4DAAA,CAAA0zB,IAAA;MAAA,MAAArM,OAAA,GAAArnB,4DAAA;MAAAqnB,OAAA,CAAAmM,cAAA,GAA0B,KAAK;MAAA,OAAExzB,0DAAA,CAAAqnB,OAAA,CAAAmJ,OAAA,CAAQ,UAAU,CAAC;IAAA,EAAC;IACpDxwB,wDAAA,YAAuB;IAACA,qDAAA,GAAsC;;IAAAA,2DAAA,EAChE;IACDA,6DAAA,YAIG;IADDA,yDAAA,mBAAA2zB,+DAAA;MAAA3zB,4DAAA,CAAA0zB,IAAA;MAAA,MAAAlF,OAAA,GAAAxuB,4DAAA;MAAAwuB,OAAA,CAAAgF,cAAA,GAA0B,KAAK;MAAA,OAAExzB,0DAAA,CAAAwuB,OAAA,CAAAgC,OAAA,CAAQ,cAAc,CAAC;IAAA,EAAC;IACxDxwB,wDAAA,YAAsB;IAACA,qDAAA,GAA0C;;IAAAA,2DAAA,EACnE;IACDA,6DAAA,YAIG;IADDA,yDAAA,mBAAA4zB,+DAAA;MAAA5zB,4DAAA,CAAA0zB,IAAA;MAAA,MAAArxB,OAAA,GAAArC,4DAAA;MAAAqC,OAAA,CAAAmxB,cAAA,GAA0B,KAAK;MAAA,OAAExzB,0DAAA,CAAAqC,OAAA,CAAAmuB,OAAA,CAAQ,iBAAiB,CAAC;IAAA,EAAC;IAC3DxwB,wDAAA,aAAsB;IAACA,qDAAA,IAA6C;;IAAAA,2DAAA,EACtE;IACDA,6DAAA,aAIG;IADDA,yDAAA,mBAAA6zB,gEAAA;MAAA7zB,4DAAA,CAAA0zB,IAAA;MAAA,MAAAvgB,OAAA,GAAAnT,4DAAA;MAAAmT,OAAA,CAAAqgB,cAAA,GAA0B,KAAK;MAAA,OAAExzB,0DAAA,CAAAmT,OAAA,CAAAqd,OAAA,CAAQ,oBAAoB,CAAC;IAAA,EAAC;IAC9DxwB,wDAAA,aAAqB;IAACA,qDAAA,IAAgD;;IAAAA,2DAAA,EACxE;IACDA,6DAAA,aAIG;IADDA,yDAAA,mBAAA8zB,gEAAA;MAAA9zB,4DAAA,CAAA0zB,IAAA;MAAA,MAAAnxB,OAAA,GAAAvC,4DAAA;MAAAuC,OAAA,CAAAixB,cAAA,GAA0B,KAAK;MAAA,OAAExzB,0DAAA,CAAAuC,OAAA,CAAAiuB,OAAA,CAAQ,kBAAkB,CAAC;IAAA,EAAC;IAC5DxwB,wDAAA,aAAsB;IAACA,qDAAA,IAA8C;;IAAAA,2DAAA,EACvE;IACDA,6DAAA,aAIG;IADDA,yDAAA,mBAAA+zB,gEAAA;MAAA/zB,4DAAA,CAAA0zB,IAAA;MAAA,MAAApgB,OAAA,GAAAtT,4DAAA;MAAAsT,OAAA,CAAAkgB,cAAA,GAA0B,KAAK;MAAA,OAAExzB,0DAAA,CAAAsT,OAAA,CAAAkd,OAAA,CAAQ,SAAS,CAAC;IAAA,EAAC;IACnDxwB,wDAAA,aAAuB;IAACA,qDAAA,IAAqC;;IAAAA,2DAAA,EAC/D;;;;IApCoCA,yDAAA,aAAA6B,MAAA,CAAA2xB,cAAA,CAA2B;IAG9DxzB,wDAAA,GAA0C;IAA1CA,0DAAA,iBAAA6B,MAAA,CAAA4uB,IAAA,gBAA0C;IAEjBzwB,wDAAA,GAAsC;IAAtCA,iEAAA,MAAAA,0DAAA,kCAAsC;IAI/DA,wDAAA,GAA8C;IAA9CA,0DAAA,iBAAA6B,MAAA,CAAA4uB,IAAA,oBAA8C;IAEtBzwB,wDAAA,GAA0C;IAA1CA,iEAAA,MAAAA,0DAAA,sCAA0C;IAIlEA,wDAAA,GAAiD;IAAjDA,0DAAA,iBAAA6B,MAAA,CAAA4uB,IAAA,uBAAiD;IAEzBzwB,wDAAA,GAA6C;IAA7CA,iEAAA,MAAAA,0DAAA,0CAA6C;IAIrEA,wDAAA,GAAoD;IAApDA,0DAAA,iBAAA6B,MAAA,CAAA4uB,IAAA,0BAAoD;IAE7BzwB,wDAAA,GAAgD;IAAhDA,iEAAA,MAAAA,0DAAA,6CAAgD;IAIvEA,wDAAA,GAAkD;IAAlDA,0DAAA,iBAAA6B,MAAA,CAAA4uB,IAAA,wBAAkD;IAE1BzwB,wDAAA,GAA8C;IAA9CA,iEAAA,MAAAA,0DAAA,2CAA8C;IAItEA,wDAAA,GAAyC;IAAzCA,0DAAA,iBAAA6B,MAAA,CAAA4uB,IAAA,eAAyC;IAEhBzwB,wDAAA,GAAqC;IAArCA,iEAAA,MAAAA,0DAAA,kCAAqC;;;;;IAgBhEA,wDAAA,wBAA6F;;;;IAA5CA,yDAAA,UAAAyC,OAAA,CAAAuxB,IAAA,CAAA3X,MAAA,CAAA4X,KAAA,CAA2B;;;;;;IAb9Ej0B,6DAAA,cAAqC;IAQjCA,yDAAA,oBAAAk0B,gFAAAhnB,MAAA;MAAAlN,4DAAA,CAAAm0B,IAAA;MAAA,MAAA1gB,OAAA,GAAAzT,4DAAA;MAAA,OAAUA,0DAAA,CAAAyT,OAAA,CAAA2gB,UAAA,CAAAlnB,MAAA,CAAkB;IAAA,EAAC,uBAAAmnB,mFAAAnnB,MAAA;MAAAlN,4DAAA,CAAAm0B,IAAA;MAAA,MAAAngB,OAAA,GAAAhU,4DAAA;MAAA,OAChBA,0DAAA,CAAAgU,OAAA,CAAAwc,OAAA,CAAAtjB,MAAA,CAAe;IAAA,EADC,wBAAAonB,oFAAApnB,MAAA;MAAAlN,4DAAA,CAAAm0B,IAAA;MAAA,MAAAzwB,OAAA,GAAA1D,4DAAA;MAAA,OAEfA,0DAAA,CAAA0D,OAAA,CAAA2qB,QAAA,CAAAnhB,MAAA,CAAgB;IAAA,EAFD,2BAAAqnB,uFAAArnB,MAAA;MAAAlN,4DAAA,CAAAm0B,IAAA;MAAA,MAAA9f,OAAA,GAAArU,4DAAA;MAAA,OAGZA,0DAAA,CAAAqU,OAAA,CAAA0b,aAAA,CAAA7iB,MAAA,CAAqB;IAAA,EAHT;IAI9BlN,2DAAA,EAAoB;IACrBA,yDAAA,IAAAw0B,2DAAA,4BAA6F;IAC/Fx0B,2DAAA,EAAM;;;;IAZFA,wDAAA,GAA8C;IAA9CA,0DAAA,eAAAy0B,OAAA,CAAAT,IAAA,CAAA3X,MAAA,CAAA4X,KAAA,CAAAS,OAAA,CAA8C;IAC9C10B,yDAAA,SAAAy0B,OAAA,CAAA9E,IAAA,CAAa,iBAAA8E,OAAA,CAAAE,gBAAA,UAAAF,OAAA,CAAAhE,IAAA,eAAAgE,OAAA,YAAAA,OAAA,CAAAG,MAAA;IAUC50B,wDAAA,GAA+B;IAA/BA,yDAAA,SAAAy0B,OAAA,CAAAT,IAAA,CAAA3X,MAAA,CAAA4X,KAAA,CAAAS,OAAA,CAA+B;;;;;IAEjD10B,wDAAA,qBAA6F;;;;;IAArCA,yDAAA,cAAA60B,GAAA,CAAuB;;;;;;IAE/E70B,6DAAA,oCAuBC;IAdCA,yDAAA,yBAAA80B,2GAAA;MAAA90B,4DAAA,CAAAqvB,IAAA;MAAA,MAAAhrB,OAAA,GAAArE,4DAAA;MAAA,OAAAA,0DAAA,CAAAqE,OAAA,CAAA0wB,aAAA,kBAAe1wB,OAAA,CAAA0wB,aAAA,CAAAzkB,OAAA,EAAwB;IAAA,EAAC,+BAAA0kB,iHAAA9nB,MAAA;MAAAlN,4DAAA,CAAAqvB,IAAA;MAAA,MAAAE,OAAA,GAAAvvB,4DAAA;MAAA,OAInBA,0DAAA,CAAAuvB,OAAA,CAAA0F,cAAA,CAAA/nB,MAAA,CAAsB;IAAA,EAJH,iCAAAgoB,mHAAAhoB,MAAA;MAAAlN,4DAAA,CAAAqvB,IAAA;MAAA,MAAAI,OAAA,GAAAzvB,4DAAA;MAAA,OAAAA,0DAAA,CAAAyvB,OAAA,CAAA0F,aAAA,GAAAjoB,MAAA;IAAA,8BAAAkoB,8GAAAloB,MAAA;MAAAlN,4DAAA,CAAAqvB,IAAA;MAAA,MAAAjZ,OAAA,GAAApW,4DAAA;MAAA,OAStBA,0DAAA,CAAAoW,OAAA,CAAAif,YAAA,CAAAnoB,MAAA,CAAoB;IAAA,EATE,oBAAAooB,sGAAApoB,MAAA;MAAAlN,4DAAA,CAAAqvB,IAAA;MAAA,MAAAkG,OAAA,GAAAv1B,4DAAA;MAAA,OAU9BA,0DAAA,CAAAu1B,OAAA,CAAAnB,UAAA,CAAAlnB,MAAA,CAAkB;IAAA,EAVY,wBAAAsoB,0GAAAtoB,MAAA;MAAAlN,4DAAA,CAAAqvB,IAAA;MAAA,MAAAtsB,OAAA,GAAA/C,4DAAA;MAAA,OAW1BA,0DAAA,CAAA+C,OAAA,CAAAsrB,QAAA,CAAAnhB,MAAA,EAAuB,KAAK,CAAC;IAAA,EAXH,wBAAAuoB,0GAAAvoB,MAAA;MAAAlN,4DAAA,CAAAqvB,IAAA;MAAA,MAAAqG,OAAA,GAAA11B,4DAAA;MAAA,OAY1BA,0DAAA,CAAA01B,OAAA,CAAArH,QAAA,CAAAnhB,MAAA,EAAuB,KAAK,CAAC;IAAA,EAZH,qBAAAyoB,uGAAA;MAAA31B,4DAAA,CAAAqvB,IAAA;MAAA,MAAAjsB,OAAA,GAAApD,4DAAA;MAAA,OAa7BA,0DAAA,CAAAoD,OAAA,CAAAwyB,cAAA,EAAgB;IAAA,EAba;;IAczC51B,2DAAA,EAAwB;;;;;IAhBvBA,yDAAA,YAAAiC,OAAA,CAAA4zB,aAAA,CAAyB,SAAA5zB,OAAA,CAAAwuB,IAAA,iBAAAxuB,OAAA,CAAA+d,WAAA,mBAAA/d,OAAA,CAAAqhB,aAAA,iBAAArhB,OAAA,CAAA6zB,WAAA,mBAAA7zB,OAAA,CAAAkzB,aAAA,sBAAAn1B,0DAAA,OAAAiC,OAAA,CAAA8zB,kBAAA,iBAAA9zB,OAAA,CAAA0f,UAAA,eAAAkT,GAAA;;;;;IAhE7B70B,6DAAA,cAAkF;IAChFA,yDAAA,IAAAg2B,2CAAA,kBAAkF;IAClFh2B,yDAAA,IAAAi2B,2CAAA,oBAqCM;IACNj2B,yDAAA,IAAAk2B,2CAAA,kBAcM;IACNl2B,yDAAA,IAAAm2B,kDAAA,yBAA6F;IAC7Fn2B,6DAAA,aAAwC;IAAAA,qDAAA,GAAmC;;IAAAA,2DAAA,EAAK;IAChFA,yDAAA,IAAAo2B,6DAAA,qCAuByB;IAC3Bp2B,2DAAA,EAAM;;;;IAjF8CA,0DAAA,SAAAiB,MAAA,CAAAo1B,cAAA,CAA6B;IAC1Dr2B,wDAAA,GAAoB;IAApBA,yDAAA,SAAAiB,MAAA,CAAAuyB,cAAA,CAAoB;IAC2BxzB,wDAAA,GAAoB;IAApBA,yDAAA,SAAAiB,MAAA,CAAAuyB,cAAA,CAAoB;IAsCrExzB,wDAAA,GAAgB;IAAhBA,yDAAA,SAAAiB,MAAA,CAAAq1B,UAAA,CAAgB;IAetBt2B,wDAAA,GAAwB;IAAxBA,yDAAA,SAAAiB,MAAA,CAAAwvB,IAAA,eAAwB;IACGzwB,wDAAA,GAAmC;IAAnCA,gEAAA,CAAAA,0DAAA,0BAAmC;IAOxEA,wDAAA,GAAwB;IAAxBA,yDAAA,SAAAiB,MAAA,CAAAwvB,IAAA,eAAwB;;;;;IAmB7BzwB,wDAAA,yBAAgE;;;ADd5D,MAAOkyB,sBAAsB;EAAA,QAAA7mB,CAAA,GAChB,KAAAkrB,WAAW,GAAG,CACzB,UAAU,EACV,cAAc,EACd,iBAAiB,EACjB,oBAAoB,EACpB,kBAAkB,EAClB,SAAS,CACZ;EAAA,QAAAvqB,EAAA,GACc,KAAAwqB,iBAAiB,GAAG,CAC/B72B,mEAAa,CAAC82B,QAAQ,EACtB,gBAAgB,EAChB,mBAAmB,EACnB,+BAA+B,EAC/B,sBAAsB,EACtB,oBAAoB,CACvB;EAkBD,IAAIC,WAAWA,CAAA;IACX,OAAO,IAAI,CAACC,kBAAkB,CAACze,KAAK;EACxC;EACA,IAAIwe,WAAWA,CAACxe,KAAK;IACjB,IAAI,CAACye,kBAAkB,CAACte,IAAI,CAACH,KAAK,CAAC;EACvC;EAEA,IAAI0e,aAAaA,CAAA;IACb,OAAO,IAAI,CAACC,oBAAoB,CAAC3e,KAAK;EAC1C;EACA,IAAI0e,aAAaA,CAAC1e,KAA6B;IAC3C,IAAI,CAAC2e,oBAAoB,CAACxe,IAAI,CAACH,KAAK,CAAC;EACzC;EAEA,IAAI2d,aAAaA,CAAA;IACb,OAAO,IAAI,CAACiB,oBAAoB,CAAC5e,KAAK;EAC1C;EACA,IAAI2d,aAAaA,CAAC3d,KAAW;IACzB,IAAI,CAAC4e,oBAAoB,CAACze,IAAI,CAACH,KAAK,CAAC;EACzC;EAEA,IAAI8H,WAAWA,CAAA;IACX,OAAO,IAAI,CAAC+W,kBAAkB,CAAC7e,KAAK;EACxC;EACA,IAAI8H,WAAWA,CAAC9H,KAAoC;IAChD,IAAI,CAAC6e,kBAAkB,CAAC1e,IAAI,CAACH,KAAK,CAAC;EACvC;EAgCAhO,YACY8sB,YAAiC,EACjCC,kBAAsC,EACtCC,IAAiB,EACjB5e,MAA4B,EAC5B7Q,SAA+B,EAC/B0vB,UAAiC,EACjCnpB,OAAuB,EACvBK,KAAyB,EACzB+oB,GAAmB,EACnBC,aAAmC,EACnCppB,WAA+B,EAC/BqpB,cAA8B,EAC9BC,GAAmB,EACnBC,MAAc,EACd3vB,IAAqB,EACrB6B,UAA6B,EAC7B+tB,KAAqB,EACrBvpB,MAAc,EACdwT,WAA+B,EAC/BgW,OAA8B,EAC9BC,OAAgC,EAChCC,WAAwB,EACxBzpB,KAAY,EACZ0pB,WAA4B,EAC5B7uB,SAA2B,EAC3B8uB,YAAiC,EACjC/uB,aAA4B,EAC5BgvB,YAA0B,EAC1BjP,EAAa,EACb/a,SAA2B;IA7B3B,KAAAipB,YAAY,GAAZA,YAAY;IACZ,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAAC,IAAI,GAAJA,IAAI;IACJ,KAAA5e,MAAM,GAANA,MAAM;IACN,KAAA7Q,SAAS,GAATA,SAAS;IACT,KAAA0vB,UAAU,GAAVA,UAAU;IACV,KAAAnpB,OAAO,GAAPA,OAAO;IACP,KAAAK,KAAK,GAALA,KAAK;IACL,KAAA+oB,GAAG,GAAHA,GAAG;IACH,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAppB,WAAW,GAAXA,WAAW;IACX,KAAAqpB,cAAc,GAAdA,cAAc;IACd,KAAAC,GAAG,GAAHA,GAAG;IACH,KAAAC,MAAM,GAANA,MAAM;IACN,KAAA3vB,IAAI,GAAJA,IAAI;IACJ,KAAA6B,UAAU,GAAVA,UAAU;IACV,KAAA+tB,KAAK,GAALA,KAAK;IACL,KAAAvpB,MAAM,GAANA,MAAM;IACN,KAAAwT,WAAW,GAAXA,WAAW;IACX,KAAAgW,OAAO,GAAPA,OAAO;IACP,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAzpB,KAAK,GAALA,KAAK;IACL,KAAA0pB,WAAW,GAAXA,WAAW;IACX,KAAA7uB,SAAS,GAATA,SAAS;IACT,KAAA8uB,YAAY,GAAZA,YAAY;IACZ,KAAA/uB,aAAa,GAAbA,aAAa;IACb,KAAAgvB,YAAY,GAAZA,YAAY;IACZ,KAAAjP,EAAE,GAAFA,EAAE;IACF,KAAA/a,SAAS,GAATA,SAAS;IAhGb,KAAAiqB,aAAa,GAAW,EAAE;IAClC,KAAArI,IAAI,GAAW,EAAE;IAEjB,KAAAc,IAAI,GAAa,UAAU;IAE3B,KAAA+C,cAAc,GAAG,KAAK;IAEd,KAAAmD,kBAAkB,GAAG,IAAIplB,kDAAe,CAAC,IAAI,CAAC;IAO9C,KAAAslB,oBAAoB,GAAG,IAAItlB,kDAAe,CAAyB,IAAI,CAAC;IAOxE,KAAAulB,oBAAoB,GAAG,IAAIvlB,kDAAe,CAAO,IAAI,CAAC;IAOtD,KAAAwlB,kBAAkB,GAAG,IAAIxlB,kDAAe,CAAgC,IAAI,CAAC;IAQrF,KAAA8kB,cAAc,GAAG,KAAK;IACtB,KAAA4B,sBAAsB,GAAG,KAAK;IAG9B,KAAArD,MAAM,GAAG,KAAK;IACd,KAAA0B,UAAU,GAAG,KAAK;IAIlB,KAAA4B,OAAO,GAAG,IAAI;IACd,KAAAC,SAAS,GAAG,KAAK;IAEjB,KAAA7U,aAAa,GAAkB;MAC3BzB,iBAAiB,EAAE;KACtB;IAIQ,KAAAF,UAAU,GAAG,IAAItQ,+DAAc,EAAQ;IAEhD,KAAA+mB,YAAY,GAAG,KAAK;IAKpB,KAAAtC,WAAW,GAA2B,IAAI;IAEzB,KAAAuC,UAAU,GAAG,IAAI5Y,0CAAO,EAAQ;IACzC,KAAA6Y,WAAW,GAAG,IAAI,CAACjB,aAAa,CAACkB,cAAc,CAAC;MAAEC,KAAK,EAAE,IAAI,CAACH;IAAU,CAAE,CAAC;IAuLnF,KAAA/E,mBAAmB,GAAI5G,QAAiC,IAAa;MACjE,IAAIA,QAAQ,CAACC,MAAM,KAAK,MAAM,EAAE;QAC5B,IAAI,IAAI,CAAC8D,IAAI,KAAK,UAAU,EAAE;UAC1B,OAAOuC,6DAAW,CAACtG,QAAQ,CAAC;SAC/B,MAAM;UACH,OAAO;YAAE6D,MAAM,EAAE,KAAK;YAAEkI,YAAY,EAAE;UAAK,CAAE;;OAEpD,MAAM;QACH,OAAO3R,+DAAa,CAAC4F,QAA0B,CAAC;;IAExD,CAAC;IA/JG,IAAI,CAACre,KAAK,CAACqqB,WAAW,CAAC,IAAI,EAAE,IAAI,CAACL,UAAU,CAAC;IAC7C,IAAI,CAAC5wB,SAAS,CAACkxB,QAAQ,CAAC,IAAI,CAAClB,KAAK,EAAE,IAAI,CAACvpB,MAAM,CAAC;IAChD,IAAI,CAACmoB,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACyB,YAAY,CAACc,WAAW,EAAE,CAACtwB,SAAS,CAAC,MAAK;MAC3C,KAAK,IAAI,CAACuwB,UAAU,EAAE;MACtB,IAAI,CAAC9C,kBAAkB,GAAG,IAAI,CAACmB,IAAI,CAAC4B,aAAa,CAACxf,IAAI,CAACmZ,sDAAK,CAAC,CAAC,CAAC,CAAC;IACpE,CAAC,CAAC;EACN;EAEApZ,QAAQA,CAAA;IACJ,IAAI,CAAC0f,cAAc,EAAE;IACrB,IAAI,CAACC,qBAAqB,EAAE;EAChC;EAEAzV,WAAWA,CAAA;IACP,IAAI,CAAC8U,UAAU,CAAChgB,IAAI,EAAE;IACtB,IAAI,CAACggB,UAAU,CAAC7U,QAAQ,EAAE;IAC1B,IAAI,CAACmU,OAAO,CAACsB,MAAM,CAAC,qBAAqB,CAAC;IAC1C,IAAI,IAAI,CAACpD,aAAa,EAAE;MACpB,IAAI,CAAC8B,OAAO,CAAC7T,GAAG,CAAC,IAAI,CAACoV,wBAAwB,EAAE,EAAE,IAAI,CAACrD,aAAa,CAACztB,GAAG,CAACC,EAAE,CAAC;;EAEpF;EAGA8wB,mBAAmBA,CAAC9qB,KAAU;IAC1B,IAAI,IAAI,CAACumB,MAAM,EAAE;MACb;MACA;MACA;IAAA;EAER;EAEQwE,YAAYA,CAAC/qB,KAAY;IAC7B,MAAMgrB,MAAM,GAAG,IAAI,CAACrC,YAAY,CAACsC,kBAAkB,EAAE,CAACC,SAAS;IAC/D,IAAIF,MAAM,GAAG,CAAC,EAAE;MACZ,IAAI,CAAC1B,OAAO,CAAC7T,GAAG,CAAC,kBAAkB,EAAEuV,MAAM,CAAC;;EAEpD;EAEAG,OAAOA,CAACnrB,KAAa,EAAEnN,IAAS;IAC5B,IAAImN,KAAK,KAAKukB,wEAAkB,CAAC6G,aAAa,EAAE;MAC5C,IAAI,CAACnpB,OAAO,EAAE;;EAEtB;EAEA;;;;;;EAMQopB,WAAWA,CAAA;IACf,IAAI,CAACpC,cAAc,CAACqC,gBAAgB,CAAC;MACjCx4B,KAAK,EAAE,IAAI,CAACyzB,MAAM,GAAG,sBAAsB,GAAG,iBAAiB;MAC/DgF,YAAY,EAAE,IAAI,CAAChF,MAAM,GAAG,MAAM,GAAG,WAAW;MAChDiF,MAAM,EAAE;QACJ9X,OAAO,EAAE,IAAI,CAAC6U,aAAa;QAC3BF,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7Bvb,MAAM,EAAE,IAAI,CAAC0a,aAAa;QAC1BiE,MAAM,EAAE;OACX;MACDC,QAAQ,EAAGjrB,KAAK,IAAK,IAAI,CAACkrB,QAAQ,CAACC,WAAW,CAACC,eAAe,CAACprB,KAAK,CAAC;MACrEqrB,kBAAkB,EAAEA,CAAA,KAAM,IAAI,CAACC,gBAAgB,EAAE;MACjDC,OAAO,EAAE,IAAI,CAACnC;KACjB,CAAC;IACF,IAAI,CAAC,IAAI,CAACC,SAAS,EAAE;MACjB,MAAMmC,mBAAmB,GAAG,IAAI,CAAC5Y,WAAW,CAAC6Y,MAAM,CAC/C;QACIC,WAAW,EAAE,IAAI,CAAC5F,MAAM,GAAG,uBAAuB,GAAG;OACxD,EACD,IAAI,CAACyD,UAAU,CAClB;MACDiC,mBAAmB,CAACtX,iBAAiB,EAAE,CAAC1a,SAAS,CAAE+F,KAAK,IAAK,IAAI,CAACosB,QAAQ,CAACpsB,KAAK,CAAC,CAAC;MAClF,IAAI,CAAC0oB,kBAAkB,CAACzuB,SAAS,CAAE0X,WAAW,IAC1Csa,mBAAmB,CAACI,eAAe,CAAC1a,WAAW,EAAEqT,KAAK,CAAC,CAC1D;KACJ,MAAM;MACH,IAAI,CAAC3R,WAAW,CAACiZ,OAAO,EAAE;;EAElC;EAEQ3B,qBAAqBA,CAAA;IACzBrS,gDAAkB,CAAC,CACf,IAAI,CAACkQ,oBAAoB,EACzB,IAAI,CAACF,kBAAkB,EACvB,IAAI,CAACG,oBAAoB,CAC5B,CAAC,CAACxuB,SAAS,CAAC,CAAC,CAACsuB,aAAa,EAAEF,WAAW,EAAEb,aAAa,CAAC,KACrD,IAAI,CAACyB,cAAc,CAACuD,kBAAkB,CAAC;MACnChB,MAAM,EAAE;QACJ9X,OAAO,EAAE6U,aAAa;QACtBF,WAAW,EAAEA,WAAW;QACxBvb,MAAM,EAAE0a,aAAa;QACrBiE,MAAM,EAAE;;KAEf,CAAC,CACL;EACL;EAEQf,cAAcA,CAAA;IAClB,IAAI,CAAC/B,YAAY,CAAC8D,oBAAoB,CACjCzsB,KAAK,IAAK,IAAI,CAAC+qB,YAAY,CAAC/qB,KAAK,CAAC,EACnC,IAAI,CAACgqB,UAAU,CAClB;EACL;EAEQ0C,aAAaA,CACjBlzB,IAAA,GAAa,IAAI,EACjBwV,IAAA,GAAiB,IAAI,EACrB2d,GAAA,GAAW,IAAI,EACfC,aAAA,GAA2B,IAAI;IAE/BtpB,+DAAQ,CAACupB,aAAa,CAClB,IAAI,CAAC/D,UAAU,EACf,IAAI,CAACC,GAAG,EACR,IAAI,CAAC/oB,KAAK,EACV,IAAI,CAACF,KAAK,EACV,IAAI,CAACgtB,WAAW,CAACtzB,IAAI,CAAC,CAAC,CAAC,CAAC,EACzBwV,IAAI,EACJ2d,GAAG,EACHC,aAAa,CAChB;EACL;EAEA7G,UAAUA,CAAC/lB,KAAuD;IAC9D,IAAIA,KAAK,CAACue,MAAM,CAACE,IAAI,KAAK,MAAM,EAAE;MAC9B,IAAI,CAACsO,QAAQ,CAAC/sB,KAAK,CAACse,MAAM,EAAEte,KAAK,CAACue,MAAM,CAAChH,OAAO,CAAC;KACpD,MAAM;MACH,IAAI,CAACyV,QAAQ,CAAChtB,KAAK,CAACse,MAAM,EAAEte,KAAK,CAACue,MAAM,CAAChH,OAAO,CAAC;;IAErD;;;;;;;;;;EAUJ;;EAEAsN,sBAAsBA,CAAC7kB,KAA0D;IAC7E,IAAIA,KAAK,CAACse,MAAM,KAAK,MAAM,EAAE;MACzB,IAAI,CAACyH,UAAU,CAAC;QAAEzH,MAAM,EAAE,IAAI,CAAC8D,IAAI;QAAE7D,MAAM,EAAEve,KAAK,CAACue;MAAM,CAAE,CAAC;KAC/D,MAAM;MACH,IAAI,CAACwH,UAAU,CAAC/lB,KAAmD,CAAC;;EAE5E;EAcQgtB,QAAQA,CAAC1O,MAAkB,EAAEC,MAAc,EAAE0O,QAAQ,GAAG,CAAC;IAC7D,IAAI,CAACjF,cAAc,GAAG,IAAI;IAC1B,IAAIiF,QAAQ,IAAI1O,MAAM,CAACjpB,MAAM,EAAE;MAC3B,IAAI,CAAC43B,cAAc,CAAC5O,MAAM,EAAEC,MAAM,EAAE,KAAK,CAAC;MAC1C,IAAI,CAACyJ,cAAc,GAAG,KAAK;MAC3B;;IAEJ,IAAI,CAACxuB,IAAI,CACJwzB,QAAQ,CAAE1O,MAAe,CAACvkB,GAAG,EAAEC,EAAE,IAAI1I,mEAAa,CAAC82B,QAAQ,EAAE7J,MAAM,CAAC0O,QAAQ,CAAC,CAAClzB,GAAG,CAACC,EAAE,CAAC,CACrFC,SAAS,CACLpH,IAAiB,IAAI;MAClB,IAAI,CAACm6B,QAAQ,CAAC1O,MAAM,EAAEC,MAAM,EAAE0O,QAAQ,GAAG,CAAC,CAAC;IAC/C,CAAC,EACA1rB,KAAU,IAAI;MACX,IAAI,CAAClG,UAAU,CAAC8xB,eAAe,CAAC5O,MAAM,CAAC0O,QAAQ,CAAC,CAACp0B,IAAI,EAAE0I,KAAK,CAAC;MAC7Dgd,MAAM,CAAChS,MAAM,CAAC0gB,QAAQ,EAAE,CAAC,CAAC;MAC1B,IAAI,CAACD,QAAQ,CAAC1O,MAAM,EAAEC,MAAM,EAAE0O,QAAQ,GAAG,CAAC,CAAC;IAC/C,CAAC,CACJ;EACT;EAEQF,QAAQA,CAACzO,MAAkB,EAAEC,MAAc,EAAE0O,QAAQ,GAAG,CAAC;IAC7D,IAAI,CAACjF,cAAc,GAAG,IAAI;IAC1B,IAAIiF,QAAQ,IAAI1O,MAAM,CAACjpB,MAAM,EAAE;MAC3B,IAAI,CAAC43B,cAAc,CAAC5O,MAAM,EAAEC,MAAM,EAAE,IAAI,CAAC;MACzC,IAAI,CAACyJ,cAAc,GAAG,KAAK;MAC3B;;IAEJ,IAAI,CAACxuB,IAAI,CACJuzB,QAAQ,CAAEzO,MAAe,CAACvkB,GAAG,EAAEC,EAAE,IAAI1I,mEAAa,CAAC82B,QAAQ,EAAE7J,MAAM,CAAC0O,QAAQ,CAAC,CAAClzB,GAAG,CAACC,EAAE,CAAC,CACrFC,SAAS,CACLpH,IAAiB,IAAI;MAClB,IAAI,CAACk6B,QAAQ,CAACzO,MAAM,EAAEC,MAAM,EAAE0O,QAAQ,GAAG,CAAC,CAAC;IAC/C,CAAC,EACA1rB,KAAU,IAAI;MACX,IAAI,CAAClG,UAAU,CAAC8xB,eAAe,CAAC5O,MAAM,CAAC0O,QAAQ,CAAC,CAACp0B,IAAI,EAAE0I,KAAK,CAAC;MAC7Dgd,MAAM,CAAChS,MAAM,CAAC0gB,QAAQ,EAAE,CAAC,CAAC;MAC1B,IAAI,CAACF,QAAQ,CAACzO,MAAM,EAAEC,MAAM,EAAE0O,QAAQ,GAAG,CAAC,CAAC;IAC/C,CAAC,CACJ;EACT;EAEQC,cAAcA,CAAC5O,MAAkB,EAAEC,MAAc,EAAE6O,IAAa;IACpE,IAAI,CAACttB,KAAK,CAACoB,oBAAoB,EAAE;IACjC,MAAMmsB,IAAI,GAAQ;MACdC,EAAE,EAAGhP,MAAe,CAACzlB,IAAI,IAAI,IAAI,CAAC8B,SAAS,CAAC0R,OAAO,CAAC,oBAAoB,CAAC;MACzE8Q,KAAK,EAAEoB,MAAM,CAACjpB,MAAM;MACpBmpB,IAAI,EAAE,IAAI,CAAC9jB,SAAS,CAAC0R,OAAO,CAAC,YAAY,IAAI+gB,IAAI,GAAG,YAAY,GAAG,YAAY,CAAC;KACnF;IACD,IAAI7O,MAAM,CAACjpB,MAAM,EAAE;MACf,IAAI,CAACwK,KAAK,CAACA,KAAK,CAAC,4BAA4B,EAAEutB,IAAI,CAAC;;IAExD,IAAI,CAACrF,cAAc,GAAG,KAAK;IAC3B,IAAI,CAAC/lB,OAAO,EAAE;EAClB;EAEcuoB,UAAUA,CAAA;IAAA,IAAA9wB,KAAA;IAAA,OAAAC,wLAAA;MACpBD,KAAI,CAAC0vB,KAAK,CAACmE,MAAM,CACZtiB,IAAI,CAACoG,0DAAS,CAAC3X,KAAI,CAACswB,UAAU,CAAC,CAAC,CAChC/vB,SAAS,CAAEuzB,WAAmB,IAAK9zB,KAAI,CAAC+zB,kBAAkB,CAACD,WAAW,CAAC,CAAC;MAC7E9zB,KAAI,CAAC0vB,KAAK,CAACsE,WAAW,CACjBziB,IAAI,CAACoG,0DAAS,CAAC3X,KAAI,CAACswB,UAAU,CAAC,CAAC,CAChC/vB,SAAS,CAAEszB,MAAc,IAAK7zB,KAAI,CAACi0B,uBAAuB,CAACJ,MAAM,CAAC,CAAC;IAAC;EAC7E;EAEcK,QAAQA,CAAA;IAAA,IAAAlsB,MAAA;IAAA,OAAA/H,wLAAA;MAClB,IAAI;QACA;QACA+H,MAAI,CAACikB,IAAI,SAASjkB,MAAI,CAAC6nB,WAAW,CAC7BsE,kBAAkB,EAAE,CACpB5iB,IAAI,CAACoZ,sDAAK,CAACyJ,OAAO,CAAC,EAAEtgB,oDAAG,CAACiX,iFAAQ,CAAC,CAAC,CACnCtZ,SAAS,EAAE;OACnB,CAAC,OAAO4iB,CAAC,EAAE;QACRrsB,MAAI,CAAC5B,KAAK,CAACyB,KAAK,CAACwsB,CAAC,CAAC;QACnB;;IACH;EACL;EAEcN,kBAAkBA,CAACD,WAAmB;IAAA,IAAAQ,MAAA;IAAA,OAAAr0B,wLAAA;MAChDq0B,MAAI,CAACzH,MAAM,GAAGiH,WAAW,CAAC/O,IAAI,KAAK,MAAM;MACzC,MAAMhS,KAAK,SAASuhB,MAAI,CAAC50B,SAAS,CAAC6uB,UAAU,EAAE,CAAC9c,SAAS,EAAE;MAC3D,IAAIsB,KAAK,CAACwhB,UAAU,KAAK38B,mEAAa,CAAC48B,cAAc,EAAE;QACnD7qB,gEAAU,CAAC8qB,SAAS,CAACH,MAAI,CAACnuB,MAAM,EAAEmuB,MAAI,CAAC/jB,MAAM,CAAC;QAC9C;;MAEJ,IAAImkB,KAAK,GAAG,IAAI;MAChB,IAAI,CAAC3hB,KAAK,CAAC4hB,YAAY,IAAI5hB,KAAK,CAAC6hB,OAAO,EAAE;QACtCF,KAAK,GAAG,KAAK;;MAEjBJ,MAAI,CAAClE,SAAS,GAAG,CAACkE,MAAI,CAAC50B,SAAS,CAACm1B,wBAAwB,CACrDj9B,mEAAa,CAACk9B,wBAAwB,CACzC;MACD,IAAIR,MAAI,CAACzH,MAAM,IAAI9Z,KAAK,CAAC8e,YAAY,KAAKj6B,mEAAa,CAACm9B,UAAU,EAAE;QAChEL,KAAK,GAAG,KAAK;;MAEjB,IAAI,CAACJ,MAAI,CAACzH,MAAM,IAAI9Z,KAAK,CAAC8e,YAAY,IAAI,IAAI,EAAE;QAC5CyC,MAAI,CAAC50B,SAAS,CAACs1B,MAAM,EAAE,CAACz0B,SAAS,CAC7B,MAAK;UACD+zB,MAAI,CAACG,SAAS,EAAE;QACpB,CAAC,EACA5sB,KAAU,IAAI;UACXysB,MAAI,CAACluB,KAAK,CAACyB,KAAK,CAACA,KAAK,CAAC;UACvBysB,MAAI,CAACG,SAAS,EAAE;QACpB,CAAC,CACJ;QACD;;MAEJ,IAAI,CAACC,KAAK,EAAE;QACRJ,MAAI,CAACG,SAAS,EAAE;QAChB;;MAEJ,MAAMH,MAAI,CAACW,gBAAgB,EAAE;MAC7B,MAAMX,MAAI,CAACJ,QAAQ,EAAE;MACrBI,MAAI,CAACY,WAAW,CAACZ,MAAI,CAACrI,IAAI,CAAC;MAE3BqI,MAAI,CAAC50B,SAAS,CAACwkB,KAAK,GAAGoQ,MAAI,CAACzH,MAAM,GAAGj1B,mEAAa,CAACm9B,UAAU,GAAG,IAAI;MACpET,MAAI,CAAC/F,UAAU,GAAG,IAAI;MACtB+F,MAAI,CAAChG,cAAc,GAAG,KAAK;MAE3B,IAAIgG,MAAI,CAACzH,MAAM,EAAE;QACb,MAAMtc,MAAM,SAAS+jB,MAAI,CAACtzB,aAAa,CAACm0B,aAAa,EAAE,CAAC5jB,IAAI,CAACqZ,qDAAI,CAAC,CAAC,CAAC,CAAC,CAACnZ,SAAS,EAAE;QACjF,IAAIlB,MAAM,CAAC6kB,WAAW,EAAEC,SAAS,EAAE;UAC/Bf,MAAI,CAACtE,YAAY,CAACsF,qBAAqB,CAAC/kB,MAAM,CAAC6kB,WAAW,CAACC,SAAS,CAAC;;;IAE5E;EACL;EAEQpB,uBAAuBA,CAACJ,MAAc;IAC1C,IAAI0B,WAAW,GAAG,KAAK;IACvB,IAAI,IAAI,CAACC,SAAS,EAAE;MAChB,KAAK,MAAMjvB,GAAG,IAAIvE,MAAM,CAACC,IAAI,CAAC,IAAI,CAACuzB,SAAS,CAAC,CAAC7R,MAAM,CAAC3hB,MAAM,CAACC,IAAI,CAAC4xB,MAAM,CAAC,CAAC,EAAE;QACvE,IAAIA,MAAM,CAACttB,GAAG,CAAC,KAAK,IAAI,CAACivB,SAAS,CAACjvB,GAAG,CAAC,EAAE;UACrC;;QAEJ,IAAIA,GAAG,KAAKxB,4DAAW,CAAC0wB,0BAA0B,EAAE;UAChD;SACH,MAAM,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC1S,QAAQ,CAACxc,GAAG,CAAC,EAAE;UAC3C;UACA;;QAEJgvB,WAAW,GAAG,IAAI;;KAEzB,MAAM;MACHA,WAAW,GAAG,IAAI;;IAEtB,IAAI1B,MAAM,CAAC9F,WAAW,IAAI,IAAI,EAAE;MAC5B,IAAI,CAACb,cAAc,CACf9V,QAAQ,CAACyc,MAAM,CAAC9uB,4DAAW,CAAC0wB,0BAA0B,CAAC,EAAE,EAAE,CAAC,EAC5D,KAAK,CACR;KACJ,MAAM;MACH,IAAI,CAACvI,cAAc,CACf,IAAI,CAAC3c,MAAM,CAACoC,OAAO,CACf,mBAAmB,EACnBpJ,uEAAsB,CAACmD,KAAK,CACL,EAC3B,KAAK,CACR;;IAEL,IAAImnB,MAAM,CAACnL,IAAI,IAAIyB,sBAAsB,CAACqE,WAAW,CAACprB,OAAO,CAACywB,MAAM,CAACnL,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MAC/E,IAAI,CAACA,IAAI,GAAGmL,MAAM,CAACnL,IAAI;KAC1B,MAAM;MACH,IAAI,CAACA,IAAI,GAAG,UAAU;;IAE1B,IAAImL,MAAM,CAAC6B,KAAK,EAAE;MACd,IAAI,CAACA,KAAK,GAAG7B,MAAM,CAAC6B,KAAK;;IAE7B,IAAI,CAACvF,OAAO,GAAG0D,MAAM,CAAC1D,OAAO,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI;IAExD,IAAI,CAACwB,WAAW,EAAE;IAElB,IAAIkC,MAAM,CAAC8B,IAAI,IAAI9B,MAAM,CAAC8B,IAAI,KAAK,IAAI,CAACH,SAAS,EAAEG,IAAI,EAAE;MACrD,KAAK,IAAI,CAACC,uBAAuB,CAAC/B,MAAM,CAAC8B,IAAI,CAAC;;IAGlD,IAAI,CAACJ,WAAW,EAAE;MACd;;IAEJ,IAAI,CAAC1G,aAAa,GAAG,IAAI,CAACnG,IAAI,KAAK,UAAU;IAC7C,IAAImN,YAAY,GAAG,IAAI,CAACjG,OAAO,CAACkG,GAAG,CAAC,IAAI,CAAC3E,wBAAwB,EAAE,EAAE,IAAI,CAAC;IAC1E,IAAI,IAAI,CAACtE,MAAM,EAAE;MACb;MACAgJ,YAAY,GAAG,IAAI;;IAEvB,IAAI,CAAChC,MAAM,CAACvzB,EAAE,IAAI,CAACuzB,MAAM,CAACvI,KAAK,IAAIuK,YAAY,EAAE;MAC7C,IAAI,CAACE,aAAa,CAACF,YAAY,EAAE;QAAEG,UAAU,EAAE;MAAI,CAAE,CAAC;KACzD,MAAM;MACH,IAAI,CAACC,sBAAsB,CAACpC,MAAM,CAAC;;IAEvC,IAAIA,MAAM,CAACqC,SAAS,EAAE;MAClB,IAAI,CAACA,SAAS,EAAE;;IAEpB,IAAI,CAACV,SAAS,GAAG3B,MAAM;EAC3B;EAEc+B,uBAAuBA,CAACt1B,EAAU;IAAA,IAAA61B,MAAA;IAAA,OAAAl2B,wLAAA;MAC5C;MACA,MAAMm2B,YAAY,SAASD,MAAI,CAAClE,QAAQ,CAACrY,UAAU,CAC9C1I,OAAO,EAAE,CACTK,IAAI,CAACoZ,sDAAK,CAAExxB,IAAI,IAAKA,IAAI,EAAEyC,MAAM,GAAG,CAAC,CAAC,CAAC,CACvC6V,SAAS,EAAE;MAChB,IAAI3R,IAAI,GAAGs2B,YAAY,CAACnT,IAAI,CAAEnjB,IAAI,IAAKA,IAAI,CAACO,GAAG,CAACC,EAAE,KAAKA,EAAE,CAAC;MAC1D,IAAI,CAACR,IAAI,EAAE;QACP,CAAC;UAAEA;QAAI,CAAE,SAASq2B,MAAI,CAACr2B,IAAI,CAAC2H,eAAe,CAACnH,EAAE,EAAE,CAAC1I,mEAAa,CAAC8P,GAAG,CAAC,CAAC,CAAC+J,SAAS,EAAE;QAChF,IAAI3R,IAAI,CAACsT,MAAM,EAAE9S,EAAE,KAAK61B,MAAI,CAACrI,aAAa,EAAEztB,GAAG,CAACC,EAAE,EAAE;UAChD61B,MAAI,CAAClE,QAAQ,CAACrY,UAAU,CAAC6D,UAAU,CAAC,CAAC3d,IAAI,CAAC,EAAE,QAAQ,CAAC;UACrD;SACH,MAAM;UACHq2B,MAAI,CAAC/vB,KAAK,CAACyB,KAAK,CAAC,IAAI,EAAE,uCAAuC,CAAC;UAC/D;;;MAGRsuB,MAAI,CAACE,YAAY,CAAC,CAACv2B,IAAI,CAAC,CAAC;MACzBq2B,MAAI,CAACG,aAAa,GAAGx2B,IAAI;MACzBq2B,MAAI,CAACnwB,SAAS,CAACF,WAAW,GAAGhG,IAAI;IAAC;EACtC;EAEA+tB,cAAcA,CAAA;IACV,IAAI,IAAI,CAAC7nB,SAAS,CAACF,WAAW,IAAI,IAAI,CAACwwB,aAAa,EAAE;MAClD,IAAI,CAACD,YAAY,CAAC,CAAC,IAAI,CAACC,aAAa,CAAC,CAAC;;EAE/C;EAEA5D,QAAQA,CAACpsB,KAAkB;IACvB,MAAMhG,EAAE,GAAG,IAAI,CAACwtB,aAAa,GACvB,IAAI,CAACA,aAAa,CAACztB,GAAG,CAACC,EAAE,GACzB,IAAI,CAAC2X,WAAW,IAAI,IAAI,CAACA,WAAW,CAACnY,IAAI,GACzC,IAAI,CAACmY,WAAW,CAACnY,IAAI,CAACO,GAAG,CAACC,EAAE,GAC5B,IAAI;IACV,KAAK,IAAI,CAACi2B,OAAO,CAAC,IAAI,CAAC7N,IAAI,EAAEpoB,EAAE,EAAEgG,KAAK,CAAC4U,YAAY,CAAC;IACpD,IAAI,CAAC5U,KAAK,CAACkwB,OAAO,EAAE;MAChB,IAAI,CAACzV,EAAE,CAAC0V,oBAAoB,EAAE;;EAEtC;EAEQC,iBAAiBA,CAAC7C,MAAW,EAAE/zB,IAAgB;IACnDA,IAAI,GAAG,IAAI,CAAC62B,YAAY,GAAG,IAAI,GAAG72B,IAAI;IACtC,IAAI,CAACmY,WAAW,GAAG;MACfqT,KAAK,EAAEuI,MAAM,CAACvI,KAAK;MACnBxrB;KACH;IACD,IAAIA,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC4oB,IAAI,KAAK,SAAS,EAAE;MACzC,IAAI,CAACA,IAAI,GAAG,WAAW;;IAE3B,IAAI,CAACmG,aAAa,GAAG,YAAY;IACjC,IAAI,CAAC+H,gBAAgB,GAAG,gCAAgC;IACxD,IAAI,CAAChP,IAAI,GAAG,EAAE;IACd,IAAI,CAACsH,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;IAC9C,IAAI,CAACyO,YAAY,CAAC,EAAE,CAAC;EACzB;EAEQniB,WAAWA,CAAC5N,KAAW;IAC3B,MAAM8U,IAAI,GAAG,IAAI,CAACgY,WAAW,CAAC9sB,KAAK,CAAC;IACpC,IAAI8U,IAAI,CAAC,CAAC,CAAC,CAAC9b,WAAW,IAAI8b,IAAI,CAAC,CAAC,CAAC,CAAC9F,IAAI,KAAK1d,mEAAa,CAACk/B,kBAAkB,EAAE;MAC1E,IAAI1b,IAAI,CAAC,CAAC,CAAC,CAAC3a,UAAU,EAAE;QACpBmJ,+DAAQ,CAACwK,cAAc,CAAC,IAAI,CAACjO,MAAM,EAAEiV,IAAI,CAAC,CAAC,CAAC,CAAC;OAChD,MAAM;QACH,IAAI,CAAC2a,aAAa,CAAC3a,IAAI,CAAC,CAAC,CAAC,CAAC/a,GAAG,CAACC,EAAE,CAAC;;KAEzC,MAAM;MACH;;;;MAIA,IAAI,CAACsvB,OAAO,CAAC7T,GAAG,CACZkC,wEAAuB,CAAC8Y,iCAAiC,EACzD,IAAI,CAACnd,UAAU,CAClB;MACD,IAAI,CAACzT,MAAM,CAAC2B,QAAQ,CAChB,CACI/C,4DAAW,CAACgD,aAAa,GAAG,QAAQ,EACpCqT,IAAI,CAAC,CAAC,CAAC,CAAC/a,GAAG,CAACC,EAAE,EACd8a,IAAI,CAAC,CAAC,CAAC,CAACjU,OAAO,GAAGiU,IAAI,CAAC,CAAC,CAAC,CAACjU,OAAO,GAAG,EAAE,CACzC,EACD;QACI+b,KAAK,EAAE;UACHgB,KAAK,EAAE;;OAEd,CACJ;;EAET;EAEA;EACQkP,WAAWA,CAACtzB,IAAU;IAC1B,IAAIk3B,KAAK,CAACC,OAAO,CAACn3B,IAAI,CAAC,EAAE;MACrB,OAAOA,IAAI;;IAEf,IAAIiH,KAAK,GAAG,CAACjH,IAAI,CAAC;IAClB,IAAIA,IAAI,IAAI,IAAI,EAAE;MACdiH,KAAK,GAAG,IAAI,CAACkrB,QAAQ,CAACC,WAAW,CAACpV,YAAY,EAAE,CAACC,QAAQ;;IAE7D,OAAOhW,KAAK;EAChB;EAEQmuB,WAAWA,CAACjJ,IAAa;IAC7B,KAAK,MAAM8F,MAAM,IAAI9F,IAAI,CAAC3X,MAAM,CAAC2b,aAAa,EAAE;MAC5C,IAAI,CAACnwB,IAAI,CACJ2H,eAAe,CAACsqB,MAAM,CAACzxB,EAAE,CAAC,CAC1BC,SAAS,CAAET,IAAiB,IAAK,IAAI,CAACmwB,aAAa,CAAC/tB,IAAI,CAACpC,IAAI,CAACA,IAAI,CAAC,CAAC;;EAEjF;EAEA2oB,OAAOA,CAACC,IAAc;IAClB,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACzQ,WAAW,GAAG,IAAI;IACvB,IAAI,CAACse,OAAO,CAAC7N,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAC9B,IAAI,CAACwO,YAAY,CAACC,UAAU,EAAE;EAClC;EAEAd,YAAYA,CAACtvB,KAAa;IACtB,IAAI,CAACkrB,QAAQ,EAAEC,WAAW,CAACpV,YAAY,EAAE,CAACI,KAAK,EAAE;IACjD,IAAI,CAAC+U,QAAQ,EAAEC,WAAW,CAACpV,YAAY,EAAE,CAACsa,MAAM,CAAC,GAAGrwB,KAAK,CAAC;IAC1D,IAAI,CAACswB,eAAe,EAAE;EAC1B;EAEQA,eAAeA,CAAA;IACnB,IAAI,CAAC9H,cAAc,CACd+H,UAAU,EAAE,CACZC,oBAAoB,CAAC,IAAI,CAACtF,QAAQ,EAAEC,WAAW,CAACpV,YAAY,EAAE,CAACC,QAAQ,EAAEnhB,MAAM,GAAG,CAAC,CAAC;EAC7F;EAEQ47B,aAAaA,CAAA;IACjB,IAAI,CAACxxB,SAAS,CAACF,WAAW,GAAG,IAAI;IACjC,IAAI,CAACE,SAAS,CAAC4B,iBAAiB,CAACjP,IAAI,CAAC,IAAI,CAAC;EAC/C;EAEQo9B,aAAaA,CAACz1B,EAAU,EAAE;IAAE01B,UAAU,GAAG;EAAK,CAAE,GAAG,EAAE;IACzD,IAAI,CAACO,OAAO,CAAC,IAAI,CAAC7N,IAAI,EAAEpoB,EAAE,EAAE,IAAI,EAAE;MAAE01B;IAAU,CAAE,CAAC;EACrD;EAEA1I,YAAYA,CAAChC,KAAa;IACtB,IAAI,CAACiL,OAAO,CAAC,IAAI,CAAC7N,IAAI,EAAE,IAAI,EAAE4C,KAAK,CAAC;EACxC;EAEQ2K,sBAAsBA,CAACpC,MAAA,GAAc,IAAI;IAC7C,IAAIvzB,EAAE,GAAGuzB,MAAM,EAAEvzB,EAAE;IACnB,IAAI,CAACk3B,aAAa,EAAE;IACpB,IAAI,CAACl3B,EAAE,EAAE;MACL,IAAI,CAACsnB,IAAI,GAAG,EAAE;MACd,IAAI,CAACsH,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;MAC9CtnB,EAAE,GAAG,IAAI,CAAC8mB,uBAAuB,EAAE;MACnC,IAAI,IAAI,CAACsB,IAAI,KAAK,SAAS,EAAE;QACzB,IAAI,CAACmG,aAAa,GAAG,KAAK;QAC1B;QACA;;KAEP,MAAM;MACH,IAAI,CAACjC,gBAAgB,GAAGtsB,EAAE;MAC1B,IAAIA,EAAE,KAAK1I,mEAAa,CAAC82B,QAAQ,EAAE;QAC/B,IAAI,CAAC9B,gBAAgB,GAAG,IAAI;QAC5B,IAAI,CAAChF,IAAI,GAAG,EAAE;OACjB,MAAM;QACH,IAAI,CAAC9nB,IAAI,CAAC23B,cAAc,CAACn3B,EAAE,EAAE,KAAK,EAAE,CAAC1I,mEAAa,CAAC8P,GAAG,CAAC,CAAC,CAACnH,SAAS,CAC7DpH,IAAc,IAAI;UACf,IAAI,IAAI,CAACuvB,IAAI,KAAK,SAAS,EAAE;YACzB,IAAI,CAACd,IAAI,GAAG,EAAE;YACd,IAAI,CAACsH,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;YAC9C,IAAI,CAACiH,aAAa,GAAG,KAAK;WAC7B,MAAM;YACH,IAAI,CAACjH,IAAI,GAAGzuB,IAAI,CAAC4N,KAAK,CAAC8K,OAAO,EAAE;YAChC,IAAI,CAACqd,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;;UAElD,IAAI,CAACgF,gBAAgB,GAAG,IAAI;QAChC,CAAC,EACA/kB,KAAU,IAAI;UACX,IAAI,CAAC+kB,gBAAgB,GAAG,IAAI;UAC5B,IAAI,CAAChF,IAAI,GAAG,EAAE;UACd,IAAI,CAACsH,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;QAClD,CAAC,CACJ;;;IAGT,IAAI,IAAI,CAACkG,aAAa,EAAEztB,GAAG,CAACC,EAAE,KAAKA,EAAE,EAAE;MACnC,IAAI,CAACwtB,aAAa,GAAG,IAAI;;IAE7B,IAAI,CAACa,WAAW,GAAG,IAAI;IACvB,MAAMjG,IAAI,GAAG,CAACpoB,EAAE,IAAI6pB,sBAAsB,CAACsE,iBAAiB,CAACrrB,OAAO,CAAC9C,EAAE,CAAC,KAAK,CAAC,CAAC;IAC/E,IAAI,CAACooB,IAAI,EAAE;MACP,IAAI,CAACiO,YAAY,GAAG,KAAK;MACzB,IAAI,CAAC72B,IAAI,CAAC2H,eAAe,CAACnH,EAAE,CAAC,CAACC,SAAS,CAClCpH,IAAiB,IAAI;QAClB,IAAI,CAACq2B,GAAG,CACHkI,MAAM,CACHv+B,IAAI,CAAC2G,IAAI,CAAC63B,WAAW,GAAGx+B,IAAI,CAAC2G,IAAI,CAAC63B,WAAW,GAAG//B,mEAAa,CAACggC,OAAO,CACxE,CACAr3B,SAAS,CAAEivB,GAAQ,IAAI;UACpB,IAAIA,GAAG,CAACsC,MAAM,EAAE;YACZ,IAAI,CAACnD,WAAW,GAAG,CAACa,GAAG,CAACsC,MAAM,CAAC+F,YAAY;YAC3C,IAAI,CAAC,IAAI,CAAClJ,WAAW,EAAE;;QAG/B,CAAC,CAAC;QACN,IAAI,CAACmJ,kBAAkB,CAACjE,MAAM,EAAE16B,IAAI,CAAC2G,IAAI,CAAC;QAC1C,IAAI,CAAC+uB,aAAa,GACd,CAAC,IAAI,CAAC5W,WAAW,IACjB,IAAI,CAACtW,UAAU,CAACo2B,aAAa,CACzB,CAAC5+B,IAAI,CAAC2G,IAAI,CAAC,EACXlI,mEAAa,CAACogC,mBAAmB,CACpC,GACK,IAAI,GACJ,YAAY;QACtB,IAAI,CAACpB,gBAAgB,GAAG,qCAAqC;QAC7D,IAAI,CAACqB,qBAAqB,EAAE;MAChC,CAAC,EACApwB,KAAU,IAAI;QACX,IAAI,CAACiwB,kBAAkB,CAACjE,MAAM,EAAE;UAAExzB,GAAG,EAAE;YAAEC;UAAE;QAAE,CAAE,CAAC;MACpD,CAAC,CACJ;KACJ,MAAM;MACH,IAAI,CAACq2B,YAAY,GAAG,IAAI;MACxB,IACIr2B,EAAE,KAAK,mBAAmB,IAC1BA,EAAE,KAAK,+BAA+B,IACtCA,EAAE,KAAK,sBAAsB,EAC/B;QACE,IAAI,CAACq2B,YAAY,GAAG,KAAK;;MAE7B,IAAIr2B,EAAE,KAAK1I,mEAAa,CAAC82B,QAAQ,EAAE;QAC/B,IAAI,CAACG,aAAa,GAAG,IAAI;OAC5B,MAAM,IAAI,IAAI,CAACnG,IAAI,KAAK,SAAS,EAAE;QAChC,IAAI,CAACmG,aAAa,GAAG,KAAK;OAC7B,MAAM;QACH,IAAI,CAACA,aAAa,GAAG,YAAY;QACjC,IAAI,CAAC+H,gBAAgB,GAAG,iCAAiC;;MAE7D,MAAM92B,IAAI,GAAe;QACrBO,GAAG,EAAE;UACDC;SACH;QACDnB,IAAI,EAAE,IAAI,CAAC8B,SAAS,CAAC0R,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC+V,IAAI;OACxD;MACD,IAAI,IAAI,CAACA,IAAI,KAAK,UAAU,EAAE;QAC1B5oB,IAAI,CAACqD,MAAM,GAAG,CAACvL,mEAAa,CAACogC,mBAAmB,CAAC;;MAErD,IAAI,CAACF,kBAAkB,CAACjE,MAAM,EAAE/zB,IAAI,CAAC;;EAE7C;EAEAwmB,QAAQA,CAACxmB,IAAU,EAAEo4B,YAAY,GAAG,IAAI;IACpC,IAAI,IAAI,CAACv2B,UAAU,CAACw2B,mBAAmB,CAACr4B,IAAI,CAAC,EAAE;MAC3C8J,+DAAQ,CAACwuB,iBAAiB,CAAC,IAAI,CAACjyB,MAAM,EAAE,IAAI,EAAErG,IAAI,CAAC;KACtD,MAAM,IAAIgrB,qEAAe,CAACuN,WAAW,CAACv4B,IAAI,CAAC,EAAE;MAC1C,IAAI,CAACgwB,WAAW,CAACwI,aAAa,CAACx4B,IAAI,CAAC;KACvC,MAAM,IAAIo4B,YAAY,IAAI,IAAI,CAAC9I,UAAU,CAACmJ,qBAAqB,CAACz4B,IAAI,CAAC,EAAE;MACpE,IAAI,CAACkzB,aAAa,CAAClzB,IAAI,CAAC;KAC3B,MAAM;MACH,IAAI,CAACoU,WAAW,CAACpU,IAAI,CAAC;;EAE9B;EAEAurB,cAAcA,CAACkI,QAAgB;IAC3B,IAAI,CAACtb,WAAW,GAAG,IAAI;IACvB,IAAIsb,QAAQ,GAAG,CAAC,EAAE;MACd;IAAA,CACH,MAAM;MACH;MACA,IACItO,+DAAS,CAACuT,kBAAkB,CACxBzzB,4DAAW,CAAC0zB,qBAAqB,EACjC1zB,4DAAW,CAAC2zB,uBAAuB,CACtC,EACH;QACE,IAAI,CAACjN,cAAc,GAAG,IAAI;OAC7B,MAAM;QACH,IAAI,CAAC8K,OAAO,CAAC,IAAI,CAAC7N,IAAI,CAAC;;;EAGnC;EAEQngB,OAAOA,CAACowB,WAAW,GAAG,IAAI,EAAE5xB,KAAA,GAAgB,IAAI;IACpD;IACA,IAAIA,KAAK,IAAIA,KAAK,CAACnL,MAAM,EAAE;MACvB,IAAI,CAACg9B,WAAW,CAAC7xB,KAAK,CAAC;MACvB;;IAEJ,MAAM0S,MAAM,GAAG,IAAI,CAACxB,WAAW;IAC/B,MAAM8Z,MAAM,GAAG,IAAI,CAACjE,aAAa;IACjC,IAAI,CAACA,aAAa,GAAG,IAAI;IACzB,IAAI,CAAC7V,WAAW,GAAG,IAAI;IACvB,MAAM2P,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,IAAI+Q,WAAW,EAAE;MACb,IAAI,CAAC/Q,IAAI,GAAG,EAAE;MACd,IAAI,CAACsH,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;;IAElDiR,UAAU,CAAC,MAAK;MACZ,IAAI,CAACjR,IAAI,GAAGA,IAAI;MAChB,IAAI,CAACsH,kBAAkB,CAAC2H,WAAW,CAAC,IAAI,CAACjP,IAAI,CAAC;MAC9C,IAAI,CAACkG,aAAa,GAAGiE,MAAM;MAC3B,IAAI,CAAC9Z,WAAW,GAAGwB,MAAM;IAC7B,CAAC,CAAC;EACN;EAEc8c,OAAOA,CACjB7N,IAAY,EACZ5oB,IAAA,GAAe,IAAI,EACnB2Z,MAAA,GAAiB,IAAI,EACrB;IAAEuc,UAAU,GAAG;EAAK,CAAE,GAAG,EAAE;IAAA,IAAA8C,MAAA;IAAA,OAAA74B,wLAAA;MAE3B,MAAM4zB,MAAM,SAASjqB,+DAAQ,CAACmvB,mBAAmB,CAACD,MAAI,CAACpJ,KAAK,CAAC,CAACje,SAAS,EAAE;MACzEoiB,MAAM,CAACnL,IAAI,GAAGA,IAAI;MAClBmL,MAAM,CAACvzB,EAAE,GAAGR,IAAI;MAChB+zB,MAAM,CAACvI,KAAK,GAAG7R,MAAM;MACrBoa,MAAM,CAAC1D,OAAO,GAAG2I,MAAI,CAAC3I,OAAO;MAC7B;MACA,IAAI2I,MAAI,CAAC/K,WAAW,KAAK,IAAI,EAAE;QAC3B8F,MAAM,CAAC9F,WAAW,GAAG+K,MAAI,CAAC/K,WAAW;;MAEzC,KAAK+K,MAAI,CAAC3yB,MAAM,CACX2B,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE;QAAEksB,WAAW,EAAEH,MAAM;QAAEmF,UAAU,EAAEF,MAAI,CAACpJ,KAAK;QAAEsG;MAAU,CAAE,CAAC,CAC7EiD,IAAI,CAAE3b,MAAe,IAAI;QACtB,IAAI,CAACA,MAAM,EAAE;UACTwb,MAAI,CAACvwB,OAAO,CAAC,KAAK,CAAC;;MAE3B,CAAC,CAAC;IAAC;EACX;EAEQ2tB,SAASA,CAAA;IACb,KAAK,IAAI,CAACjwB,OAAO,CAACW,iBAAiB,CAAC;MAChCxN,KAAK,EAAE,uBAAuB;MAC9ByN,OAAO,EAAE,yBAAyB;MAClCC,OAAO,EAAEkkB,mGAAE;MACXrP,QAAQ,EAAE/D,sFAAQ,CAACshB;KACtB,CAAC;EACN;EAEQC,eAAeA,CAACr5B,IAAU;IAC9B,MAAMiH,KAAK,GAAG,IAAI,CAACqsB,WAAW,CAACtzB,IAAI,CAAC;IACpC,IAAI,CAACs5B,oBAAoB,GAAGryB,KAAK;EACrC;EACQsyB,WAAWA,CAACv5B,IAAU;IAC1B,MAAMiH,KAAK,GAAG,IAAI,CAACqsB,WAAW,CAACtzB,IAAI,CAAC;IACpC,IAAI,CAACw5B,cAAc,GAAGvyB,KAAK;EAC/B;EACQwyB,aAAaA,CAACz5B,IAAU;IAC5B,MAAMiH,KAAK,GAAG,IAAI,CAACqsB,WAAW,CAACtzB,IAAI,CAAC;IACpC,IAAI,CAAC05B,WAAW,GAAGzyB,KAAK,CAAC,CAAC,CAAC;EAC/B;EAEQ0tB,SAASA,CAAA;IACb9qB,gEAAU,CAAC8qB,SAAS,CAAC,IAAI,CAACtuB,MAAM,EAAE,IAAI,CAACoK,MAAM,EAAE,IAAI,CAACsc,MAAM,GAAGj1B,mEAAa,CAACm9B,UAAU,GAAG,EAAE,CAAC;EAC/F;EAEA0E,eAAeA,CAAA;IACX,IAAI,IAAI,CAAC/Q,IAAI,KAAK,UAAU,EAAE;MAC1B,OAAO9wB,mEAAa,CAAC82B,QAAQ;;IAEjC,IAAI,IAAI,CAAChG,IAAI,KAAK,cAAc,EAAE;MAC9B,OAAO9wB,mEAAa,CAACswB,YAAY;;IAErC,IAAI,IAAI,CAACQ,IAAI,KAAK,iBAAiB,EAAE;MACjC,OAAO9wB,mEAAa,CAACuwB,eAAe;;IAExC,IAAI,IAAI,CAACO,IAAI,KAAK,oBAAoB,EAAE;MACpC,OAAO9wB,mEAAa,CAACwwB,kBAAkB;;IAE3C,IAAI,IAAI,CAACM,IAAI,KAAK,kBAAkB,EAAE;MAClC,OAAO9wB,mEAAa,CAACywB,gBAAgB;;IAEzC,OAAO,EAAE;EACb;EAEAjB,uBAAuBA,CAAA;IACnB,IAAI,IAAI,CAACsB,IAAI,KAAK,oBAAoB,EAAE;MACpC,IAAI,IAAI,CAACgR,gBAAgB,EAAE;QACvB,OAAO9hC,mEAAa,CAACwwB,kBAAkB;OAC1C,MAAM;QACH,OAAOxwB,mEAAa,CAAC+hC,2BAA2B;;;IAGxD,OAAO,IAAI,CAACF,eAAe,EAAE;EACjC;EAEAG,OAAOA,CAAA;IACH,IAAI,CAACvJ,YAAY,GAAG,IAAI;EAC5B;EAEQ4H,qBAAqBA,CAAA;IACzB4B,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAClK,OAAO,CAACzS,GAAG,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;EAC/D;EAEQ4c,SAASA,CAACj6B,IAAU,EAAEk6B,KAAK,GAAG,KAAK;IACvC;;;;;;;;;;;;;IAaA,IAAI,CAACr4B,UAAU,CAACs4B,YAAY,CAACn6B,IAAI,EAAE,IAAI,CAAC41B,KAAK,CAAC;EAClD;EAEQoC,kBAAkBA,CAACjE,MAAW,EAAE/zB,IAAgB;IACpD,IAAI,CAAC,IAAI,CAACywB,WAAW,CAAC2J,MAAM,EAAE;MAC1B,IAAI,CAAC3J,WAAW,CAAC4J,IAAI,EAAE;;IAE3B,IAAItG,MAAM,EAAEvI,KAAK,EAAE;MACf,IAAI,CAACoL,iBAAiB,CAAC7C,MAAM,EAAE/zB,IAAI,CAAC;KACvC,MAAM;MACH,IAAI,CAACmY,WAAW,GAAG,IAAI;MACvB,IAAI,CAAC6V,aAAa,GAAGhuB,IAAI;MACzB,IAAI,CAACwG,KAAK,CAAC8zB,cAAc,CACrBvP,wEAAkB,CAACwP,wBAAwB,EAC3C,IAAI,CAACvM,aAAa,CACrB;;EAET;EAEQwM,yBAAyBA,CAAA;IAC7B,MAAMC,IAAI,GAAG,IAAI,CAAC3K,OAAO,CAACzS,GAAG,CAAC,qBAAqB,CAAoB;IACvE,OACI,IAAI,CAAC2Q,aAAa,IAClB,CAAC,IAAI,CAAC7V,WAAW,IACjBsiB,IAAI,KACH,CAACA,IAAI,CAACC,UAAU,IACbD,IAAI,CAACC,UAAU,CAACn6B,GAAG,CAACC,EAAE,KAAK,IAAI,CAACwtB,aAAa,CAACztB,GAAG,CAACC,EAAE,IACpDi6B,IAAI,CAAC7G,IAAI,CAAC,IACd,IAAI,CAAC7E,aAAa;EAE1B;EAEQ+J,WAAWA,CAAC7xB,KAAa;IAC7B,KAAK,IAAIjH,IAAI,IAAI,IAAI,CAAC8Z,UAAU,CAAChN,OAAO,EAAE,EAAE;MACxC,MAAM6tB,GAAG,GAAG1zB,KAAK,CAAC2C,MAAM,CAAEgxB,CAAC,IAAKA,CAAC,CAACr6B,GAAG,CAACC,EAAE,KAAKR,IAAI,CAACO,GAAG,CAACC,EAAE,CAAC;MACzD,IAAIm6B,GAAG,IAAIA,GAAG,CAAC7+B,MAAM,KAAK,CAAC,EAAE;QACzBkjB,4DAAM,CAAC6b,oBAAoB,CAAC76B,IAAI,EAAE26B,GAAG,CAAC,CAAC,CAAC,CAAC;;;EAGrD;EAEMxF,gBAAgBA,CAAA;IAAA,IAAA2F,MAAA;IAAA,OAAA36B,wLAAA;MAClB26B,MAAI,CAAClB,gBAAgB,SAASkB,MAAI,CAACjL,OAAO,CACrCxS,GAAG,CAAC,iBAAiB,EAAEyd,MAAI,CAACrqB,MAAM,CAACoC,OAAO,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC,CACnFlB,SAAS,EAAE;MAChB,MAAMmM,MAAM,GAAG,IAAIpG,2DAAU,CACzB,6BAA6B,EAC7BojB,MAAI,CAAClB,gBAAgB,GAAG,2BAA2B,GAAG,+BAA+B,EACrF,MAAK;QACDkB,MAAI,CAAClB,gBAAgB,GAAG,CAACkB,MAAI,CAAClB,gBAAgB;QAC9C9b,MAAM,CAACnB,IAAI,GAAGme,MAAI,CAAClB,gBAAgB,GAC7B,2BAA2B,GAC3B,+BAA+B;QACrCkB,MAAI,CAACjL,OAAO,CAAC5T,GAAG,CAAC,iBAAiB,EAAE6e,MAAI,CAAClB,gBAAgB,CAAC;QAC1DkB,MAAI,CAAC3E,sBAAsB,EAAE;QAC7B;QACA2E,MAAI,CAACx0B,KAAK,CAACA,KAAK,CACZ,+BAA+B,IAAIw0B,MAAI,CAAClB,gBAAgB,GAAG,KAAK,GAAG,UAAU,CAAC,CACjF;MACL,CAAC,CACJ;MACD9b,MAAM,CAACid,QAAQ,GAAG,IAAI;MACtBjd,MAAM,CAACtD,KAAK,GAAGjD,8DAAa,CAACyjB,OAAO;MACpCld,MAAM,CAAChD,WAAW,GAAG,CAACtD,4DAAW,CAACyjB,OAAO,CAAC;MAC1Cnd,MAAM,CAACod,QAAQ,GAAG,CAAC;MACnBpd,MAAM,CAACqd,kBAAkB,gBAAAh7B,wLAAA,CAAG,aAAW;QACnC,OAAO26B,MAAI,CAAClS,IAAI,KAAK,oBAAoB;MAC7C,CAAC;MACDkS,MAAI,CAACrf,aAAa,CAACxB,UAAU,GAAG,CAAC6D,MAAM,CAAC;IAAC;EAC7C;EAEQuT,wBAAwBA,CAAA;IAC5B,OACIlT,wEAAuB,CAACid,uBAAuB,IAC9C,IAAI,CAACrO,MAAM,GAAGj1B,mEAAa,CAACm9B,UAAU,GAAG,EAAE,CAAC;EAErD;EAEA7H,cAAcA,CAACa,WAAmC,EAAEoN,YAAY,GAAG,IAAI;IACnE,IAAI,IAAI,CAACpN,WAAW,KAAKA,WAAW,EAAE;MAClC;;IAEJ,IAAI,CAACA,WAAW,GAAGA,WAAW;IAC9B,IAAIoN,YAAY,EAAE;MACd,KAAK,IAAI,CAACh1B,MAAM,CAAC2B,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE;QAC9BkxB,UAAU,EAAE,IAAI,CAACtJ,KAAK;QACtBsG,UAAU,EAAE,IAAI;QAChBoF,mBAAmB,EAAE,OAAO;QAC5BpH,WAAW,EAAE;UACT,CAACjvB,4DAAW,CAAC0wB,0BAA0B,GAAG1H;;OAEjD,CAAC;;EAEV;EAEMsE,gBAAgBA,CAAA;IAAA,IAAAgJ,MAAA;IAAA,OAAAp7B,wLAAA;MAClB,MAAM0G,SAAS,SAAS00B,MAAI,CAACp1B,OAAO,CAACW,iBAAiB,CAAC;QACnDxN,KAAK,EAAE,+BAA+B;QACtCyN,OAAO,EACH,OAAOw0B,MAAI,CAACp6B,SAAS,CAACkc,GAAG,CAACke,MAAI,CAACzE,gBAAgB,CAAC,CAACnlB,SAAS,EAAE,IAC5D,IAAI,UACG4pB,MAAI,CAACp6B,SAAS,CAACkc,GAAG,CAAC,iCAAiC,CAAC,CAAC1L,SAAS,EAAE,CAAC;QAC7E3K,OAAO,EAAE,CACL;UACIw0B,KAAK,EAAE,sBAAsB;UAC7B/qB,MAAM,EAAE;YAAEgrB,KAAK,EAAE,SAAS;YAAEhI,QAAQ,EAAE;UAAU;SACnD,EACD;UAAE+H,KAAK,EAAE,OAAO;UAAE/qB,MAAM,EAAE;YAAEgrB,KAAK,EAAE;UAAU;QAAE,CAAE;OAExD,CAAC;MACF50B,SAAS,CAACK,WAAW,EAAE,CAACzG,SAAS,CAAE0G,QAAQ,IAAI;QAC3C,IAAIA,QAAQ,KAAK,sBAAsB,EAAE;UACrCo0B,MAAI,CAACtF,aAAa,CAACn+B,mEAAa,CAAC82B,QAAQ,CAAC;;MAElD,CAAC,CAAC;IAAC;EACP;EAEA1G,aAAaA,CAACjhB,KAAa;IACvB,IAAI,CAACd,OAAO,CAACu1B,qBAAqB,CAAC;MAAEz0B;IAAK,CAAE,CAAC;IAC7C;EACJ;EAAC,QAAAme,EAAA;qBAx+BQiF,sBAAsB,EAAAlyB,gEAAA,CAAAuL,oEAAA,GAAAvL,gEAAA,CAAA0L,mGAAA,GAAA1L,gEAAA,CAAA4L,gEAAA,GAAA5L,gEAAA,CAAA8L,0EAAA,GAAA9L,gEAAA,CAAA8L,0EAAA,GAAA9L,gEAAA,CAAA8L,2EAAA,GAAA9L,gEAAA,CAAA0Q,8EAAA,GAAA1Q,gEAAA,CAAA8L,wEAAA,GAAA9L,gEAAA,CAAA8L,oEAAA,GAAA9L,gEAAA,CAAA4Q,8FAAA,GAAA5Q,gEAAA,CAAAuL,mEAAA,GAAAvL,gEAAA,CAAA8jC,8EAAA,GAAA9jC,gEAAA,CAAA8L,oEAAA,GAAA9L,gEAAA,CAAAA,kDAAA,GAAAA,gEAAA,CAAA8L,qEAAA,GAAA9L,gEAAA,CAAAytB,6EAAA,GAAAztB,gEAAA,CAAAkkC,4DAAA,GAAAlkC,gEAAA,CAAAkkC,oDAAA,GAAAlkC,gEAAA,CAAAokC,mGAAA,GAAApkC,gEAAA,CAAA8L,2EAAA,GAAA9L,gEAAA,CAAAuL,wEAAA,GAAAvL,gEAAA,CAAAskC,6DAAA,GAAAtkC,gEAAA,CAAAwkC,mDAAA,GAAAxkC,gEAAA,CAAA8L,qEAAA,GAAA9L,gEAAA,CAAAykC,kEAAA,GAAAzkC,gEAAA,CAAAuL,oEAAA,GAAAvL,gEAAA,CAAAskC,+DAAA,GAAAtkC,gEAAA,CAAA2kC,kEAAA,GAAA3kC,gEAAA,CAAA8L,+DAAA,GAAA9L,gEAAA,CAAA6kC,iEAAA;EAAA;EAAA,QAAAC,EAAA;UAAtB5S,sBAAsB;IAAAjmB,SAAA;IAAA8S,SAAA,WAAAgmB,6BAAAt4B,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;mEAoBpBijB,wEAAsB;mEACtBzO,4EAAoB;;;;;;;;;;;;;;iBArBtBvU,GAAA,CAAAysB,mBAAA,CAAAjsB,MAAA,CAA2B;QAAA,UAAAlN,8DAAA;;;;;;;;QCrFxCA,6DAAA,aAAmE;QAG7DA,yDAAA,IAAAilC,gDAAA,4BAOkB;QAClBjlC,wDAAA,4BAAwC;QAC1CA,2DAAA,EAAM;QAERA,yDAAA,IAAAklC,qCAAA,iBAEM;QACNllC,yDAAA,IAAAmlC,qCAAA,kBAiFM;QACNnlC,yDAAA,IAAAolC,oDAAA,gCAAgE;QAClEplC,2DAAA,EAAM;QAENA,wDAAA,0BAA2C;;;QAtGZA,yDAAA,oCAAmC;QAIzDA,wDAAA,GAAgB;QAAhBA,yDAAA,SAAA0M,GAAA,CAAA4pB,UAAA,CAAgB;QAUjBt2B,wDAAA,GAAe;QAAfA,yDAAA,SAAA0M,GAAA,CAAAyrB,SAAA,CAAe;QAGfn4B,wDAAA,GAAgB;QAAhBA,yDAAA,UAAA0M,GAAA,CAAAyrB,SAAA,CAAgB;QAkFDn4B,wDAAA,GAAoB;QAApBA,yDAAA,SAAA0M,GAAA,CAAA2pB,cAAA,CAAoB;;;;;iBDtB3B,CACRzpB,6DAAO,CAAC,MAAM,EAAEC,4DAAW,CAACw4B,IAAI,EAAE,CAAC,EACnCz4B,6DAAO,CAAC,UAAU,EAAEC,4DAAW,CAACw4B,IAAI,CAACx4B,4DAAW,CAACkhB,mBAAmB,CAAC,CAAC,EACtEnhB,6DAAO,CAAC,SAAS,EAAEC,4DAAW,CAACihB,WAAW,CAACjhB,4DAAW,CAACkhB,mBAAmB,CAAC,CAAC,EAC5EnhB,6DAAO,CAAC,UAAU,EAAEC,4DAAW,CAACy4B,QAAQ,EAAE,CAAC,EAC3C14B,6DAAO,CAAC,WAAW,EAAEC,4DAAW,CAACqE,SAAS,EAAE,CAAC;IAChD;EAAA;;AA6+BL,SAASirB,OAAOA,CAAIjkB,KAAS;EACzB,OAAOA,KAAK,KAAKqtB,SAAS,IAAIrtB,KAAK,KAAK,IAAI;AAChD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjkC0D;AACiB;AACW;AACL;AACN;AACR;AACO;AACX;AACc;AACT;;;;;;;;;;;AAgB9D,MAAOwtB,mBAAmB;EAAA,QAAAr6B,CAAA;qBAAnBq6B,mBAAmB;EAAA;EAAA,QAAA15B,EAAA;UAAnB05B;EAAmB;EAAA,QAAAzY,EAAA;cAHlBuY,+DAAY,EAAEnT,sFAA0B;EAAA;;;uHAGzCqT,mBAAmB;IAAAC,YAAA,GAZxB73B,0FAAwB,EACxBmT,4EAAoB,EACpBwkB,oFAA0B,EAC1B79B,+FAA+B,EAC/BmQ,oFAA0B,EAC1Bma,6EAAsB,EACtBpI,mFAAyB,EACzB4F,wEAAsB;IAAA6C,OAAA,GAEhBiT,+DAAY,EAAEnT,sFAA0B;IAAAG,OAAA,GACxC5qB,+FAA+B;EAAA;AAAA;mEALrCsqB,6EAAsB,GAAA3mB,uGAAA,EAAAG,kDAAA,EAAAE,gEAAA,EAAAE,mEAAA,EAAAA,8DAAA,EAAA4E,kHAAA,EAAAE,0FAAA,EAAAkzB,+EAAA,EAAArW,mGAAA,EALtB3f,0FAAwB,EACxBmT,4EAAoB,EACpBwkB,oFAA0B,EAK1B/V,wEAAsB,IAAAhkB,uDAAA,EAAAw4B,+DAAA","sources":["./src/app/pages/workspace-page/metadata/metadata-block.component.ts","./src/app/pages/workspace-page/metadata/metadata-block.component.html","./src/app/pages/workspace-page/metadata/metadata-sidebar.component.ts","./src/app/pages/workspace-page/metadata/metadata-sidebar.component.html","./src/app/pages/workspace-page/metadata/metadata.component.ts","./src/app/pages/workspace-page/metadata/metadata.component.html","./src/app/pages/workspace-page/recycle/recycle.component.ts","./src/app/pages/workspace-page/recycle/recycle.component.html","./src/app/pages/workspace-page/sub-tree/sub-tree.component.ts","./src/app/pages/workspace-page/sub-tree/sub-tree.component.html","./src/app/pages/workspace-page/tree/tree.component.ts","./src/app/pages/workspace-page/tree/tree.component.html","./src/app/pages/workspace-page/workspace-page-routing.module.ts","./src/app/pages/workspace-page/workspace-page.component.ts","./src/app/pages/workspace-page/workspace-page.component.html","./src/app/pages/workspace-page/workspace-page.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n    ConfigurationHelper,\n    Node,\n    NodePermissions,\n    Permission,\n    RestConnectorService,\n    RestConstants,\n    RestNodeService,\n} from '../../../core-module/core.module';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DurationHelper, FormatDatePipe, NodeImageSizePipe, VCard } from 'ngx-edu-sharing-ui';\nimport { NodeHelperService } from '../../../services/node-helper.service';\nimport { ConfigService } from 'ngx-edu-sharing-api';\n\n// Charts.js\ndeclare var Chart: any;\n\n@Component({\n    selector: 'es-workspace-metadata-block',\n    templateUrl: 'metadata-block.component.html',\n    styleUrls: ['metadata-block.component.scss'],\n})\nexport class WorkspaceMetadataBlockComponent {\n    @Input() set node(node: Node) {\n        this.load(node);\n    }\n    @Output() onEditMetadata = new EventEmitter();\n    @Output() onDisplay = new EventEmitter();\n    permissions: any;\n    data: any;\n    _node: Node;\n\n    private async load(node: Node) {\n        this._node = node;\n        this.data = await this.format(node);\n        this.nodeApi.getNodePermissions(node.ref.id).subscribe((data: NodePermissions) => {\n            this.permissions = this.formatPermissions(data);\n        });\n    }\n    private format(node: Node): any {\n        const data: any = {};\n        data.name = node.name;\n        data.title = node.title;\n        data.isDirectory = node.isDirectory;\n        data.isCollection = node.collection != null;\n        data.description = node.properties[RestConstants.LOM_PROP_GENERAL_DESCRIPTION];\n        data.preview = node.preview.url;\n        data.keywords = node.properties[RestConstants.LOM_PROP_GENERAL_KEYWORD];\n        if (data.keywords && data.keywords.length === 1 && !data.keywords[0]) data.keywords = null;\n        // data[\"creator\"]=node.properties[RestConstants.CM_CREATOR];\n        data.creator = ConfigurationHelper.getPersonWithConfigDisplayName(\n            node.createdBy,\n            this.configService,\n        );\n        data.createDate = new FormatDatePipe(this.translate).transform(node.createdAt);\n        data.duration = DurationHelper.getDurationFormatted(\n            node.properties[RestConstants.LOM_PROP_TECHNICAL_DURATION],\n        );\n        data.author = this.toVCards(\n            node.properties[RestConstants.CCM_PROP_LIFECYCLECONTRIBUTER_AUTHOR],\n        ).join(', ');\n        data.author_freetext = node.properties[RestConstants.CCM_PROP_AUTHOR_FREETEXT]\n            ? node.properties[RestConstants.CCM_PROP_AUTHOR_FREETEXT][0]\n            : null;\n        data.mediatype = node.mediatype === 'file' ? node.mimetype : node.mediatype;\n        data.mimetype = node.mimetype;\n        data.size = node.size;\n        if (node.properties[RestConstants.EXIF_PROP_DATE_TIME_ORIGINAL]) {\n            data.exifDate = new FormatDatePipe(this.translate).transform(\n                node.properties[RestConstants.EXIF_PROP_DATE_TIME_ORIGINAL][0],\n            );\n        }\n\n        data.dimensions = new NodeImageSizePipe().transform(node);\n\n        data.license = this.nodeHelper.getLicenseIcon(node);\n        data.licenseName = this.nodeHelper.getLicenseName(node);\n\n        data.properties = [];\n        data.aspects = node.aspects.sort();\n\n        for (const k of Object.keys(node.properties).sort()) {\n            data.properties.push([k, node.properties[k].join(', ')]);\n        }\n        return data;\n    }\n    constructor(\n        public connector: RestConnectorService,\n        private nodeApi: RestNodeService,\n        private translate: TranslateService,\n        private configService: ConfigService,\n        private nodeHelper: NodeHelperService,\n    ) {}\n    isAnimated() {\n        return this.nodeHelper.hasAnimatedPreview(this._node);\n    }\n    private formatPermissions(permissions: NodePermissions): any {\n        const currentAuth = this.connector.getCurrentLogin()?.authorityName;\n        const data: any = {};\n        data.users = [];\n        data.groups = [];\n        if (!permissions.permissions) return data;\n        for (const permission of permissions.permissions.inheritedPermissions) {\n            if (\n                permission.authority.authorityName === currentAuth ||\n                permission.authority.authorityType === RestConstants.AUTHORITY_TYPE_OWNER\n            ) {\n            } else if (permission.authority.authorityType === RestConstants.AUTHORITY_TYPE_USER) {\n                data.users.push(permission);\n            } else {\n                data.groups.push(permission);\n            }\n        }\n        for (const permission of permissions.permissions.localPermissions.permissions) {\n            if (\n                permission.authority.authorityName === currentAuth ||\n                permission.authority.authorityType === RestConstants.AUTHORITY_TYPE_OWNER\n            ) {\n            } else if (permission.authority.authorityType === RestConstants.AUTHORITY_TYPE_USER) {\n                if (!this.containsPermission(data.groups, permission)) data.users.push(permission);\n            } else {\n                if (!this.containsPermission(data.groups, permission)) data.groups.push(permission);\n            }\n        }\n        return data;\n    }\n\n    toVCards(properties: any[]) {\n        const vcards: string[] = [];\n        if (properties) {\n            for (const p of properties) {\n                vcards.push(new VCard(p).getDisplayName());\n            }\n        }\n        return vcards;\n    }\n\n    containsPermission(permissions: Permission[], permission: Permission) {\n        for (const perm of permissions) {\n            if (perm.authority.authorityName == permission.authority.authorityName) return true;\n        }\n        return false;\n    }\n    canEdit() {\n        return this._node && this._node.access.indexOf(RestConstants.ACCESS_WRITE) !== -1;\n    }\n}\n","<ng-container *ngIf=\"data\">\n  <img\n    class=\"preview clickable\"\n    (click)=\"onDisplay.emit(_node)\"\n    [src]=\"\n      _node | esNodeImage : (isAnimated() ? {} : { crop: true, width: 600, height: 450 }) | async\n    \"\n  />\n  <div class=\"metadata-container\">\n    <button mat-icon-button class=\"edit\" (click)=\"onEditMetadata.emit(_node)\" *ngIf=\"canEdit()\">\n      <i class=\"material-icons\">edit</i>\n    </button>\n    <div class=\"metadata\">\n      <div class=\"description\">{{ 'NODE.cm:name' | translate }}</div>\n      <div class=\"value\">{{ data.name }}</div>\n      <div class=\"description\" *ngIf=\"data.title\">{{ 'NODE.cclom:title' | translate }}</div>\n      <div class=\"value\" *ngIf=\"data.title\">{{ data.title }}</div>\n      <div class=\"description\" *ngIf=\"data.keywords\">\n        {{ 'NODE.cclom:general_keyword' | translate }}\n      </div>\n      <div class=\"value\" *ngIf=\"data.keywords\">\n        <div class=\"badge\" *ngFor=\"let keyword of data.keywords\">\n          <span class=\"text\">{{ keyword }}</span>\n        </div>\n      </div>\n      <div class=\"description\" *ngIf=\"data.description\">{{ 'NODE.description' | translate }}</div>\n      <div class=\"value descriptionValue\" *ngIf=\"data.description\">{{ data.description }}</div>\n      <div class=\"description\" *ngIf=\"data.author_freetext\">\n        {{ 'NODE.ccm:author_freetext' | translate }}\n      </div>\n      <div class=\"value valueFreetext\" *ngIf=\"data.author_freetext\">{{ data.author_freetext }}</div>\n      <div class=\"description\" *ngIf=\"data.author\">\n        {{ 'NODE.ccm:lifecyclecontributer_authorFN' | translate }}\n      </div>\n      <div class=\"value\" *ngIf=\"data.author\">{{ data.author }}</div>\n      <div class=\"description\">{{ 'NODE.cm:creator' | translate }}</div>\n      <div class=\"value\">{{ data.creator }}<br />{{ data.createDate }}</div>\n      <div class=\"description\">{{ 'NODE.mimetype' | translate }}</div>\n      <div class=\"value\">\n        <span *ngIf=\"data.mediatype && !data.isDirectory\">{{\n          'MEDIATYPE.' + data.mediatype | translate\n        }}</span>\n        <span *ngIf=\"!data.mediatype\">{{ 'MEDIATYPE.file' | translate }}</span>\n        <span *ngIf=\"data.isDirectory && !data.isCollection\">{{\n          'MEDIATYPE.folder' | translate\n        }}</span>\n        <span *ngIf=\"data.isCollection\">{{ 'MEDIATYPE.collection' | translate }}</span>\n        <span\n          class=\"mimetype\"\n          *ngIf=\"data.mimetype && data.mediatype != data.mimetype && !data.isDirectory\"\n          >({{ data.mimetype }})</span\n        >\n      </div>\n      <div class=\"description\" *ngIf=\"data.exifDate\">\n        {{ 'NODE.exif:dateTimeOriginal' | translate }}\n      </div>\n      <div class=\"value\" *ngIf=\"data.exifDate\">{{ data.exifDate }}</div>\n      <div class=\"description\" *ngIf=\"data.dimensions\">{{ 'NODE.dimensions' | translate }}</div>\n      <div class=\"value\" *ngIf=\"data.dimensions\">{{ data.dimensions }}</div>\n      <div class=\"description\" *ngIf=\"data.duration\">{{ 'NODE.cclom:duration' | translate }}</div>\n      <div class=\"value\" *ngIf=\"data.duration\">{{ data.duration }}</div>\n      <div class=\"description\" *ngIf=\"!data.isDirectory\">{{ 'NODE.size' | translate }}</div>\n      <div class=\"value\" *ngIf=\"!data.isDirectory && data.size\">{{ data.size | formatSize }}</div>\n      <div class=\"value\" *ngIf=\"!data.isDirectory && !data.size\">{{ 'NO_SIZE' | translate }}</div>\n      <div *ngIf=\"permissions\">\n        <div class=\"description\" *ngIf=\"permissions.users.length\">\n          {{ 'WORKSPACE.METADATA.INVITED_USERS' | translate }}\n        </div>\n        <div class=\"value\" *ngIf=\"permissions.users.length\">\n          <div *ngFor=\"let authority of permissions.users\">{{ authority | permissionName }}</div>\n        </div>\n        <div class=\"description\" *ngIf=\"permissions.groups.length\">\n          {{ 'WORKSPACE.METADATA.INVITED_GROUPS' | translate }}\n        </div>\n        <div class=\"value\" *ngIf=\"permissions.groups.length\">\n          <div *ngFor=\"let authority of permissions.groups\">{{ authority | permissionName }}</div>\n        </div>\n      </div>\n      <div class=\"description\" *ngIf=\"data.license\">\n        {{ 'NODE.ccm:commonlicense_key' | translate }}\n      </div>\n      <div class=\"value license-value\" *ngIf=\"data.license | async as license\">\n        <img class=\"license\" [src]=\"license\" />\n        <div class=\"licenseName\">{{ data.licenseName }}</div>\n      </div>\n      <div *ngIf=\"connector.getCurrentLogin()?.isAdmin\">\n        <div class=\"description\">{{ 'Aspects' }}</div>\n        <div class=\"value\">\n          <div class=\"aspect\" *ngFor=\"let aspect of data.aspects\">{{ aspect }}</div>\n        </div>\n        <div *ngFor=\"let property of data.properties\">\n          <div class=\"description\">{{ property[0] }}</div>\n          <div class=\"value\">{{ property[1] }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { trigger } from '@angular/animations';\nimport { Component, HostListener } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LocalEventsService, UIAnimation, UIConstants } from 'ngx-edu-sharing-ui';\nimport {\n    Node,\n    NodeVersions,\n    RestConstants,\n    RestNodeService,\n    Version,\n} from '../../../core-module/core.module';\nimport { Toast } from '../../../services/toast';\nimport { YES_OR_NO } from '../../../features/dialogs/dialog-modules/generic-dialog/generic-dialog-data';\nimport { DialogsService } from '../../../features/dialogs/dialogs.service';\nimport { BulkBehavior } from '../../../features/mds/types/types';\nimport { WorkspaceService } from '../workspace.service';\n\n/**\n * Container Component for the workspace's metadata sidebar.\n *\n * Handles input and output of the inner metadata component and shows / hides the sidebar as\n * requested.\n */\n@Component({\n    selector: 'es-metadata-sidebar',\n    templateUrl: './metadata-sidebar.component.html',\n    styleUrls: ['./metadata-sidebar.component.scss'],\n    animations: [trigger('fromRight', UIAnimation.fromRight())],\n})\nexport class MetadataSidebarComponent {\n    get nodeSidebar() {\n        return this.workspace.nodeSidebar;\n    }\n\n    constructor(\n        private dialogs: DialogsService,\n        private localEvents: LocalEventsService,\n        private node: RestNodeService,\n        private router: Router,\n        private toast: Toast,\n        private workspace: WorkspaceService,\n    ) {}\n\n    @HostListener('document:keydown', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n        if (event.key === 'Escape') {\n            if (this.workspace.nodeSidebar != null) {\n                this.closeSidebar();\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n            }\n        }\n    }\n\n    async restoreVersion(restore: { version: Version; node: Node }) {\n        const dialogRef = await this.dialogs.openGenericDialog({\n            title: 'WORKSPACE.METADATA.RESTORE_TITLE',\n            message: 'WORKSPACE.METADATA.RESTORE_MESSAGE',\n            buttons: YES_OR_NO,\n            nodes: [restore.node],\n        });\n        dialogRef.afterClosed().subscribe((response) => {\n            if (response === 'YES') {\n                this.doRestoreVersion(restore.version);\n            }\n        });\n    }\n\n    private doRestoreVersion(version: Version): void {\n        this.toast.showProgressSpinner();\n        this.node\n            .revertNodeToVersion(\n                version.version.node.id,\n                version.version.major,\n                version.version.minor,\n            )\n            .subscribe(\n                (data: NodeVersions) => {\n                    this.toast.closeProgressSpinner();\n                    this.closeSidebar();\n                    // @TODO type is not compatible\n                    this.node\n                        .getNodeMetadata(version.version.node.id, [RestConstants.ALL])\n                        .subscribe(\n                            (node) => {\n                                this.localEvents.nodesChanged.emit([node.node]);\n                                this.workspace.nodeSidebar = node.node;\n                                this.workspace.nodeSidebarChange.emit(node.node);\n                                this.toast.toast('WORKSPACE.REVERTED_VERSION');\n                            },\n                            (error: any) => this.toast.error(error),\n                        );\n                },\n                (error: any) => this.toast.error(error),\n            );\n    }\n\n    closeSidebar() {\n        this.workspace.nodeSidebar = null;\n        this.workspace.nodeSidebarChange.emit(null);\n    }\n\n    goToNode(node: Node) {\n        if (node.version) {\n            this.router.navigate([UIConstants.ROUTER_PREFIX + 'render', node.ref.id, node.version]);\n        } else {\n            this.router.navigate([UIConstants.ROUTER_PREFIX + 'render', node.ref.id]);\n        }\n    }\n\n    async openMdsEditor(nodes: Node[]): Promise<void> {\n        const dialogRef = await this.dialogs.openMdsEditorDialogForNodes({\n            nodes,\n            bulkBehavior: BulkBehavior.Default,\n        });\n        dialogRef\n            .afterClosed()\n            .subscribe((updatedNodes) => this.closeMdsEditor(nodes, updatedNodes));\n    }\n\n    private closeMdsEditor(originalNodes: Node[], updatedNodes: Node[] = null) {\n        let refresh = !!updatedNodes;\n        if (\n            this.workspace.nodeSidebar &&\n            this.workspace.nodeSidebar.ref.id === originalNodes[0]?.ref.id &&\n            updatedNodes\n        ) {\n            this.workspace.nodeSidebar = updatedNodes[0];\n        }\n        if (refresh) {\n            this.localEvents.nodesChanged.emit(updatedNodes);\n        }\n    }\n}\n","<es-workspace-metadata\n  *ngIf=\"nodeSidebar\"\n  [@fromRight]=\"nodeSidebar\"\n  class=\"metadata-sidebar\"\n  [node]=\"nodeSidebar\"\n  (onRestore)=\"restoreVersion($event)\"\n  (onDisplay)=\"goToNode($event)\"\n  (onEditMetadata)=\"openMdsEditor([$event])\"\n  (onClose)=\"closeSidebar()\"\n></es-workspace-metadata>\n","import {\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n    ViewChild,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ConfigService, NodeService, NodeVersion, NodeVersionEntries } from 'ngx-edu-sharing-api';\nimport {\n    DurationHelper,\n    FormatDatePipe,\n    InteractionType,\n    ListItem,\n    NodeDataSource,\n    NodeEntriesDisplayType,\n    NodeImageSizePipe,\n    UIConstants,\n    VCard,\n} from 'ngx-edu-sharing-ui';\nimport { BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, filter } from 'rxjs/operators';\nimport {\n    ConfigurationHelper,\n    IamUser,\n    Node,\n    NodePermissions,\n    Permission,\n    RestConstants,\n    RestHelper,\n    RestIamService,\n    RestNodeService,\n    RestSearchService,\n    RestUsageService,\n    Usage,\n    UsageList,\n} from '../../../core-module/core.module';\nimport { NodeHelperService } from '../../../services/node-helper.service';\nimport { UIHelper } from '../../../core-ui-module/ui-helper';\nimport {\n    BarController,\n    BarElement,\n    CategoryScale,\n    Chart,\n    ChartType,\n    LinearScale,\n    PointElement,\n    Tooltip,\n    Title,\n} from 'chart.js';\n\nChart.register(BarController, BarElement, CategoryScale, PointElement, Tooltip, LinearScale, Title);\n\ninterface Stats {\n    labels: string[];\n    colors: string[];\n    points: number[];\n    pointsIcons: string[];\n}\n\n@Component({\n    selector: 'es-workspace-metadata',\n    templateUrl: 'metadata.component.html',\n    styleUrls: ['metadata.component.scss'],\n})\nexport class WorkspaceMetadataComponent implements OnInit {\n    private _canvas: ElementRef<HTMLCanvasElement>;\n    private currentChart: Chart<ChartType, number[], string>;\n    @ViewChild('canvas')\n    get canvas(): ElementRef<HTMLCanvasElement> {\n        return this._canvas;\n    }\n    set canvas(value: ElementRef<HTMLCanvasElement>) {\n        this._canvas = value;\n        this.drawBarChart();\n    }\n\n    @Input() isAdmin: boolean;\n    @Input() set node(node: Node) {\n        this.nodeSubject.next(node);\n    }\n\n    @Output() onEditMetadata = new EventEmitter();\n    @Output() onDownload = new EventEmitter();\n    @Output() onDisplay = new EventEmitter();\n    @Output() onClose = new EventEmitter();\n    @Output() onRestore = new EventEmitter();\n\n    readonly NodeEntriesDisplayType = NodeEntriesDisplayType;\n    readonly InteractionType = InteractionType;\n    readonly INFO = 'INFO';\n    readonly PROPERTIES = 'PROPERTIES';\n    readonly VERSIONS = 'VERSIONS';\n    data: any;\n    loading = true;\n    permissions: any;\n    usagesCollection = new NodeDataSource();\n    usagesCollectionData = this.usagesCollection.connect();\n    nodeObject: Node;\n    versions: NodeVersion[];\n    versionsLoading = false;\n    columns: ListItem[] = [];\n    columnsCollections: ListItem[] = [];\n    statsTotalPoints: number;\n    forkedParent: Node;\n    forkedChildren = new NodeDataSource();\n    stats: Stats = {\n        labels: [],\n        points: [],\n        pointsIcons: ['input', 'layers', 'cloud_download', 'remove_red_eye'],\n        colors: [\n            'rgba(230, 178, 71, .8)',\n            'rgba(151, 91, 93, .8)',\n            'rgba(27, 102, 49, .8)',\n            'rgba(102,167,217,.8)',\n        ],\n    };\n\n    private usages: Usage[];\n    private nodeSubject = new BehaviorSubject<Node>(null);\n\n    constructor(\n        private translate: TranslateService,\n        private config: ConfigService,\n        private nodeHelper: NodeHelperService,\n        private router: Router,\n        private iamApi: RestIamService,\n        private nodeApi: RestNodeService,\n        private nodeService: NodeService,\n        private searchApi: RestSearchService,\n        private usageApi: RestUsageService,\n    ) {\n        this.columns.push(new ListItem('NODE', RestConstants.CM_NAME));\n        this.columnsCollections.push(new ListItem('COLLECTION', 'title'));\n        this.columnsCollections.push(new ListItem('COLLECTION', 'info'));\n        this.columnsCollections.push(new ListItem('COLLECTION', 'scope'));\n    }\n\n    ngOnInit(): void {\n        this.nodeSubject\n            .pipe(\n                filter((node) => node !== null),\n                // map((node) => node.ref.id),\n                // TODO: check if distinct still working\n                distinctUntilChanged(),\n            )\n            .subscribe((node) => this.load(node));\n    }\n\n    private async load(node: Node) {\n        this.versions = null;\n        this.versionsLoading = true;\n        this.resetStats();\n        this.loading = true;\n        // use temporary the given data to show headers\n        this.data = this.format(node);\n        this.nodeObject = (\n            await this.nodeApi.getNodeMetadata(node.ref.id, [RestConstants.ALL]).toPromise()\n        ).node;\n        this.loading = false;\n        this.data = this.format(this.nodeObject);\n        const currentNode = this.nodeObject;\n        this.nodeService\n            .getVersionsMetadata(this.nodeObject.ref.repo, this.nodeObject.ref.id)\n            .subscribe((data: NodeVersionEntries) => {\n                if (currentNode !== this.nodeObject) return;\n                this.versions = data.versions.reverse();\n                for (const version of this.versions) {\n                    if (version.comment) {\n                        if (\n                            version.comment === RestConstants.COMMENT_MAIN_FILE_UPLOAD ||\n                            version.comment === RestConstants.COMMENT_METADATA_UPDATE ||\n                            version.comment === RestConstants.COMMENT_CONTRIBUTOR_UPDATE ||\n                            version.comment === RestConstants.COMMENT_CONTENT_UPDATE ||\n                            version.comment === RestConstants.COMMENT_LICENSE_UPDATE ||\n                            version.comment === RestConstants.COMMENT_NODE_PUBLISHED ||\n                            version.comment === RestConstants.COMMENT_PREVIEW_CHANGED ||\n                            version.comment.startsWith(RestConstants.COMMENT_EDITOR_UPLOAD)\n                        ) {\n                            const parameters = version.comment.split(',');\n                            let editor = '';\n                            if (parameters.length > 1)\n                                editor = this.translate.instant(\n                                    'CONNECTOR.' + parameters[1] + '.NAME',\n                                );\n                            version.comment = this.translate.instant(\n                                'WORKSPACE.METADATA.COMMENT.' + parameters[0],\n                                { editor },\n                            );\n                        }\n                    }\n                }\n                let i = 0;\n                for (const version of this.versions) {\n                    if (this.isCurrentVersion(version)) {\n                        this.versions.splice(i, 1);\n                        this.versions.splice(0, 0, version);\n                        break;\n                    }\n                    i++;\n                }\n                this.versionsLoading = false;\n            });\n        this.iamApi.getUser().subscribe((login: IamUser) => {\n            this.nodeApi\n                .getNodePermissions(this.nodeObject.ref.id)\n                .subscribe((data: NodePermissions) => {\n                    this.permissions = this.formatPermissions(login, data);\n                });\n        });\n        this.usages = null;\n        this.forkedParent = null;\n        this.forkedChildren.reset();\n        if (this.nodeObject.properties[RestConstants.CCM_PROP_FORKED_ORIGIN]) {\n            this.nodeApi\n                .getNodeMetadata(\n                    RestHelper.removeSpacesStoreRef(\n                        this.nodeObject.properties[RestConstants.CCM_PROP_FORKED_ORIGIN][0],\n                    ),\n                    [RestConstants.ALL],\n                )\n                .subscribe(\n                    (parent) => {\n                        this.forkedParent = parent.node;\n                    },\n                    (error) => {},\n                );\n        }\n        const request = {\n            propertyFilter: [RestConstants.ALL],\n        };\n        this.nodeService.getForkedChilds(node).subscribe((childs) => {\n            this.forkedChildren.setData(childs.nodes);\n        });\n        this.usageApi.getNodeUsages(this.nodeObject.ref.id).subscribe((usages: UsageList) => {\n            this.usages = usages.usages;\n            this.usageApi\n                .getNodeUsagesCollection(this.nodeObject.ref.id)\n                .subscribe((collection) => {\n                    this.usagesCollection.setData(\n                        collection\n                            .filter((c) => c.collectionUsageType === 'ACTIVE')\n                            .map((c) => c.collection),\n                    );\n                    this.getStats();\n                });\n        });\n    }\n\n    isCurrentVersion(version: NodeVersion): boolean {\n        if (!this.nodeObject) return false;\n        const prop = this.nodeObject.properties[RestConstants.LOM_PROP_LIFECYCLE_VERSION];\n        if (!prop) return false;\n\n        return prop[0] == version.version.major + '.' + version.version.minor;\n    }\n\n    display(version: string = null) {\n        this.nodeObject.version = version;\n        this.onDisplay.emit(this.nodeObject);\n    }\n\n    displayNode(node: Node) {\n        this.router.navigate([UIConstants.ROUTER_PREFIX + 'render', node.ref.id]);\n    }\n\n    displayCollection(collection: Node) {\n        UIHelper.goToCollection(this.router, collection);\n    }\n\n    private openPermalink() {\n        this.displayNode(this.nodeObject);\n    }\n\n    displayVersion(version: NodeVersion) {\n        if (this.isCurrentVersion(version)) this.display();\n        else this.display(version.version.major + '.' + version.version.minor);\n    }\n\n    private format(node: Node): any {\n        const data: any = {};\n        data.name = node.name;\n        data.title = node.title;\n        data.isDirectory = node.isDirectory;\n        data.isCollection = node.collection != null;\n        data.description = node.properties[RestConstants.LOM_PROP_GENERAL_DESCRIPTION];\n        data.preview = node.preview.url;\n        data.keywords = node.properties[RestConstants.LOM_PROP_GENERAL_KEYWORD];\n        if (data.keywords && data.keywords.length == 1 && !data.keywords[0]) data.keywords = null;\n        //data[\"creator\"]=node.properties[RestConstants.CM_CREATOR];\n        data.creator = ConfigurationHelper.getPersonWithConfigDisplayName(\n            node.createdBy,\n            this.config,\n        );\n        data.createDate = new FormatDatePipe(this.translate).transform(node.createdAt);\n        data.duration = DurationHelper.getDurationFormatted(\n            node.properties[RestConstants.LOM_PROP_TECHNICAL_DURATION]?.[0],\n        );\n        data.author = this.toVCards(\n            node.properties[RestConstants.CCM_PROP_LIFECYCLECONTRIBUTER_AUTHOR],\n        ).join(', ');\n        data.author_freetext = node.properties[RestConstants.CCM_PROP_AUTHOR_FREETEXT]\n            ? node.properties[RestConstants.CCM_PROP_AUTHOR_FREETEXT][0]\n            : null;\n        data.mediatype = node.mediatype == 'file' ? node.mimetype : node.mediatype;\n        data.mimetype = node.mimetype;\n        data.size = node.size;\n        if (node.properties[RestConstants.EXIF_PROP_DATE_TIME_ORIGINAL]) {\n            data.exifDate = new FormatDatePipe(this.translate).transform(\n                node.properties[RestConstants.EXIF_PROP_DATE_TIME_ORIGINAL][0],\n            );\n        }\n\n        data.dimensions = new NodeImageSizePipe().transform(node);\n\n        data.license = this.nodeHelper.getLicenseIcon(node);\n        data.licenseName = this.nodeHelper.getLicenseName(node);\n\n        data.properties = [];\n        data.aspects = node.aspects.sort();\n\n        for (const k of Object.keys(node.properties).sort()) {\n            data.properties.push([k, node.properties[k].join(', ')]);\n        }\n        return data;\n    }\n\n    close() {\n        this.onClose.emit();\n    }\n\n    edit() {\n        this.onEditMetadata.emit(this.nodeObject);\n    }\n\n    restoreVersion(restore: NodeVersion) {\n        this.onRestore.emit({ version: restore, node: this.nodeObject });\n    }\n\n    canRevert() {\n        return this.nodeObject && this.nodeObject.access.indexOf(RestConstants.ACCESS_WRITE) != -1;\n    }\n\n    isAnimated() {\n        return this.nodeHelper.hasAnimatedPreview(this.nodeObject);\n    }\n\n    private formatPermissions(login: IamUser, permissions: NodePermissions): any {\n        const data: any = {};\n        data.users = [];\n        data.groups = [];\n        if (!permissions.permissions) return data;\n        for (const permission of permissions.permissions.inheritedPermissions) {\n            if (\n                permission.authority.authorityName == login.person.authorityName ||\n                permission.authority.authorityType == RestConstants.AUTHORITY_TYPE_OWNER\n            ) {\n            } else if (permission.authority.authorityType == RestConstants.AUTHORITY_TYPE_USER) {\n                data.users.push(permission);\n            } else {\n                data.groups.push(permission);\n            }\n        }\n        for (const permission of permissions.permissions.localPermissions.permissions) {\n            if (\n                permission.authority.authorityName == login.person.authorityName ||\n                permission.authority.authorityType == RestConstants.AUTHORITY_TYPE_OWNER\n            ) {\n            } else if (permission.authority.authorityType == RestConstants.AUTHORITY_TYPE_USER) {\n                if (!this.containsPermission(data.groups, permission)) data.users.push(permission);\n            } else {\n                if (!this.containsPermission(data.groups, permission)) data.groups.push(permission);\n            }\n        }\n        return data;\n    }\n\n    private toVCards(properties: any[]) {\n        const vcards: string[] = [];\n        if (properties) {\n            for (const p of properties) {\n                vcards.push(new VCard(p).getDisplayName());\n            }\n        }\n        return vcards;\n    }\n\n    private containsPermission(permissions: Permission[], permission: Permission) {\n        for (const perm of permissions) {\n            if (perm.authority.authorityName == permission.authority.authorityName) return true;\n        }\n        return false;\n    }\n\n    resetStats() {\n        this.stats.labels = [];\n        this.stats.points = [];\n        this.statsTotalPoints = null;\n    }\n\n    getStats() {\n        this.resetStats();\n        this.stats.labels.push(this.translate.instant('WORKSPACE.METADATA.USAGE_TYPE.LMS'));\n        this.stats.labels.push(this.translate.instant('WORKSPACE.METADATA.USAGE_TYPE.COLLECTION'));\n        this.stats.labels.push(this.translate.instant('WORKSPACE.METADATA.USAGE_TYPE.DOWNLOAD'));\n        this.stats.labels.push(this.translate.instant('WORKSPACE.METADATA.USAGE_TYPE.VIEW'));\n\n        this.stats.points.push(this.usages.length - this.usagesCollection.getData().length);\n        this.stats.points.push(this.usagesCollection.getData().length);\n        this.stats.points.push(\n            propertyToNumber(this.nodeObject.properties[RestConstants.CCM_PROP_TRACKING_DOWNLOADS]),\n        );\n        this.stats.points.push(\n            propertyToNumber(this.nodeObject.properties[RestConstants.CCM_PROP_TRACKING_VIEWS]),\n        );\n        this.statsTotalPoints = this.stats.points.reduce((a, b) => a + b);\n        this.drawBarChart();\n    }\n\n    private drawBarChart() {\n        const canvas = this.canvas?.nativeElement;\n        if (!canvas) {\n            return;\n        }\n        const ctx = canvas.getContext('2d');\n        // FontFamily\n        // Chart.defaults.global.defaultFontFamily = 'open_sansregular';\n        const statsMax = Math.max(...this.stats.points);\n        if (!this.stats.labels?.length) {\n            return;\n        }\n        if (this.currentChart) {\n            this.currentChart.destroy();\n        }\n        console.log(this.stats);\n        this.currentChart = new Chart(ctx, {\n            type: 'bar',\n            data: {\n                labels: this.stats.labels,\n                datasets: [\n                    {\n                        data: this.stats.points,\n                        backgroundColor: this.stats.colors,\n                        borderWidth: 0.2,\n                    },\n                ],\n            },\n            options: {\n                indexAxis: 'x',\n                plugins: {\n                    legend: {\n                        display: false,\n                    },\n                    tooltip: {},\n                },\n                responsive: false,\n                layout: {\n                    padding: {\n                        left: 0,\n                        right: 0,\n                        top: 20,\n                        bottom: 0,\n                    },\n                },\n                scales: {\n                    x: {\n                        ticks: {\n                            display: false,\n                        },\n                    },\n                    y: {\n                        type: 'linear',\n                        beginAtZero: true,\n                        max: Math.max(Math.round(statsMax * 1.25), 6),\n                    },\n                },\n            },\n        });\n    }\n\n    canEdit() {\n        return this.nodeObject && this.nodeObject.access.indexOf(RestConstants.ACCESS_WRITE) !== -1;\n    }\n\n    staticDataSource(node: Node) {\n        return new NodeDataSource([node]);\n    }\n}\n\nfunction propertyToNumber(property: string[]): number {\n    if (property?.length > 0) {\n        return parseInt(property[0]);\n    } else {\n        return 0;\n    }\n}\n","<div *ngIf=\"data\" class=\"main\" data-test=\"workspace-sidebar\">\n  <div class=\"header\">\n    <div class=\"name\" data-test=\"workspace-sidebar-element-name\">{{ data.name }}</div>\n    <div class=\"close\">\n      <button mat-icon-button (click)=\"close()\"><i class=\"material-icons\">close</i></button>\n    </div>\n  </div>\n  <es-spinner *ngIf=\"loading\"></es-spinner>\n  <ng-container *ngIf=\"!loading\">\n    <mat-tab-group *ngIf=\"!data.isDirectory; else standaloneInfoTab\">\n      <mat-tab>\n        <ng-template mat-tab-label><i esIcon=\"info_outline\" [aria]=\"true\"></i></ng-template>\n        <ng-content *ngTemplateOutlet=\"infoTab\"></ng-content>\n      </mat-tab>\n      <mat-tab>\n        <ng-template mat-tab-label>\n          <i esIcon=\"equalizer\"></i>\n          {{ statsTotalPoints }}\n        </ng-template>\n        <ng-content *ngTemplateOutlet=\"usageTab\"></ng-content>\n      </mat-tab>\n      <mat-tab>\n        <ng-template mat-tab-label><i esIcon=\"restore\"></i></ng-template>\n        <ng-content *ngTemplateOutlet=\"versionsTab\"></ng-content>\n      </mat-tab>\n    </mat-tab-group>\n\n    <ng-template #standaloneInfoTab>\n      <div class=\"standalone-container\">\n        <ng-content *ngTemplateOutlet=\"infoTab\"></ng-content>\n      </div>\n    </ng-template>\n\n    <ng-template #infoTab>\n      <es-workspace-metadata-block\n        class=\"content\"\n        [node]=\"nodeObject\"\n        (onDisplay)=\"display()\"\n        (onEditMetadata)=\"edit()\"\n      ></es-workspace-metadata-block>\n    </ng-template>\n\n    <!--Usages Info -->\n    <ng-template #usageTab>\n      <div class=\"content content-properties\">\n        <p class=\"description\">{{ 'WORKSPACE.METADATA.USAGE_COUNT_TITLE' | translate }}</p>\n\n        <canvas #canvas width=\"320\" height=\"200\"></canvas>\n        <ul class=\"statistic-value\">\n          <li *ngFor=\"let point of stats.points; let i = index\" class=\"point\">\n            <i class=\"material-icons\">{{ stats.pointsIcons[i] }}</i> {{ point }}\n          </li>\n        </ul>\n        <p class=\"description usage-count\">\n          {{ 'WORKSPACE.METADATA.USAGE_COUNT' | translate }}\n          <span class=\"usage-counter\">{{ statsTotalPoints }}</span>\n        </p>\n        <p class=\"description collections\" *ngIf=\"!usagesCollection.isEmpty()\">\n          {{\n            'WORKSPACE.METADATA.COLLECTIONS'\n              | translate : { count: (usagesCollectionData | async).length }\n          }}\n        </p>\n        <es-node-entries-wrapper\n          *ngIf=\"!usagesCollection.isEmpty()\"\n          [dataSource]=\"usagesCollection\"\n          [columns]=\"columnsCollections\"\n          [displayType]=\"NodeEntriesDisplayType.SmallGrid\"\n          [elementInteractionType]=\"InteractionType.DefaultActionLink\"\n        ></es-node-entries-wrapper>\n        <div class=\"description forkedParend\" *ngIf=\"forkedParent\">\n          {{ 'WORKSPACE.METADATA.FORKED_PARENT' | translate }}\n        </div>\n        <es-node-entries-wrapper\n          *ngIf=\"forkedParent\"\n          [dataSource]=\"staticDataSource(forkedParent)\"\n          [columns]=\"columns\"\n          [checkbox]=\"false\"\n          [displayType]=\"NodeEntriesDisplayType.Table\"\n          [elementInteractionType]=\"InteractionType.DefaultActionLink\"\n        ></es-node-entries-wrapper>\n        <div class=\"description forkedParend\" *ngIf=\"!forkedChildren.isEmpty()\">\n          {{\n            'WORKSPACE.METADATA.FORKED_CHILDS'\n              | translate : { count: forkedChildren.getData().length }\n          }}\n        </div>\n        <es-node-entries-wrapper\n          *ngIf=\"!forkedChildren.isEmpty()\"\n          [dataSource]=\"forkedChildren\"\n          [columns]=\"columns\"\n          [checkbox]=\"false\"\n          [displayType]=\"NodeEntriesDisplayType.Table\"\n          [elementInteractionType]=\"InteractionType.DefaultActionLink\"\n        ></es-node-entries-wrapper>\n      </div>\n    </ng-template>\n\n    <ng-template #versionsTab>\n      <div class=\"content content-versions\">\n        <div *ngIf=\"versionsLoading\" class=\"center\"><es-spinner></es-spinner></div>\n        <div\n          *ngFor=\"let version of versions\"\n          class=\"version\"\n          [class.versionMain]=\"isCurrentVersion(version)\"\n        >\n          <div class=\"versionTitle\">\n            <span *ngIf=\"isCurrentVersion(version)\">{{\n              'WORKSPACE.METADATA.CURRENT_VERSION' | translate\n            }}</span>\n            <span *ngIf=\"!isCurrentVersion(version)\">{{\n              'WORKSPACE.METADATA.VERSION' | translate\n            }}</span>\n            ({{ version.version.major }}.{{ version.version.minor }})\n          </div>\n          <div class=\"versionAuthor\">\n            {{ version.modifiedBy.firstName }} {{ version.modifiedBy.lastName }}\n          </div>\n          <div class=\"versionDate\">{{ version.modifiedAt | formatDate }}</div>\n          <div class=\"versionComment\">{{ version | versionComment }}</div>\n          <div class=\"button-actions\">\n            <button mat-flat-button color=\"primary\" (click)=\"displayVersion(version)\">\n              <i [esIcon]=\"'remove_red_eye'\"></i>\n              {{ 'WORKSPACE.METADATA.VIEW_VERSION' | translate }}\n            </button>\n            <button\n              *ngIf=\"!isCurrentVersion(version)\"\n              mat-flat-button\n              color=\"warn\"\n              [class.disabled]=\"!canRevert()\"\n              (click)=\"restoreVersion(version)\"\n            >\n              <i [esIcon]=\"'restore'\"></i>\n              {{ 'WORKSPACE.METADATA.RESTORE' | translate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  </ng-container>\n</div>\n","import {\n    AfterViewInit,\n    Component,\n    Input,\n    OnDestroy,\n    OnInit,\n    TemplateRef,\n    ViewChild,\n} from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { GenericAuthority } from 'ngx-edu-sharing-api';\nimport {\n    ActionbarComponent,\n    CustomOptions,\n    DefaultGroups,\n    ElementType,\n    FetchEvent,\n    InteractionType,\n    ListItem,\n    ListItemSort,\n    ListSortConfig,\n    NodeClickEvent,\n    NodeDataSource,\n    NodeEntriesDisplayType,\n    NodeEntriesWrapperComponent,\n    OptionItem,\n    Scope,\n} from 'ngx-edu-sharing-ui';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport {\n    ArchiveRestore,\n    Node,\n    RestArchiveService,\n    RestConstants,\n    RestoreResult,\n    TemporaryStorageService,\n} from '../../../core-module/core.module';\nimport { Toast } from '../../../services/toast';\nimport { Closable } from '../../../features/dialogs/card-dialog/card-dialog-config';\nimport {\n    CLOSE,\n    DELETE_OR_CANCEL,\n} from '../../../features/dialogs/dialog-modules/generic-dialog/generic-dialog-data';\nimport { DialogsService } from '../../../features/dialogs/dialogs.service';\nimport { SearchFieldService } from '../../../main/navigation/search-field/search-field.service';\n\ntype RestoreResults = {\n    results: (RestoreResult & { message: string })[];\n} & {\n    hasDuplicateNames: boolean;\n    hasParentFolderMissing: boolean;\n};\n\n@Component({\n    selector: 'es-recycle',\n    templateUrl: 'recycle.component.html',\n    styleUrls: ['recycle.component.scss'],\n})\nexport class RecycleMainComponent implements OnInit, AfterViewInit, OnDestroy {\n    readonly NodeEntriesDisplayType = NodeEntriesDisplayType;\n    readonly InteractionType = InteractionType;\n    readonly Scope = Scope;\n    @ViewChild('list') list: NodeEntriesWrapperComponent<Node>;\n    @ViewChild('confirmDeleteDialog') confirmDeleteDialog: TemplateRef<unknown>;\n    @ViewChild('restoreDialog') restoreDialog: TemplateRef<unknown>;\n    dataSource = new NodeDataSource();\n\n    @Input() actionbar: ActionbarComponent;\n\n    public columns: ListItem[] = [\n        new ListItem('NODE', RestConstants.CM_NAME),\n        new ListItem('NODE', RestConstants.CM_ARCHIVED_DATE),\n    ];\n    public options: CustomOptions = {\n        useDefaultOptions: false,\n        addOptions: [],\n    };\n    sort: ListSortConfig = {\n        columns: [\n            new ListItemSort('NODE', RestConstants.CM_NAME),\n            new ListItemSort('NODE', RestConstants.CM_ARCHIVED_DATE),\n        ],\n        allowed: true,\n        active: RestConstants.CM_ARCHIVED_DATE,\n        direction: 'desc',\n    };\n    searchQuery: string;\n    skipDeleteConfirmation = false;\n    loadData(currentQuery: string, offset: number, sortBy: string, sortAscending: boolean) {\n        return this.archive.search(currentQuery || '*', '', {\n            propertyFilter: [RestConstants.ALL],\n            offset: offset,\n            sortBy: [sortBy],\n            sortAscending: sortAscending,\n        });\n    }\n    private destroyed = new Subject<void>();\n\n    constructor(\n        private archive: RestArchiveService,\n        private toast: Toast,\n        private translate: TranslateService,\n        private service: TemporaryStorageService,\n        private searchField: SearchFieldService,\n        private dialogs: DialogsService,\n    ) {}\n\n    ngOnInit(): void {\n        const restoreOption = new OptionItem(\n            'RECYCLE.OPTION.RESTORE_SINGLE',\n            'undo',\n            (node: Node) => this.restoreSingle(node),\n        );\n        restoreOption.group = DefaultGroups.Primary;\n        const deleteOption = new OptionItem(\n            'RECYCLE.OPTION.DELETE_SINGLE',\n            'delete',\n            (node: Node) => this.deleteSingle(node),\n        );\n        deleteOption.group = DefaultGroups.Primary;\n        this.options.addOptions.push(restoreOption);\n        this.options.addOptions.push(deleteOption);\n        this.options.addOptions.forEach((o) => {\n            o.elementType = [ElementType.Node, ElementType.NodePublishedCopy];\n        });\n        this.searchField\n            .observeCurrentInstance()\n            .pipe(takeUntil(this.destroyed))\n            .subscribe((instance) =>\n                instance\n                    .onSearchTriggered()\n                    .pipe(takeUntil(this.destroyed))\n                    .subscribe(({ searchString }) => {\n                        this.searchQuery = searchString;\n                        this.refresh();\n                    }),\n            );\n    }\n\n    ngAfterViewInit(): void {\n        this.refresh();\n        this.list.initOptionsGenerator({\n            actionbar: this.actionbar,\n            customOptions: this.options,\n        });\n    }\n\n    ngOnDestroy(): void {\n        this.destroyed.next();\n        this.destroyed.complete();\n    }\n\n    private async openConfirmDeleteDialog(nodes: Node[]): Promise<void> {\n        this.skipDeleteConfirmation = false; // reset\n        const dialogRef = await this.dialogs.openGenericDialog({\n            title: 'RECYCLE.DELETE.CONFIRM_TITLE',\n            buttons: DELETE_OR_CANCEL,\n            closable: Closable.Standard,\n            contentTemplate: this.confirmDeleteDialog,\n            nodes,\n        });\n        dialogRef.afterClosed().subscribe((response) => {\n            if (response === 'YES_DELETE') {\n                if (this.skipDeleteConfirmation) {\n                    this.service.set('recycleSkipDeleteConfirmation', true);\n                }\n                this.deleteNodesWithoutConfirmation(nodes);\n            }\n        });\n    }\n\n    private restoreFinished(list: Node[], restoreResult: any) {\n        this.toast.closeProgressSpinner();\n\n        this.prepareResults(restoreResult);\n        if (restoreResult.hasDuplicateNames || restoreResult.hasParentFolderMissing) {\n            this.openRestoreDialog(restoreResult);\n        }\n        if (list.length == 1) {\n            this.toast.toast('RECYCLE.TOAST.RESTORE_FINISHED_SINGLE');\n        } else {\n            this.toast.toast('RECYCLE.TOAST.RESTORE_FINISHED');\n        }\n        this.refresh();\n    }\n\n    private openRestoreDialog(restoreResults: RestoreResults): void {\n        void this.dialogs.openGenericDialog({\n            title: 'RECYCLE.RESTORE.NEW_LOCATION_TITLE',\n            subtitle: 'RECYCLE.RESTORE.NEW_LOCATION_SUBTITLE',\n            avatar: { kind: 'icon', icon: 'undo' },\n            buttons: CLOSE,\n            closable: Closable.Standard,\n            contentTemplate: this.restoreDialog,\n            context: { $implicit: restoreResults },\n        });\n    }\n\n    private delete(): void {\n        this.deleteNodes(this.list.getSelection().selected);\n    }\n\n    private deleteSingle(node: Node): void {\n        if (node == null) {\n            this.delete();\n            return;\n        }\n        this.deleteNodes([node]);\n    }\n\n    private deleteNodesWithoutConfirmation(nodes: Node[]) {\n        this.toast.showProgressSpinner();\n        this.archive.delete(nodes).subscribe(\n            () => this.deleteFinished(),\n            (error) => this.handleErrors(error),\n        );\n    }\n\n    private deleteFinished() {\n        this.toast.closeProgressSpinner();\n        this.toast.toast('RECYCLE.TOAST.DELETE_FINISHED');\n        this.list.getSelection().clear();\n        this.refresh();\n    }\n    private deleteNodes(list: Node[]) {\n        if (this.service.get('recycleSkipDeleteConfirmation', false)) {\n            this.deleteNodesWithoutConfirmation(list);\n            return;\n        }\n\n        void this.openConfirmDeleteDialog([...list]);\n    }\n\n    public restoreNodes(list: Node[], toPath = '') {\n        // archiveRestore list\n        this.toast.showProgressSpinner();\n        this.archive.restore(list, toPath).subscribe(\n            (result: ArchiveRestore) => this.restoreFinished(list, result),\n            (error: any) => this.handleErrors(error),\n        );\n    }\n    private handleErrors(error: any) {\n        this.toast.error(error);\n        this.toast.closeProgressSpinner();\n    }\n\n    private restoreSingle(node: Node): void {\n        if (node == null) {\n            this.restore();\n            return;\n        }\n\n        this.restoreNodes([node]);\n    }\n    private restore(): void {\n        this.restoreNodes(this.list.getSelection().selected);\n    }\n\n    async refresh(event?: FetchEvent) {\n        this.dataSource.isLoading = true;\n        if (event == null) {\n            this.dataSource.reset();\n            this.list?.getSelection().clear();\n        }\n        const result = await this.loadData(\n            this.searchQuery,\n            event ? event?.offset || this.dataSource.getData().length : 0,\n            this.sort.active,\n            this.sort.direction === 'asc',\n        ).toPromise();\n        if (event == null) {\n            this.dataSource.setData(result.nodes, result.pagination);\n        } else {\n            this.dataSource.appendData(result.nodes);\n            this.dataSource.setPagination(result.pagination);\n        }\n        this.dataSource.isLoading = false;\n    }\n\n    click(event: NodeClickEvent<Node | GenericAuthority>) {\n        this.list.getSelection().toggle(event.element as Node);\n    }\n\n    updateSort(sort: ListSortConfig) {\n        this.sort = sort;\n        this.refresh();\n    }\n\n    private prepareResults(results: RestoreResults) {\n        for (const result of results.results) {\n            if (result.restoreStatus === 'FINE') {\n                continue;\n            }\n            this.translate\n                .get('RECYCLE.RESTORE.' + result.restoreStatus)\n                .subscribe((text) => (result.message = text));\n            if (result.restoreStatus === 'DUPLICATENAME') {\n                results.hasDuplicateNames = true;\n            }\n            if (\n                result.restoreStatus === 'FALLBACK_PARENT_NOT_EXISTS' ||\n                result.restoreStatus === 'FALLBACK_PARENT_NO_PERMISSION'\n            ) {\n                results.hasParentFolderMissing = true;\n            }\n        }\n    }\n}\n","<es-node-entries-wrapper\n  #list\n  [columns]=\"columns\"\n  [checkbox]=\"true\"\n  [displayType]=\"NodeEntriesDisplayType.Table\"\n  [scope]=\"Scope.WorkspaceList\"\n  [elementInteractionType]=\"InteractionType.Emitter\"\n  [sort]=\"sort\"\n  [dataSource]=\"dataSource\"\n  (sortChange)=\"updateSort($event)\"\n  (clickItem)=\"click($event)\"\n  (fetchData)=\"refresh($event)\"\n>\n  <ng-template #empty>\n    <h3 *ngIf=\"!!searchQuery\" class=\"empty mat-heading-3\">\n      {{ 'RECYCLE.NO_RESULTS_MESSAGE' | translate }}\n    </h3>\n    <h3 *ngIf=\"!searchQuery\" class=\"empty mat-heading-3\">\n      {{ 'RECYCLE.ARCHIVE_EMPTY' | translate }}\n    </h3>\n  </ng-template>\n</es-node-entries-wrapper>\n\n<ng-template #confirmDeleteDialog>\n  <p>{{ 'RECYCLE.DELETE.CONFIRM_MESSAGE' | translate }}</p>\n  <form>\n    <div class=\"checkbox\">\n      <mat-checkbox name=\"skipDeleteConfirmation\" [(ngModel)]=\"skipDeleteConfirmation\">{{\n        'RECYCLE.DELETE.NOT_ASK_AGAIN' | translate\n      }}</mat-checkbox>\n    </div>\n  </form>\n</ng-template>\n\n<ng-template #restoreDialog let-restoreResult>\n  <div *ngIf=\"restoreResult.hasDuplicateNames\">\n    <p>{{ 'RECYCLE.RESTORE.LIST_DUPLICATE_NAMES' | translate }}</p>\n    <div *ngFor=\"let result of restoreResult.results\">\n      <div *ngIf=\"result.restoreStatus === 'DUPLICATENAME'\">\n        {{ result.name }} <span class=\"restore-message\">({{ result.message }})</span>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"restoreResult.hasParentFolderMissing\">\n    <hr *ngIf=\"restoreResult.hasDuplicateNames\" />\n    <p>{{ 'RECYCLE.RESTORE.LIST_PARENT_FOLDER_MISSING' | translate }}</p>\n    <div *ngFor=\"let result of restoreResult.results\">\n      <div\n        *ngIf=\"\n          result.restoreStatus === 'FALLBACK_PARENT_NOT_EXISTS' ||\n          result.restoreStatus === 'FALLBACK_PARENT_NO_PERMISSION'\n        \"\n      >\n        {{ result.name }} <span class=\"restore-message\">({{ result.message }})</span>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import { trigger } from '@angular/animations';\nimport {\n    Component,\n    EventEmitter,\n    Input,\n    OnDestroy,\n    OnInit,\n    Output,\n    ViewChild,\n} from '@angular/core';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport * as rxjs from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport {\n    DragData,\n    DropdownComponent,\n    DropSource,\n    LocalEventsService,\n    OptionItem,\n    OptionsHelperDataService,\n    Scope,\n    UIAnimation,\n} from 'ngx-edu-sharing-ui';\nimport {\n    Node,\n    NodeList,\n    RestConstants,\n    RestNodeService,\n    UIService,\n} from '../../../core-module/core.module';\nimport { Helper } from '../../../core-module/rest/helper';\nimport { canDropOnNode } from '../workspace-utils';\n\n@Component({\n    selector: 'es-workspace-sub-tree',\n    templateUrl: 'sub-tree.component.html',\n    styleUrls: ['sub-tree.component.scss'],\n    animations: [\n        trigger('openOverlay', UIAnimation.openOverlay(UIAnimation.ANIMATION_TIME_FAST)),\n        trigger('open', UIAnimation.openOverlay()),\n    ],\n    providers: [OptionsHelperDataService],\n})\nexport class WorkspaceSubTreeComponent implements OnInit, OnDestroy {\n    private static MAX_FOLDER_COUNT = 100;\n\n    @ViewChild('dropdown') dropdown: DropdownComponent;\n    @ViewChild('dropdownTrigger') dropdownTrigger: MatMenuTrigger;\n    dropdownLeft: string;\n    dropdownTop: string;\n\n    private _currentPath: string[] = [];\n    /** Parent hierarchy of the currently selected node. */\n    @Input()\n    get currentPath(): string[] {\n        return this._currentPath;\n    }\n    set currentPath(value: string[]) {\n        this._currentPath = value;\n        this.expandCurrentPath();\n    }\n    @Input() depth = 0;\n    /** The node rendered by this sub tree. */\n    @Input() set node(node: string) {\n        this._node = node;\n        if (node == null) {\n            return;\n        }\n        this.refresh();\n    }\n\n    @Output() onClick = new EventEmitter<Node>();\n    @Output() onLoading = new EventEmitter();\n    @Output() onDrop = new EventEmitter<{ target: Node; source: DropSource<Node> }>();\n    @Output() hasChildren = new EventEmitter<boolean>();\n    @Output() onUpdateOptions = new EventEmitter();\n\n    _node: string;\n    loading = true;\n    _nodes: Node[];\n    _hasChildren: { [nodeId: string]: boolean } = {};\n    moreItems: number;\n    loadingMore: boolean;\n    loadingStates: boolean[] = [];\n\n    /** IDs of child nodes of the node rendered by this sub tree, that should be expanded. */\n    private expandedNodes: string[] = [];\n    private destroyed = new Subject<void>();\n\n    constructor(\n        private nodeApi: RestNodeService,\n        private optionsService: OptionsHelperDataService,\n        private localEvents: LocalEventsService,\n        public ui: UIService,\n    ) {}\n\n    ngOnInit(): void {\n        rxjs.merge(this.localEvents.nodesChanged, this.localEvents.nodesDeleted)\n            .pipe(takeUntil(this.destroyed))\n            .subscribe((nodes) => {\n                const nodeIds = this._nodes.map((node) => node.ref.id);\n                if (nodes.some((node) => nodeIds.includes(node.ref.id))) {\n                    this.refresh();\n                }\n            });\n    }\n\n    /**\n     * Resets expanded nodes to the parent hierarchy of the currently selected node.\n     */\n    private expandCurrentPath() {\n        const currentChildNode = this._nodes?.find(\n            (node) => node.ref.id === this.currentPath[this.depth],\n        );\n        if (currentChildNode) {\n            this.expandedNodes = [currentChildNode.ref.id];\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.destroyed.next();\n        this.destroyed.complete();\n    }\n\n    setLoadingState(state: boolean, pos: number) {\n        this.loadingStates[pos] = state;\n    }\n\n    optionIsShown(optionItem: OptionItem, node: Node) {\n        if (optionItem.showCallback) {\n            return optionItem.showCallback(node);\n        }\n        return true;\n    }\n\n    loadAll() {\n        this.loadingMore = true;\n        this.nodeApi\n            .getChildren(this._node, [RestConstants.FILTER_FOLDERS], {\n                offset: this._nodes.length,\n                count: RestConstants.COUNT_UNLIMITED,\n            })\n            .subscribe((data: NodeList) => {\n                this.loadingMore = false;\n                this._nodes = this._nodes.concat(data.nodes);\n                this.moreItems = 0;\n            });\n    }\n\n    contextMenu(event: any, node: Node) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        this.showDropdown(event, node);\n    }\n\n    updateOptions(event: Node) {\n        this.onUpdateOptions.emit(event);\n    }\n\n    private showDropdown(event: any, node: Node) {\n        //if(this._options==null || this._options.length<1)\n        //  return;\n        this.dropdownLeft = event.clientX + 'px';\n        this.dropdownTop = event.clientY + 'px';\n        this.optionsService.setData({\n            activeObjects: [node],\n            scope: Scope.WorkspaceTree,\n        });\n        this.optionsService.initComponents(null, null, this.dropdown);\n        this.optionsService.refreshComponents();\n        this.dropdownTrigger.openMenu();\n    }\n\n    dropToParent(event: any) {\n        this.onDrop.emit(event);\n    }\n\n    isSelected(node: Node): boolean {\n        return this.currentPath[this.currentPath.length - 1] === node.ref.id;\n    }\n\n    openPathEvent(node: Node): void {\n        this.onClick.emit(node);\n    }\n\n    isOpen(node: Node): boolean {\n        return this.expandedNodes.includes(node.ref.id);\n    }\n\n    openOrCloseNode(node: Node): void {\n        this.onClick.emit(node);\n    }\n\n    toggleNodeExpansion(event: MouseEvent, node: Node): void {\n        if (this._hasChildren[node.ref.id] === false) {\n            return;\n        }\n        event.stopPropagation();\n        const index = this.expandedNodes.indexOf(node.ref.id);\n        if (index < 0) {\n            this.expandedNodes.push(node.ref.id);\n        } else {\n            this.expandedNodes.splice(index, 1);\n        }\n    }\n\n    refresh() {\n        if (!this._node) return;\n        this.nodeApi\n            .getChildren(this._node, [RestConstants.FILTER_FOLDERS], {\n                count: WorkspaceSubTreeComponent.MAX_FOLDER_COUNT,\n            })\n            .subscribe((data: NodeList) => {\n                this._nodes = data.nodes;\n                this.moreItems = data.pagination.total - data.pagination.count;\n                this.loadingStates = Helper.initArray(this._nodes.length, true);\n                this.hasChildren.emit(this._nodes?.length > 0);\n                this.onLoading.emit(false);\n                this.loading = false;\n                this.expandCurrentPath();\n            });\n    }\n\n    canDropOnNode = canDropOnNode;\n    onDropped(dragData: DragData<Node>) {\n        this.onDrop.emit({\n            target: dragData.target,\n            source: {\n                element: dragData.draggedNodes,\n                mode: dragData.action,\n            },\n        });\n    }\n}\n","<div class=\"sub-tree-wrapper\">\n  <es-dropdown #dropdown></es-dropdown>\n  <button\n    #dropdownTrigger=\"matMenuTrigger\"\n    mat-button\n    class=\"dropdown-dummy\"\n    [style.left]=\"dropdownLeft\"\n    [style.top]=\"dropdownTop\"\n    tabindex=\"-1\"\n    aria-hidden=\"true\"\n    [matMenuTriggerFor]=\"dropdown.menu\"\n  ></button>\n\n  <div *ngIf=\"_nodes && _nodes.length\" [@open]=\"_nodes && _nodes.length\">\n    <div *ngFor=\"let node of _nodes; let i = index\" (contextmenu)=\"contextMenu($event, node)\">\n      <div\n        class=\"sub-tree-element\"\n        cdkDrag\n        [cdkDragDisabled]=\"ui.isTouchSubject | async\"\n        [cdkDragData]=\"[node]\"\n        esNodesDrag\n        [esNodesDropTarget]=\"node\"\n        [canDropNodes]=\"canDropOnNode\"\n        (nodeDropped)=\"onDropped($event)\"\n        [style.paddingLeft.px]=\"(depth + 1) * 20\"\n        [class.sub-tree-element-selected]=\"isSelected(node)\"\n        (click)=\"openOrCloseNode(node)\"\n      >\n        <button\n          class=\"expand-toggle\"\n          (click)=\"toggleNodeExpansion($event, node)\"\n          [class.opacity-invisible]=\"_hasChildren[node.ref.id] === false\"\n        >\n          <i *ngIf=\"!isOpen(node)\" esIcon=\"keyboard_arrow_right\"></i>\n          <i *ngIf=\"isOpen(node)\" esIcon=\"keyboard_arrow_down\"></i>\n        </button>\n        <img class=\"node-icon\" src=\"{{ node | esNodeIcon | async }}\" alt=\"{{ node.name }}\" />\n        <span class=\"name\">{{ node.name }}</span>\n      </div>\n      <es-workspace-sub-tree\n        class=\"sub-tree\"\n        *ngIf=\"isOpen(node)\"\n        [node]=\"node.ref.id\"\n        [currentPath]=\"currentPath\"\n        (onLoading)=\"setLoadingState($event, i)\"\n        (onUpdateOptions)=\"updateOptions($event)\"\n        (hasChildren)=\"_hasChildren[node.ref.id] = $event\"\n        (onClick)=\"openPathEvent($event)\"\n        (onDrop)=\"dropToParent($event)\"\n        [depth]=\"depth + 1\"\n      ></es-workspace-sub-tree>\n    </div>\n    <button\n      mat-flat-button\n      color=\"primary\"\n      class=\"more-items\"\n      (click)=\"loadAll()\"\n      *ngIf=\"moreItems > 0 && !loadingMore\"\n      [style.marginLeft.px]=\"50 + depth * 20\"\n    >\n      {{ 'WORKSPACE.TREE_MORE_ITEMS' | translate : { count: moreItems } }}\n    </button>\n    <es-spinner\n      class=\"more-items-loading\"\n      *ngIf=\"loadingMore\"\n      [style.marginLeft.px]=\"50 + depth * 20\"\n    ></es-spinner>\n  </div>\n  <div class=\"spinner\" *ngIf=\"loading\">\n    <es-spinner-small></es-spinner-small>\n  </div>\n</div>\n<!--\n<div [style.paddingLeft.px]=\"depth*20\" *ngIf=\"!loading && (!_nodes || !_nodes.length)\" class=\"empty\">\n  {{ 'WORKSPACE.NO_SUB_NODES' | translate }}\n</div>\n-->\n","import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { Node } from '../../../core-module/core.module';\nimport { CanDrop, DragData, DropSource, NodeRoot, OptionItem } from 'ngx-edu-sharing-ui';\nimport { WorkspacePageComponent } from '../workspace-page.component';\nimport { WorkspaceSubTreeComponent } from '../sub-tree/sub-tree.component';\n\n@Component({\n    selector: 'es-workspace-tree',\n    templateUrl: 'tree.component.html',\n    styleUrls: ['tree.component.scss'],\n})\nexport class WorkspaceTreeComponent {\n    @Input() root: NodeRoot;\n    @Input() workspace: WorkspacePageComponent;\n    @Input() isSafe: boolean;\n    @Input() selectedNode: string;\n    @Input() set path(path: Node[]) {\n        const pathIds = path.map((node) => node.ref.id);\n        this.currentPath = pathIds;\n    }\n    @Input() options: OptionItem[] = [];\n\n    @Output() onOpenNode = new EventEmitter();\n    @Output() onUpdateOptions = new EventEmitter();\n    @Output() onSetRoot = new EventEmitter();\n    @Output() onDrop = new EventEmitter<{ target: Node; source: DropSource<Node> }>();\n    @Output() onDeleteNodes = new EventEmitter();\n\n    @ViewChild(WorkspaceSubTreeComponent) subTree: WorkspaceSubTreeComponent;\n\n    readonly MY_FILES = 'MY_FILES';\n    readonly SHARED_FILES = 'SHARED_FILES';\n    readonly MY_SHARED_FILES = 'MY_SHARED_FILES';\n    readonly TO_ME_SHARED_FILES = 'TO_ME_SHARED_FILES';\n    readonly WORKFLOW_RECEIVE = 'WORKFLOW_RECEIVE';\n    readonly RECYCLE: 'RECYCLE' = 'RECYCLE';\n\n    currentPath: string[] = [];\n\n    constructor() {}\n\n    canDropOnRecycle = (dragData: DragData<'RECYCLE'>): CanDrop => {\n        return { accept: dragData.action === 'move' };\n    };\n\n    setRoot(root: string) {\n        this.onSetRoot.emit(root);\n        this.currentPath = [];\n    }\n\n    onNodesDrop(dragData: DragData<'RECYCLE'>) {\n        if (dragData.target === this.RECYCLE && dragData.action === 'move') {\n            this.onDeleteNodes.emit(dragData.draggedNodes);\n        }\n    }\n\n    drop(event: any) {\n        this.onDrop.emit(event);\n    }\n\n    updateOptions(event: Node) {\n        this.onUpdateOptions.emit(event);\n    }\n\n    openNode(event: Node) {\n        this.onOpenNode.emit(event);\n    }\n\n    public refresh() {\n        this.subTree?.refresh();\n    }\n}\n","<div class=\"rootNode\" [class.rootNodeSelected]=\"root == MY_FILES\" (click)=\"setRoot(MY_FILES)\">\n  <i class=\"material-icons typeIcon\">person</i>{{ 'WORKSPACE.MY_FILES' | translate }}\n  <i class=\"material-icons\" *ngIf=\"root == MY_FILES\">keyboard_arrow_down</i>\n  <i class=\"arrow\" class=\"material-icons\" *ngIf=\"root != MY_FILES\">keyboard_arrow_right</i>\n</div>\n<div class=\"tree\" *ngIf=\"root == MY_FILES\">\n  <es-workspace-sub-tree\n    [node]=\"'-userhome-'\"\n    [currentPath]=\"currentPath\"\n    (onUpdateOptions)=\"updateOptions($event)\"\n    (onDrop)=\"drop($event)\"\n    (onClick)=\"openNode($event)\"\n  ></es-workspace-sub-tree>\n</div>\n<div\n  class=\"rootNode\"\n  [class.rootNodeSelected]=\"root == SHARED_FILES\"\n  (click)=\"setRoot(SHARED_FILES)\"\n>\n  <i class=\"material-icons typeIcon\">group</i>{{ 'WORKSPACE.SHARED_FILES' | translate }}\n  <i class=\"material-icons\" *ngIf=\"root == SHARED_FILES\">keyboard_arrow_down</i>\n  <i class=\"arrow\" class=\"material-icons\" *ngIf=\"root != SHARED_FILES\">keyboard_arrow_right</i>\n</div>\n<div class=\"tree\" *ngIf=\"root == SHARED_FILES\">\n  <es-workspace-sub-tree\n    [node]=\"'-shared_files-'\"\n    [currentPath]=\"currentPath\"\n    (onUpdateOptions)=\"updateOptions($event)\"\n    (onDrop)=\"drop($event)\"\n    (onClick)=\"openNode($event)\"\n  ></es-workspace-sub-tree>\n</div>\n<div\n  class=\"rootNode\"\n  [class.rootNodeSelected]=\"root == MY_SHARED_FILES\"\n  (click)=\"setRoot(MY_SHARED_FILES)\"\n>\n  <i class=\"material-icons typeIcon\">share</i>{{ 'WORKSPACE.MY_SHARED_FILES' | translate }}\n  <i class=\"material-icons\" *ngIf=\"root == MY_SHARED_FILES\">keyboard_arrow_down</i>\n  <i class=\"arrow\" class=\"material-icons\" *ngIf=\"root != MY_SHARED_FILES\">keyboard_arrow_right</i>\n</div>\n<div class=\"tree\" *ngIf=\"root == MY_SHARED_FILES\">\n  <es-workspace-sub-tree\n    [node]=\"'-my_shared_files-'\"\n    [currentPath]=\"currentPath\"\n    (onUpdateOptions)=\"updateOptions($event)\"\n    (onDrop)=\"drop($event)\"\n    (onClick)=\"openNode($event)\"\n  ></es-workspace-sub-tree>\n</div>\n<div\n  class=\"rootNode\"\n  [class.rootNodeSelected]=\"root == TO_ME_SHARED_FILES\"\n  (click)=\"setRoot(TO_ME_SHARED_FILES)\"\n>\n  <i class=\"material-icons typeIcon\">send</i>{{ 'WORKSPACE.TO_ME_SHARED_FILES' | translate }}\n  <i class=\"material-icons\" *ngIf=\"root == TO_ME_SHARED_FILES\">keyboard_arrow_down</i>\n  <i class=\"arrow\" class=\"material-icons\" *ngIf=\"root != TO_ME_SHARED_FILES\"\n    >keyboard_arrow_right</i\n  >\n</div>\n<div class=\"tree\" *ngIf=\"root == TO_ME_SHARED_FILES\">\n  <es-workspace-sub-tree\n    [node]=\"workspace.getRootFolderInternalId()\"\n    [currentPath]=\"currentPath\"\n    (onUpdateOptions)=\"updateOptions($event)\"\n    (onDrop)=\"drop($event)\"\n    (onClick)=\"openNode($event)\"\n  ></es-workspace-sub-tree>\n</div>\n<div\n  class=\"rootNode\"\n  [class.rootNodeSelected]=\"root == WORKFLOW_RECEIVE\"\n  (click)=\"setRoot(WORKFLOW_RECEIVE)\"\n>\n  <i class=\"material-icons typeIcon\">inbox</i>{{ 'WORKSPACE.WORKFLOW_RECEIVE' | translate }}\n</div>\n<div class=\"tree\" *ngIf=\"root == WORKFLOW_RECEIVE\">\n  <es-workspace-sub-tree\n    [node]=\"'-workflow_receive-'\"\n    [currentPath]=\"currentPath\"\n    (onUpdateOptions)=\"updateOptions($event)\"\n    (onDrop)=\"drop($event)\"\n    (onClick)=\"openNode($event)\"\n  ></es-workspace-sub-tree>\n</div>\n<div\n  class=\"rootNode\"\n  [class.rootNodeSelected]=\"root == RECYCLE\"\n  (click)=\"setRoot(RECYCLE)\"\n  [esNodesDropTarget]=\"RECYCLE\"\n  [canDropNodes]=\"canDropOnRecycle\"\n  (nodeDropped)=\"onNodesDrop($event)\"\n>\n  <i class=\"material-icons typeIcon\">delete</i>{{ 'WORKSPACE.RECYCLE' | translate }}\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { WorkspacePageComponent } from './workspace-page.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: WorkspacePageComponent,\n    },\n    {\n        path: ':mode',\n        component: WorkspacePageComponent,\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class WorkspacePageRoutingModule {}\n","import { trigger } from '@angular/animations';\nimport { Component, HostListener, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ConfigService, UserService } from 'ngx-edu-sharing-api';\nimport {\n    ActionbarComponent,\n    AppContainerService,\n    CanDrop,\n    ClipboardObject,\n    CustomOptions,\n    DefaultGroups,\n    DragData,\n    DropSource,\n    DropTarget,\n    ElementType,\n    LocalEventsService,\n    NodeDataSource,\n    NodeEntriesDisplayType,\n    NodeRoot,\n    OptionItem,\n    TemporaryStorageService,\n    TranslationsService,\n    UIAnimation,\n    UIConstants,\n} from 'ngx-edu-sharing-ui';\nimport * as rxjs from 'rxjs';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { delay, first, map, take, takeUntil } from 'rxjs/operators';\nimport {\n    ConfigurationService,\n    Connector,\n    EventListener,\n    Filetype,\n    FrameEventsService,\n    IamUser,\n    Node,\n    NodeList,\n    NodeWrapper,\n    RestConnectorService,\n    RestConnectorsService,\n    RestConstants,\n    RestHelper,\n    RestIamService,\n    RestMdsService,\n    RestNodeService,\n    RestToolService,\n    SessionStorageService,\n    UIService,\n} from '../../core-module/core.module';\nimport { Helper } from '../../core-module/rest/helper';\nimport { mapVCard } from '../../core-module/rest/services/rest-iam.service';\nimport { UIHelper } from '../../core-ui-module/ui-helper';\nimport { Closable } from '../../features/dialogs/card-dialog/card-dialog-config';\nimport { OK } from '../../features/dialogs/dialog-modules/generic-dialog/generic-dialog-data';\nimport { DialogsService } from '../../features/dialogs/dialogs.service';\nimport { LoadingScreenService } from '../../main/loading-screen/loading-screen.service';\nimport { MainNavService } from '../../main/navigation/main-nav.service';\nimport {\n    SearchEvent,\n    SearchFieldService,\n} from '../../main/navigation/search-field/search-field.service';\nimport { CardService } from '../../services/card.service';\nimport { NodeHelperService } from '../../services/node-helper.service';\nimport { Toast } from '../../services/toast';\nimport { BreadcrumbsService } from '../../shared/components/breadcrumbs/breadcrumbs.service';\nimport { WorkspaceExplorerComponent } from './explorer/explorer.component';\nimport { WorkspaceTreeComponent } from './tree/tree.component';\nimport { canDragDrop, canDropOnNode } from './workspace-utils';\nimport { WorkspaceService } from './workspace.service';\nimport { ThemeService } from '../../services/theme.service';\nimport { RecycleMainComponent } from './recycle/recycle.component';\n\n@Component({\n    selector: 'es-workspace-page',\n    templateUrl: 'workspace-page.component.html',\n    styleUrls: ['workspace-page.component.scss'],\n    animations: [\n        trigger('fade', UIAnimation.fade()),\n        trigger('fadeFast', UIAnimation.fade(UIAnimation.ANIMATION_TIME_FAST)),\n        trigger('overlay', UIAnimation.openOverlay(UIAnimation.ANIMATION_TIME_FAST)),\n        trigger('fromLeft', UIAnimation.fromLeft()),\n        trigger('fromRight', UIAnimation.fromRight()),\n    ],\n})\nexport class WorkspacePageComponent implements EventListener, OnInit, OnDestroy {\n    private static VALID_ROOTS = [\n        'MY_FILES',\n        'SHARED_FILES',\n        'MY_SHARED_FILES',\n        'TO_ME_SHARED_FILES',\n        'WORKFLOW_RECEIVE',\n        'RECYCLE',\n    ];\n    private static VALID_ROOTS_NODES = [\n        RestConstants.USERHOME,\n        '-shared_files-',\n        '-my_shared_files-',\n        '-to_me_shared_files_personal-',\n        '-to_me_shared_files-',\n        '-workflow_receive-',\n    ];\n\n    @ViewChild('explorer') explorer: WorkspaceExplorerComponent;\n\n    @ViewChild(WorkspaceTreeComponent) treeComponent: WorkspaceTreeComponent;\n    @ViewChild(RecycleMainComponent) recycleMainComponent: RecycleMainComponent;\n    @ViewChild('actionbar') actionbarRef: ActionbarComponent;\n\n    cardHasOpenModals$: Observable<boolean>;\n    private isRootFolder: boolean;\n    private sharedFolders: Node[] = [];\n    path: Node[] = [];\n    private parameterNode: Node;\n    root: NodeRoot = 'MY_FILES';\n\n    showSelectRoot = false;\n\n    private allowBinarySubject = new BehaviorSubject(true);\n    get allowBinary() {\n        return this.allowBinarySubject.value;\n    }\n    set allowBinary(value) {\n        this.allowBinarySubject.next(value);\n    }\n    private createAllowedSubject = new BehaviorSubject<boolean | 'EMIT_EVENT'>(null);\n    get createAllowed(): boolean | 'EMIT_EVENT' {\n        return this.createAllowedSubject.value;\n    }\n    set createAllowed(value: boolean | 'EMIT_EVENT') {\n        this.createAllowedSubject.next(value);\n    }\n    private currentFolderSubject = new BehaviorSubject<Node>(null);\n    get currentFolder(): Node {\n        return this.currentFolderSubject.value;\n    }\n    set currentFolder(value: Node) {\n        this.currentFolderSubject.next(value);\n    }\n    private searchQuerySubject = new BehaviorSubject<{ node: Node; query: string }>(null);\n    get searchQuery(): { node: Node; query: string } {\n        return this.searchQuerySubject.value;\n    }\n    set searchQuery(value: { node: Node; query: string }) {\n        this.searchQuerySubject.next(value);\n    }\n\n    globalProgress = false;\n    editNodeDeleteOnCancel = false;\n    notAllowedReason: string;\n    user: IamUser;\n    isSafe = false;\n    isLoggedIn = false;\n    addNodesToCollection: Node[];\n    addNodesStream: Node[];\n    variantNode: Node;\n    mainnav = true;\n    isBlocked = false;\n\n    customOptions: CustomOptions = {\n        useDefaultOptions: true,\n    };\n\n    toMeSharedToggle: boolean;\n\n    readonly dataSource = new NodeDataSource<Node>();\n    private reurl: string;\n    showLtiTools = false;\n    private oldParams: Params;\n    selectedNodeTree: string;\n    contributorNode: Node;\n    shareLinkNode: Node;\n    displayType: NodeEntriesDisplayType = null;\n    reorderDialog: boolean;\n    private readonly destroyed$ = new Subject<void>();\n    private loadingTask = this.loadingScreen.addLoadingTask({ until: this.destroyed$ });\n\n    constructor(\n        private appContainer: AppContainerService,\n        private breadcrumbsService: BreadcrumbsService,\n        private card: CardService,\n        private config: ConfigurationService,\n        private connector: RestConnectorService,\n        private connectors: RestConnectorsService,\n        private dialogs: DialogsService,\n        private event: FrameEventsService,\n        private iam: RestIamService,\n        private loadingScreen: LoadingScreenService,\n        private localEvents: LocalEventsService,\n        private mainNavService: MainNavService,\n        private mds: RestMdsService,\n        private ngZone: NgZone,\n        private node: RestNodeService,\n        private nodeHelper: NodeHelperService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private searchField: SearchFieldService,\n        private session: SessionStorageService,\n        private storage: TemporaryStorageService,\n        private userService: UserService,\n        private toast: Toast,\n        private toolService: RestToolService,\n        private translate: TranslateService,\n        private translations: TranslationsService,\n        private configService: ConfigService,\n        private themeService: ThemeService,\n        private ui: UIService,\n        private workspace: WorkspaceService,\n    ) {\n        this.event.addListener(this, this.destroyed$);\n        this.connector.setRoute(this.route, this.router);\n        this.globalProgress = true;\n        this.translations.waitForInit().subscribe(() => {\n            void this.initialize();\n            this.cardHasOpenModals$ = this.card.hasOpenModals.pipe(delay(0));\n        });\n    }\n\n    ngOnInit(): void {\n        this.registerScroll();\n        this.registerUpdateMainNav();\n    }\n\n    ngOnDestroy(): void {\n        this.destroyed$.next();\n        this.destroyed$.complete();\n        this.storage.remove('workspace_clipboard');\n        if (this.currentFolder) {\n            this.storage.set(this.getLastLocationStorageId(), this.currentFolder.ref.id);\n        }\n    }\n\n    @HostListener('window:beforeunload', ['$event'])\n    beforeunloadHandler(event: any) {\n        if (this.isSafe) {\n            // not necessary anymore, stay in session on reload\n            // low session times for safe in backend to provide session hijacking\n            // this.connector.logout().toPromise();\n        }\n    }\n\n    private handleScroll(event: Event) {\n        const scroll = this.appContainer.getScrollContainer().scrollTop;\n        if (scroll > 0) {\n            this.storage.set('workspace_scroll', scroll);\n        }\n    }\n\n    onEvent(event: string, data: any): void {\n        if (event === FrameEventsService.EVENT_REFRESH) {\n            this.refresh();\n        }\n    }\n\n    /**\n     * Needs the following member variables to be initialized:\n     * - isSafe\n     * - isBlocked\n     * - mainnav\n     */\n    private initMainNav(): void {\n        this.mainNavService.setMainNavConfig({\n            title: this.isSafe ? 'WORKSPACE.TITLE_SAFE' : 'WORKSPACE.TITLE',\n            currentScope: this.isSafe ? 'safe' : 'workspace',\n            create: {\n                allowed: this.createAllowed,\n                allowBinary: this.allowBinary,\n                parent: this.currentFolder,\n                folder: true,\n            },\n            onCreate: (nodes) => this.explorer.nodeEntries.addVirtualNodes(nodes),\n            onCreateNotAllowed: () => this.createNotAllowed(),\n            canOpen: this.mainnav,\n        });\n        if (!this.isBlocked) {\n            const searchFieldInstance = this.searchField.enable(\n                {\n                    placeholder: this.isSafe ? 'WORKSPACE.SAFE_SEARCH' : 'WORKSPACE.SEARCH',\n                },\n                this.destroyed$,\n            );\n            searchFieldInstance.onSearchTriggered().subscribe((event) => this.doSearch(event));\n            this.searchQuerySubject.subscribe((searchQuery) =>\n                searchFieldInstance.setSearchString(searchQuery?.query),\n            );\n        } else {\n            this.searchField.disable();\n        }\n    }\n\n    private registerUpdateMainNav(): void {\n        rxjs.combineLatest([\n            this.createAllowedSubject,\n            this.allowBinarySubject,\n            this.currentFolderSubject,\n        ]).subscribe(([createAllowed, allowBinary, currentFolder]) =>\n            this.mainNavService.patchMainNavConfig({\n                create: {\n                    allowed: createAllowed,\n                    allowBinary: allowBinary,\n                    parent: currentFolder,\n                    folder: true,\n                },\n            }),\n        );\n    }\n\n    private registerScroll(): void {\n        this.appContainer.registerScrollEvents(\n            (event) => this.handleScroll(event),\n            this.destroyed$,\n        );\n    }\n\n    private editConnector(\n        node: Node = null,\n        type: Filetype = null,\n        win: any = null,\n        connectorType: Connector = null,\n    ) {\n        UIHelper.openConnector(\n            this.connectors,\n            this.iam,\n            this.event,\n            this.toast,\n            this.getNodeList(node)[0],\n            type,\n            win,\n            connectorType,\n        );\n    }\n\n    handleDrop(event: { target: DropTarget; source: DropSource<Node> }) {\n        if (event.source.mode === 'copy') {\n            this.copyNode(event.target, event.source.element);\n        } else {\n            this.moveNode(event.target, event.source.element);\n        }\n        /*\n        this.dialogTitle=\"WORKSPACE.DRAG_DROP_TITLE\";\n        this.dialogCancelable=true;\n        this.dialogMessage=\"WORKSPACE.DRAG_DROP_MESSAGE\";\n        this.dialogMessageParameters={source:event.source.name,target:event.target.name};\n        this.dialogButtons=[\n          new DialogButton(\"WORKSPACE.DRAG_DROP_COPY\",{ color: 'primary' },()=>this.copyNode(event.target,event.source)),\n          new DialogButton(\"WORKSPACE.DRAG_DROP_MOVE\",{ color: 'primary' },()=>this.moveNode(event.target,event.source)),\n        ]\n        */\n    }\n\n    handleDropOnBreadcrumb(event: { target: Node | 'HOME'; source: DropSource<Node> }) {\n        if (event.target === 'HOME') {\n            this.handleDrop({ target: this.root, source: event.source });\n        } else {\n            this.handleDrop(event as { target: Node; source: DropSource<Node> });\n        }\n    }\n\n    canDropOnBreadcrumb = (dragData: DragData<'HOME' | Node>): CanDrop => {\n        if (dragData.target === 'HOME') {\n            if (this.root === 'MY_FILES') {\n                return canDragDrop(dragData);\n            } else {\n                return { accept: false, denyExplicit: false };\n            }\n        } else {\n            return canDropOnNode(dragData as DragData<Node>);\n        }\n    };\n\n    private moveNode(target: DropTarget, source: Node[], position = 0) {\n        this.globalProgress = true;\n        if (position >= source.length) {\n            this.finishMoveCopy(target, source, false);\n            this.globalProgress = false;\n            return;\n        }\n        this.node\n            .moveNode((target as Node).ref?.id || RestConstants.USERHOME, source[position].ref.id)\n            .subscribe(\n                (data: NodeWrapper) => {\n                    this.moveNode(target, source, position + 1);\n                },\n                (error: any) => {\n                    this.nodeHelper.handleNodeError(source[position].name, error);\n                    source.splice(position, 1);\n                    this.moveNode(target, source, position + 1);\n                },\n            );\n    }\n\n    private copyNode(target: DropTarget, source: Node[], position = 0) {\n        this.globalProgress = true;\n        if (position >= source.length) {\n            this.finishMoveCopy(target, source, true);\n            this.globalProgress = false;\n            return;\n        }\n        this.node\n            .copyNode((target as Node).ref?.id || RestConstants.USERHOME, source[position].ref.id)\n            .subscribe(\n                (data: NodeWrapper) => {\n                    this.copyNode(target, source, position + 1);\n                },\n                (error: any) => {\n                    this.nodeHelper.handleNodeError(source[position].name, error);\n                    source.splice(position, 1);\n                    this.copyNode(target, source, position + 1);\n                },\n            );\n    }\n\n    private finishMoveCopy(target: DropTarget, source: Node[], copy: boolean) {\n        this.toast.closeProgressSpinner();\n        const info: any = {\n            to: (target as Node).name || this.translate.instant('WORKSPACE.MY_FILES'),\n            count: source.length,\n            mode: this.translate.instant('WORKSPACE.' + (copy ? 'PASTE_COPY' : 'PASTE_MOVE')),\n        };\n        if (source.length) {\n            this.toast.toast('WORKSPACE.TOAST.PASTE_DRAG', info);\n        }\n        this.globalProgress = false;\n        this.refresh();\n    }\n\n    private async initialize() {\n        this.route.params\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((routeParams: Params) => this.handleParamsUpdate(routeParams));\n        this.route.queryParams\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((params: Params) => this.handleQueryParamsUpdate(params));\n    }\n\n    private async initUser() {\n        try {\n            // wait until a valid user is present (issues after app login otherwise)\n            this.user = await this.userService\n                .observeCurrentUser()\n                .pipe(first(notNull), map(mapVCard))\n                .toPromise();\n        } catch (e) {\n            this.toast.error(e);\n            return;\n        }\n    }\n\n    private async handleParamsUpdate(routeParams: Params) {\n        this.isSafe = routeParams.mode === 'safe';\n        const login = await this.connector.isLoggedIn().toPromise();\n        if (login.statusCode !== RestConstants.STATUS_CODE_OK) {\n            RestHelper.goToLogin(this.router, this.config);\n            return;\n        }\n        let valid = true;\n        if (!login.isValidLogin || login.isGuest) {\n            valid = false;\n        }\n        this.isBlocked = !this.connector.hasToolPermissionInstant(\n            RestConstants.TOOLPERMISSION_WORKSPACE,\n        );\n        if (this.isSafe && login.currentScope !== RestConstants.SAFE_SCOPE) {\n            valid = false;\n        }\n        if (!this.isSafe && login.currentScope != null) {\n            this.connector.logout().subscribe(\n                () => {\n                    this.goToLogin();\n                },\n                (error: any) => {\n                    this.toast.error(error);\n                    this.goToLogin();\n                },\n            );\n            return;\n        }\n        if (!valid) {\n            this.goToLogin();\n            return;\n        }\n        await this.prepareActionbar();\n        await this.initUser();\n        this.loadFolders(this.user);\n\n        this.connector.scope = this.isSafe ? RestConstants.SAFE_SCOPE : null;\n        this.isLoggedIn = true;\n        this.globalProgress = false;\n\n        if (this.isSafe) {\n            const config = await this.configService.observeConfig().pipe(take(1)).toPromise();\n            if (config.themeColors?.colorSafe) {\n                this.themeService.applyFromConfigColors(config.themeColors.colorSafe);\n            }\n        }\n    }\n\n    private handleQueryParamsUpdate(params: Params) {\n        let needsUpdate = false;\n        if (this.oldParams) {\n            for (const key of Object.keys(this.oldParams).concat(Object.keys(params))) {\n                if (params[key] === this.oldParams[key]) {\n                    continue;\n                }\n                if (key === UIConstants.QUERY_PARAM_LIST_VIEW_TYPE) {\n                    continue;\n                } else if (['page', 'pageSize'].includes(key)) {\n                    // Handled by `NodeEntriesComponent`.\n                    continue;\n                }\n                needsUpdate = true;\n            }\n        } else {\n            needsUpdate = true;\n        }\n        if (params.displayType != null) {\n            this.setDisplayType(\n                parseInt(params[UIConstants.QUERY_PARAM_LIST_VIEW_TYPE], 10),\n                false,\n            );\n        } else {\n            this.setDisplayType(\n                this.config.instant(\n                    'workspaceViewType',\n                    NodeEntriesDisplayType.Table,\n                ) as NodeEntriesDisplayType,\n                false,\n            );\n        }\n        if (params.root && WorkspacePageComponent.VALID_ROOTS.indexOf(params.root) !== -1) {\n            this.root = params.root;\n        } else {\n            this.root = 'MY_FILES';\n        }\n        if (params.reurl) {\n            this.reurl = params.reurl;\n        }\n        this.mainnav = params.mainnav === 'false' ? false : true;\n\n        this.initMainNav();\n\n        if (params.file && params.file !== this.oldParams?.file) {\n            void this.showNodeInCurrentFolder(params.file);\n        }\n\n        if (!needsUpdate) {\n            return;\n        }\n        this.createAllowed = this.root === 'MY_FILES';\n        let lastLocation = this.storage.pop(this.getLastLocationStorageId(), null);\n        if (this.isSafe) {\n            // clear lastLocation, this is another folder than the safe\n            lastLocation = null;\n        }\n        if (!params.id && !params.query && lastLocation) {\n            this.openDirectory(lastLocation, { replaceUrl: true });\n        } else {\n            this.openDirectoryFromRoute(params);\n        }\n        if (params.showAlpha) {\n            this.showAlpha();\n        }\n        this.oldParams = params;\n    }\n\n    private async showNodeInCurrentFolder(id: string) {\n        // TODO: Consider moving this to `NodeDataSource`.\n        const visibleNodes = await this.explorer.dataSource\n            .connect()\n            .pipe(first((data) => data?.length > 1))\n            .toPromise();\n        let node = visibleNodes.find((node) => node.ref.id === id);\n        if (!node) {\n            ({ node } = await this.node.getNodeMetadata(id, [RestConstants.ALL]).toPromise());\n            if (node.parent?.id === this.currentFolder?.ref.id) {\n                this.explorer.dataSource.appendData([node], 'before');\n                // FIXME: The appended node will show up a second time when loading more data.\n            } else {\n                this.toast.error(null, 'WORKSPACE.TOAST.ELEMENT_NOT_IN_FOLDER');\n                return;\n            }\n        }\n        this.setSelection([node]);\n        this.parameterNode = node;\n        this.workspace.nodeSidebar = node;\n    }\n\n    resetWorkspace() {\n        if (this.workspace.nodeSidebar && this.parameterNode) {\n            this.setSelection([this.parameterNode]);\n        }\n    }\n\n    doSearch(event: SearchEvent) {\n        const id = this.currentFolder\n            ? this.currentFolder.ref.id\n            : this.searchQuery && this.searchQuery.node\n            ? this.searchQuery.node.ref.id\n            : null;\n        void this.routeTo(this.root, id, event.searchString);\n        if (!event.cleared) {\n            this.ui.hideKeyboardIfMobile();\n        }\n    }\n\n    private doSearchFromRoute(params: any, node: Node | any) {\n        node = this.isRootFolder ? null : node;\n        this.searchQuery = {\n            query: params.query,\n            node,\n        };\n        if (node == null && this.root !== 'RECYCLE') {\n            this.root = 'ALL_FILES';\n        }\n        this.createAllowed = 'EMIT_EVENT';\n        this.notAllowedReason = 'WORKSPACE.CREATE_REASON.SEARCH';\n        this.path = [];\n        this.breadcrumbsService.setNodePath(this.path);\n        this.setSelection([]);\n    }\n\n    private displayNode(event: Node) {\n        const list = this.getNodeList(event);\n        if (list[0].isDirectory || list[0].type === RestConstants.SYS_TYPE_CONTAINER) {\n            if (list[0].collection) {\n                UIHelper.goToCollection(this.router, list[0]);\n            } else {\n                this.openDirectory(list[0].ref.id);\n            }\n        } else {\n            /*\n            this.nodeDisplayed = event;\n            this.nodeDisplayedVersion = event.version;\n            */\n            this.storage.set(\n                TemporaryStorageService.NODE_RENDER_PARAMETER_DATA_SOURCE,\n                this.dataSource,\n            );\n            this.router.navigate(\n                [\n                    UIConstants.ROUTER_PREFIX + 'render',\n                    list[0].ref.id,\n                    list[0].version ? list[0].version : '',\n                ],\n                {\n                    state: {\n                        scope: 'workspace',\n                    },\n                },\n            );\n        }\n    }\n\n    // returns either the passed node as list, or the current selection if the passed node is invalid (actionbar)\n    private getNodeList(node: Node): Node[] {\n        if (Array.isArray(node)) {\n            return node;\n        }\n        let nodes = [node];\n        if (node == null) {\n            nodes = this.explorer.nodeEntries.getSelection().selected;\n        }\n        return nodes;\n    }\n\n    private loadFolders(user: IamUser) {\n        for (const folder of user.person.sharedFolders) {\n            this.node\n                .getNodeMetadata(folder.id)\n                .subscribe((node: NodeWrapper) => this.sharedFolders.push(node.node));\n        }\n    }\n\n    setRoot(root: NodeRoot) {\n        this.root = root;\n        this.searchQuery = null;\n        this.routeTo(root, null, null);\n        this.actionbarRef.invalidate();\n    }\n\n    setSelection(nodes: Node[]) {\n        this.explorer?.nodeEntries.getSelection().clear();\n        this.explorer?.nodeEntries.getSelection().select(...nodes);\n        this.setFixMobileNav();\n    }\n\n    private setFixMobileNav() {\n        this.mainNavService\n            .getMainNav()\n            .setFixMobileElements(this.explorer?.nodeEntries.getSelection().selected?.length > 0);\n    }\n\n    private closeMetadata() {\n        this.workspace.nodeSidebar = null;\n        this.workspace.nodeSidebarChange.emit(null);\n    }\n\n    private openDirectory(id: string, { replaceUrl = false } = {}) {\n        this.routeTo(this.root, id, null, { replaceUrl });\n    }\n\n    searchGlobal(query: string) {\n        this.routeTo(this.root, null, query);\n    }\n\n    private openDirectoryFromRoute(params: any = null) {\n        let id = params?.id;\n        this.closeMetadata();\n        if (!id) {\n            this.path = [];\n            this.breadcrumbsService.setNodePath(this.path);\n            id = this.getRootFolderInternalId();\n            if (this.root === 'RECYCLE') {\n                this.createAllowed = false;\n                // GlobalContainerComponent.finishPreloading();\n                // return;\n            }\n        } else {\n            this.selectedNodeTree = id;\n            if (id === RestConstants.USERHOME) {\n                this.selectedNodeTree = null;\n                this.path = [];\n            } else {\n                this.node.getNodeParents(id, false, [RestConstants.ALL]).subscribe(\n                    (data: NodeList) => {\n                        if (this.root === 'RECYCLE') {\n                            this.path = [];\n                            this.breadcrumbsService.setNodePath(this.path);\n                            this.createAllowed = false;\n                        } else {\n                            this.path = data.nodes.reverse();\n                            this.breadcrumbsService.setNodePath(this.path);\n                        }\n                        this.selectedNodeTree = null;\n                    },\n                    (error: any) => {\n                        this.selectedNodeTree = null;\n                        this.path = [];\n                        this.breadcrumbsService.setNodePath(this.path);\n                    },\n                );\n            }\n        }\n        if (this.currentFolder?.ref.id !== id) {\n            this.currentFolder = null;\n        }\n        this.allowBinary = true;\n        const root = !id || WorkspacePageComponent.VALID_ROOTS_NODES.indexOf(id) !== -1;\n        if (!root) {\n            this.isRootFolder = false;\n            this.node.getNodeMetadata(id).subscribe(\n                (data: NodeWrapper) => {\n                    this.mds\n                        .getSet(\n                            data.node.metadataset ? data.node.metadataset : RestConstants.DEFAULT,\n                        )\n                        .subscribe((mds: any) => {\n                            if (mds.create) {\n                                this.allowBinary = !mds.create.onlyMetadata;\n                                if (!this.allowBinary) {\n                                }\n                            }\n                        });\n                    this.updateNodeByParams(params, data.node);\n                    this.createAllowed =\n                        !this.searchQuery &&\n                        this.nodeHelper.getNodesRight(\n                            [data.node],\n                            RestConstants.ACCESS_ADD_CHILDREN,\n                        )\n                            ? true\n                            : 'EMIT_EVENT';\n                    this.notAllowedReason = 'WORKSPACE.CREATE_REASON.PERMISSIONS';\n                    this.recoverScrollposition();\n                },\n                (error: any) => {\n                    this.updateNodeByParams(params, { ref: { id } });\n                },\n            );\n        } else {\n            this.isRootFolder = true;\n            if (\n                id === '-my_shared_files-' ||\n                id === '-to_me_shared_files_personal-' ||\n                id === '-to_me_shared_files-'\n            ) {\n                this.isRootFolder = false;\n            }\n            if (id === RestConstants.USERHOME) {\n                this.createAllowed = true;\n            } else if (this.root === 'RECYCLE') {\n                this.createAllowed = false;\n            } else {\n                this.createAllowed = 'EMIT_EVENT';\n                this.notAllowedReason = 'WORKSPACE.CREATE_REASON.VIRTUAL';\n            }\n            const node: Node | any = {\n                ref: {\n                    id,\n                },\n                name: this.translate.instant('WORKSPACE.' + this.root),\n            };\n            if (this.root === 'MY_FILES') {\n                node.access = [RestConstants.ACCESS_ADD_CHILDREN];\n            }\n            this.updateNodeByParams(params, node);\n        }\n    }\n\n    openNode(node: Node, useConnector = true) {\n        if (this.nodeHelper.isSavedSearchObject(node)) {\n            UIHelper.routeToSearchNode(this.router, null, node);\n        } else if (RestToolService.isLtiObject(node)) {\n            this.toolService.openLtiObject(node);\n        } else if (useConnector && this.connectors.connectorSupportsEdit(node)) {\n            this.editConnector(node);\n        } else {\n            this.displayNode(node);\n        }\n    }\n\n    openBreadcrumb(position: number) {\n        this.searchQuery = null;\n        if (position > 0) {\n            // handled automatically via routing\n        } else {\n            // TODO: handle with homeRouterLink if possible.\n            if (\n                UIService.evaluateMediaQuery(\n                    UIConstants.MEDIA_QUERY_MAX_WIDTH,\n                    UIConstants.MOBILE_TAB_SWITCH_WIDTH,\n                )\n            ) {\n                this.showSelectRoot = true;\n            } else {\n                this.routeTo(this.root);\n            }\n        }\n    }\n\n    private refresh(refreshPath = true, nodes: Node[] = null) {\n        // only refresh properties in this case\n        if (nodes && nodes.length) {\n            this.updateNodes(nodes);\n            return;\n        }\n        const search = this.searchQuery;\n        const folder = this.currentFolder;\n        this.currentFolder = null;\n        this.searchQuery = null;\n        const path = this.path;\n        if (refreshPath) {\n            this.path = [];\n            this.breadcrumbsService.setNodePath(this.path);\n        }\n        setTimeout(() => {\n            this.path = path;\n            this.breadcrumbsService.setNodePath(this.path);\n            this.currentFolder = folder;\n            this.searchQuery = search;\n        });\n    }\n\n    private async routeTo(\n        root: string,\n        node: string = null,\n        search: string = null,\n        { replaceUrl = false } = {},\n    ) {\n        const params = await UIHelper.getCommonParameters(this.route).toPromise();\n        params.root = root;\n        params.id = node;\n        params.query = search;\n        params.mainnav = this.mainnav;\n        // tslint:disable-next-line:triple-equals\n        if (this.displayType !== null) {\n            params.displayType = this.displayType;\n        }\n        void this.router\n            .navigate(['./'], { queryParams: params, relativeTo: this.route, replaceUrl })\n            .then((result: boolean) => {\n                if (!result) {\n                    this.refresh(false);\n                }\n            });\n    }\n\n    private showAlpha() {\n        void this.dialogs.openGenericDialog({\n            title: 'WORKSPACE.ALPHA_TITLE',\n            message: 'WORKSPACE.ALPHA_MESSAGE',\n            buttons: OK,\n            closable: Closable.Disabled,\n        });\n    }\n\n    private addToCollection(node: Node) {\n        const nodes = this.getNodeList(node);\n        this.addNodesToCollection = nodes;\n    }\n    private addToStream(node: Node) {\n        const nodes = this.getNodeList(node);\n        this.addNodesStream = nodes;\n    }\n    private createVariant(node: Node) {\n        const nodes = this.getNodeList(node);\n        this.variantNode = nodes[0];\n    }\n\n    private goToLogin() {\n        RestHelper.goToLogin(this.router, this.config, this.isSafe ? RestConstants.SAFE_SCOPE : '');\n    }\n\n    getRootFolderId() {\n        if (this.root === 'MY_FILES') {\n            return RestConstants.USERHOME;\n        }\n        if (this.root === 'SHARED_FILES') {\n            return RestConstants.SHARED_FILES;\n        }\n        if (this.root === 'MY_SHARED_FILES') {\n            return RestConstants.MY_SHARED_FILES;\n        }\n        if (this.root === 'TO_ME_SHARED_FILES') {\n            return RestConstants.TO_ME_SHARED_FILES;\n        }\n        if (this.root === 'WORKFLOW_RECEIVE') {\n            return RestConstants.WORKFLOW_RECEIVE;\n        }\n        return '';\n    }\n\n    getRootFolderInternalId() {\n        if (this.root === 'TO_ME_SHARED_FILES') {\n            if (this.toMeSharedToggle) {\n                return RestConstants.TO_ME_SHARED_FILES;\n            } else {\n                return RestConstants.TO_ME_SHARED_FILES_PERSONAL;\n            }\n        }\n        return this.getRootFolderId();\n    }\n\n    listLTI() {\n        this.showLtiTools = true;\n    }\n\n    private recoverScrollposition() {\n        window.scrollTo(0, this.storage.get('workspace_scroll', 0));\n    }\n\n    private applyNode(node: Node, force = false) {\n        /*if(node.isDirectory && !force){\n            this.dialogTitle='WORKSPACE.APPLY_NODE.DIRECTORY_TITLE';\n            this.dialogCancelable=true;\n            this.dialogMessage='WORKSPACE.APPLY_NODE.DIRECTORY_MESSAGE';\n            this.dialogMessageParameters={name:node.name};\n            this.dialogButtons=DialogButton.getYesNo(()=>{\n                this.dialogTitle=null;\n            },()=>{\n                this.dialogTitle=null;\n                this.applyNode(node,true);\n            });\n            return;\n        }*/\n        this.nodeHelper.addNodeToLms(node, this.reurl);\n    }\n\n    private updateNodeByParams(params: any, node: Node | any) {\n        if (!this.loadingTask.isDone) {\n            this.loadingTask.done();\n        }\n        if (params?.query) {\n            this.doSearchFromRoute(params, node);\n        } else {\n            this.searchQuery = null;\n            this.currentFolder = node;\n            this.event.broadcastEvent(\n                FrameEventsService.EVENT_NODE_FOLDER_OPENED,\n                this.currentFolder,\n            );\n        }\n    }\n\n    private canPasteInCurrentLocation() {\n        const clip = this.storage.get('workspace_clipboard') as ClipboardObject;\n        return (\n            this.currentFolder &&\n            !this.searchQuery &&\n            clip &&\n            (!clip.sourceNode ||\n                clip.sourceNode.ref.id !== this.currentFolder.ref.id ||\n                clip.copy) &&\n            this.createAllowed\n        );\n    }\n\n    private updateNodes(nodes: Node[]) {\n        for (let node of this.dataSource.getData()) {\n            const hit = nodes.filter((n) => n.ref.id === node.ref.id);\n            if (hit && hit.length === 1) {\n                Helper.copyObjectProperties(node, hit[0]);\n            }\n        }\n    }\n\n    async prepareActionbar() {\n        this.toMeSharedToggle = await this.session\n            .get('toMeSharedGroup', this.config.instant('workspaceSharedToMeDefaultAll', false))\n            .toPromise();\n        const toggle = new OptionItem(\n            'OPTIONS.TOGGLE_SHARED_TO_ME',\n            this.toMeSharedToggle ? 'edu-content_shared_me_all' : 'edu-content_shared_me_private',\n            () => {\n                this.toMeSharedToggle = !this.toMeSharedToggle;\n                toggle.icon = this.toMeSharedToggle\n                    ? 'edu-content_shared_me_all'\n                    : 'edu-content_shared_me_private';\n                this.session.set('toMeSharedGroup', this.toMeSharedToggle);\n                this.openDirectoryFromRoute();\n                //this.treeComponent.reload = Boolean(true);\n                this.toast.toast(\n                    'WORKSPACE.TOAST.TO_ME_SHARED_' + (this.toMeSharedToggle ? 'ALL' : 'PERSONAL'),\n                );\n            },\n        );\n        toggle.isToggle = true;\n        toggle.group = DefaultGroups.Toggles;\n        toggle.elementType = [ElementType.Unknown];\n        toggle.priority = 5;\n        toggle.customShowCallback = async () => {\n            return this.root === 'TO_ME_SHARED_FILES';\n        };\n        this.customOptions.addOptions = [toggle];\n    }\n\n    private getLastLocationStorageId() {\n        return (\n            TemporaryStorageService.WORKSPACE_LAST_LOCATION +\n            (this.isSafe ? RestConstants.SAFE_SCOPE : '')\n        );\n    }\n\n    setDisplayType(displayType: NodeEntriesDisplayType, refreshRoute = true) {\n        if (this.displayType === displayType) {\n            return;\n        }\n        this.displayType = displayType;\n        if (refreshRoute) {\n            void this.router.navigate(['./'], {\n                relativeTo: this.route,\n                replaceUrl: true,\n                queryParamsHandling: 'merge',\n                queryParams: {\n                    [UIConstants.QUERY_PARAM_LIST_VIEW_TYPE]: displayType,\n                },\n            });\n        }\n    }\n\n    async createNotAllowed() {\n        const dialogRef = await this.dialogs.openGenericDialog({\n            title: 'WORKSPACE.CREATE_REASON.TITLE',\n            message:\n                (await this.translate.get(this.notAllowedReason).toPromise()) +\n                '\\n' +\n                (await this.translate.get('WORKSPACE.CREATE_REASON.GENERAL').toPromise()),\n            buttons: [\n                {\n                    label: 'WORKSPACE.GO_TO_HOME',\n                    config: { color: 'primary', position: 'opposite' },\n                },\n                { label: 'CLOSE', config: { color: 'standard' } },\n            ],\n        });\n        dialogRef.afterClosed().subscribe((response) => {\n            if (response === 'WORKSPACE.GO_TO_HOME') {\n                this.openDirectory(RestConstants.USERHOME);\n            }\n        });\n    }\n\n    onDeleteNodes(nodes: Node[]): void {\n        this.dialogs.openDeleteNodesDialog({ nodes });\n        // this.mainNavService.getDialogs().nodeDelete = nodes;\n    }\n}\n\nfunction notNull<T>(value?: T): boolean {\n    return value !== undefined && value !== null;\n}\n","<div class=\"frame\" cdkDropList [cdkDropListSortingDisabled]=\"true\">\n  <div class=\"topbarFrame\">\n    <div class=\"mobile-move-top\">\n      <es-breadcrumbs\n        *ngIf=\"isLoggedIn\"\n        [searchQuery]=\"searchQuery?.query\"\n        [home]=\"'WORKSPACE.' + root\"\n        [canDropNodes]=\"canDropOnBreadcrumb\"\n        (onDrop)=\"handleDropOnBreadcrumb($event)\"\n        (onClick)=\"openBreadcrumb($event)\"\n      ></es-breadcrumbs>\n      <es-actionbar #actionbar></es-actionbar>\n    </div>\n  </div>\n  <div *ngIf=\"isBlocked\" class=\"workspace-container isBlocked\">\n    {{ 'NO_PERMISSIONS_FOR_SCOPE' | translate }}\n  </div>\n  <div *ngIf=\"!isBlocked\" class=\"workspace-container\" [class.hide]=\"globalProgress\">\n    <div class=\"dialog\" *ngIf=\"showSelectRoot\" (click)=\"showSelectRoot = false\"></div>\n    <div class=\"selectRootMenu collection\" [@overlay]=\"showSelectRoot\" *ngIf=\"showSelectRoot\">\n      <a\n        class=\"collection-item\"\n        [class.rootSelected]=\"root === 'MY_FILES'\"\n        (click)=\"showSelectRoot = false; setRoot('MY_FILES')\"\n        ><i esIcon=\"person\"></i> {{ 'WORKSPACE.MY_FILES' | translate }}</a\n      >\n      <a\n        class=\"collection-item\"\n        [class.rootSelected]=\"root === 'SHARED_FILES'\"\n        (click)=\"showSelectRoot = false; setRoot('SHARED_FILES')\"\n        ><i esIcon=\"group\"></i> {{ 'WORKSPACE.SHARED_FILES' | translate }}</a\n      >\n      <a\n        class=\"collection-item\"\n        [class.rootSelected]=\"root === 'MY_SHARED_FILES'\"\n        (click)=\"showSelectRoot = false; setRoot('MY_SHARED_FILES')\"\n        ><i esIcon=\"share\"></i> {{ 'WORKSPACE.MY_SHARED_FILES' | translate }}</a\n      >\n      <a\n        class=\"collection-item\"\n        [class.rootSelected]=\"root === 'TO_ME_SHARED_FILES'\"\n        (click)=\"showSelectRoot = false; setRoot('TO_ME_SHARED_FILES')\"\n        ><i esIcon=\"send\"></i> {{ 'WORKSPACE.TO_ME_SHARED_FILES' | translate }}</a\n      >\n      <a\n        class=\"collection-item\"\n        [class.rootSelected]=\"root === 'WORKFLOW_RECEIVE'\"\n        (click)=\"showSelectRoot = false; setRoot('WORKFLOW_RECEIVE')\"\n        ><i esIcon=\"inbox\"></i> {{ 'WORKSPACE.WORKFLOW_RECEIVE' | translate }}</a\n      >\n      <a\n        class=\"collection-item\"\n        [class.rootSelected]=\"root === 'RECYCLE'\"\n        (click)=\"showSelectRoot = false; setRoot('RECYCLE')\"\n        ><i esIcon=\"delete\"></i> {{ 'WORKSPACE.RECYCLE' | translate }}</a\n      >\n    </div>\n    <div class=\"tree\" *ngIf=\"isLoggedIn\">\n      <es-workspace-tree\n        [class.tree-quota]=\"user.person.quota.enabled\"\n        [path]=\"path\"\n        [selectedNode]=\"selectedNodeTree\"\n        [root]=\"root\"\n        [workspace]=\"this\"\n        [isSafe]=\"isSafe\"\n        (onDrop)=\"handleDrop($event)\"\n        (onSetRoot)=\"setRoot($event)\"\n        (onOpenNode)=\"openNode($event)\"\n        (onDeleteNodes)=\"onDeleteNodes($event)\"\n      ></es-workspace-tree>\n      <es-user-quota *ngIf=\"user.person.quota.enabled\" [quota]=\"user.person.quota\"></es-user-quota>\n    </div>\n    <es-recycle *ngIf=\"root === 'RECYCLE'\" class=\"explorer\" [actionbar]=\"actionbar\"></es-recycle>\n    <h1 esTitle class=\"cdk-visually-hidden\">{{ 'WORKSPACE.TITLE' | translate }}</h1>\n    <es-workspace-explorer\n      class=\"explorer\"\n      #explorer\n      role=\"main\"\n      esSkipTarget=\"MAIN_CONTENT\"\n      appCreateContextMenu\n      *ngIf=\"root !== 'RECYCLE'\"\n      [current]=\"currentFolder\"\n      [root]=\"root\"\n      (refreshTree)=\"treeComponent?.refresh()\"\n      [searchQuery]=\"searchQuery\"\n      [customOptions]=\"customOptions\"\n      [displayType]=\"displayType\"\n      (displayTypeChange)=\"setDisplayType($event)\"\n      [(reorderDialog)]=\"reorderDialog\"\n      [preventKeyevents]=\"cardHasOpenModals$ | async\"\n      [dataSource]=\"dataSource\"\n      [actionbar]=\"actionbar\"\n      (onSearchGlobal)=\"searchGlobal($event)\"\n      (onDrop)=\"handleDrop($event)\"\n      (onViewNode)=\"openNode($any($event), false)\"\n      (onOpenNode)=\"openNode($any($event), false)\"\n      (onReset)=\"resetWorkspace()\"\n    ></es-workspace-explorer>\n  </div>\n  <es-global-progress *ngIf=\"globalProgress\"></es-global-progress>\n</div>\n\n<es-metadata-sidebar></es-metadata-sidebar>\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\nimport { WorkspaceExplorerComponent } from './explorer/explorer.component';\nimport { WorkspaceMetadataBlockComponent } from './metadata/metadata-block.component';\nimport { MetadataSidebarComponent } from './metadata/metadata-sidebar.component';\nimport { WorkspaceMetadataComponent } from './metadata/metadata.component';\nimport { RecycleMainComponent } from './recycle/recycle.component';\nimport { WorkspaceSubTreeComponent } from './sub-tree/sub-tree.component';\nimport { WorkspaceTreeComponent } from './tree/tree.component';\nimport { WorkspacePageRoutingModule } from './workspace-page-routing.module';\nimport { WorkspacePageComponent } from './workspace-page.component';\n\n@NgModule({\n    declarations: [\n        MetadataSidebarComponent,\n        RecycleMainComponent,\n        WorkspaceExplorerComponent,\n        WorkspaceMetadataBlockComponent,\n        WorkspaceMetadataComponent,\n        WorkspacePageComponent,\n        WorkspaceSubTreeComponent,\n        WorkspaceTreeComponent,\n    ],\n    imports: [SharedModule, WorkspacePageRoutingModule],\n    exports: [WorkspaceMetadataBlockComponent],\n})\nexport class WorkspacePageModule {}\n"],"names":["EventEmitter","ConfigurationHelper","RestConstants","DurationHelper","FormatDatePipe","NodeImageSizePipe","VCard","i0","ɵɵelementStart","ɵɵlistener","WorkspaceMetadataBlockComponent_ng_container_0_button_5_Template_button_click_0_listener","ɵɵrestoreView","_r31","ctx_r30","ɵɵnextContext","ɵɵresetView","onEditMetadata","emit","_node","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","ctx_r3","data","title","ɵɵtextInterpolate1","keyword_r33","ɵɵtemplate","WorkspaceMetadataBlockComponent_ng_container_0_div_15_div_1_Template","ɵɵproperty","ctx_r5","keywords","ctx_r7","description","ctx_r9","author_freetext","ctx_r11","author","ctx_r12","mediatype","ctx_r16","mimetype","ctx_r18","exifDate","ctx_r20","dimensions","ctx_r22","duration","ctx_r24","size","authority_r39","WorkspaceMetadataBlockComponent_ng_container_0_div_47_div_2_div_1_Template","ctx_r35","permissions","users","authority_r41","WorkspaceMetadataBlockComponent_ng_container_0_div_47_div_4_div_1_Template","ctx_r37","groups","WorkspaceMetadataBlockComponent_ng_container_0_div_47_div_1_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_47_div_2_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_47_div_3_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_47_div_4_Template","ctx_r26","length","ɵɵelement","license_r42","ɵɵsanitizeUrl","ctx_r28","licenseName","aspect_r45","property_r46","WorkspaceMetadataBlockComponent_ng_container_0_div_51_div_4_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_51_div_5_Template","ctx_r29","aspects","properties","ɵɵelementContainerStart","WorkspaceMetadataBlockComponent_ng_container_0_Template_img_click_1_listener","_r48","ctx_r47","onDisplay","WorkspaceMetadataBlockComponent_ng_container_0_button_5_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_12_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_13_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_14_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_15_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_16_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_17_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_18_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_19_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_20_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_21_Template","WorkspaceMetadataBlockComponent_ng_container_0_span_33_Template","WorkspaceMetadataBlockComponent_ng_container_0_span_34_Template","WorkspaceMetadataBlockComponent_ng_container_0_span_35_Template","WorkspaceMetadataBlockComponent_ng_container_0_span_36_Template","WorkspaceMetadataBlockComponent_ng_container_0_span_37_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_38_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_39_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_40_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_41_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_42_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_43_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_44_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_45_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_46_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_47_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_48_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_49_Template","WorkspaceMetadataBlockComponent_ng_container_0_div_51_Template","ɵɵelementContainerEnd","ɵɵpipeBind2","ctx_r0","isAnimated","ɵɵpureFunction0","_c0","_c1","canEdit","name","creator","createDate","isDirectory","isCollection","license","tmp_35_0","connector","getCurrentLogin","isAdmin","WorkspaceMetadataBlockComponent","node","load","_this","_asyncToGenerator","format","nodeApi","getNodePermissions","ref","id","subscribe","formatPermissions","collection","LOM_PROP_GENERAL_DESCRIPTION","preview","url","LOM_PROP_GENERAL_KEYWORD","getPersonWithConfigDisplayName","createdBy","configService","translate","transform","createdAt","getDurationFormatted","LOM_PROP_TECHNICAL_DURATION","toVCards","CCM_PROP_LIFECYCLECONTRIBUTER_AUTHOR","join","CCM_PROP_AUTHOR_FREETEXT","EXIF_PROP_DATE_TIME_ORIGINAL","nodeHelper","getLicenseIcon","getLicenseName","sort","k","Object","keys","push","constructor","hasAnimatedPreview","currentAuth","authorityName","permission","inheritedPermissions","authority","authorityType","AUTHORITY_TYPE_OWNER","AUTHORITY_TYPE_USER","localPermissions","containsPermission","vcards","p","getDisplayName","perm","access","indexOf","ACCESS_WRITE","_","ɵɵdirectiveInject","i1","RestConnectorService","RestNodeService","i2","TranslateService","i3","ConfigService","i4","NodeHelperService","_2","selectors","inputs","outputs","decls","vars","consts","template","WorkspaceMetadataBlockComponent_Template","rf","ctx","WorkspaceMetadataBlockComponent_ng_container_0_Template","trigger","UIAnimation","UIConstants","YES_OR_NO","BulkBehavior","MetadataSidebarComponent_es_workspace_metadata_0_Template_es_workspace_metadata_onRestore_0_listener","$event","_r2","ctx_r1","restoreVersion","MetadataSidebarComponent_es_workspace_metadata_0_Template_es_workspace_metadata_onDisplay_0_listener","goToNode","MetadataSidebarComponent_es_workspace_metadata_0_Template_es_workspace_metadata_onEditMetadata_0_listener","ctx_r4","openMdsEditor","MetadataSidebarComponent_es_workspace_metadata_0_Template_es_workspace_metadata_onClose_0_listener","closeSidebar","nodeSidebar","MetadataSidebarComponent","workspace","dialogs","localEvents","router","toast","handleKeyboardEvent","event","key","preventDefault","stopPropagation","restore","dialogRef","openGenericDialog","message","buttons","nodes","afterClosed","response","doRestoreVersion","version","showProgressSpinner","revertNodeToVersion","major","minor","closeProgressSpinner","getNodeMetadata","ALL","nodesChanged","nodeSidebarChange","error","navigate","ROUTER_PREFIX","_this2","openMdsEditorDialogForNodes","bulkBehavior","Default","updatedNodes","closeMdsEditor","originalNodes","refresh","DialogsService","LocalEventsService","Router","i5","Toast","i6","WorkspaceService","hostBindings","MetadataSidebarComponent_HostBindings","ɵɵresolveDocument","MetadataSidebarComponent_es_workspace_metadata_0_Template","fromRight","InteractionType","ListItem","NodeDataSource","NodeEntriesDisplayType","BehaviorSubject","distinctUntilChanged","filter","RestHelper","UIHelper","BarController","BarElement","CategoryScale","Chart","LinearScale","PointElement","Tooltip","Title","ɵɵprojection","ctx_r14","statsTotalPoints","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_ng_template_2_Template","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_ng_content_3_Template","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_ng_template_5_Template","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_ng_content_6_Template","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_ng_template_8_Template","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_ng_content_9_Template","_r6","_r8","_r10","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_2_ng_content_1_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_4_Template_es_workspace_metadata_block_onDisplay_0_listener","_r20","ctx_r19","display","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_4_Template_es_workspace_metadata_block_onEditMetadata_0_listener","ctx_r21","edit","nodeObject","ctx_r23","stats","pointsIcons","i_r31","point_r30","ɵɵpureFunction1","usagesCollectionData","ctx_r25","usagesCollection","columnsCollections","SmallGrid","DefaultActionLink","ctx_r27","staticDataSource","forkedParent","columns","Table","forkedChildren","getData","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_li_7_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_p_13_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_es_node_entries_wrapper_14_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_div_15_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_es_node_entries_wrapper_16_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_div_17_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_es_node_entries_wrapper_18_Template","points","isEmpty","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_2_button_18_Template_button_click_0_listener","_r40","version_r34","$implicit","ctx_r38","ɵɵclassProp","canRevert","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_2_span_2_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_2_span_3_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_2_Template_button_click_14_listener","restoredCtx","_r42","ctx_r41","displayVersion","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_2_button_18_Template","ctx_r33","isCurrentVersion","ɵɵtextInterpolate2","modifiedBy","firstName","lastName","modifiedAt","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_1_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_div_2_Template","versionsLoading","versions","WorkspaceMetadataComponent_div_0_ng_container_9_mat_tab_group_1_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_2_Template","ɵɵtemplateRefExtractor","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_4_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_6_Template","WorkspaceMetadataComponent_div_0_ng_container_9_ng_template_8_Template","ctx_r2","_r4","WorkspaceMetadataComponent_div_0_Template_button_click_5_listener","_r44","ctx_r43","close","WorkspaceMetadataComponent_div_0_es_spinner_8_Template","WorkspaceMetadataComponent_div_0_ng_container_9_Template","loading","register","WorkspaceMetadataComponent","canvas","_canvas","value","drawBarChart","nodeSubject","next","config","iamApi","nodeService","searchApi","usageApi","onDownload","onClose","onRestore","INFO","PROPERTIES","VERSIONS","connect","labels","colors","CM_NAME","ngOnInit","pipe","resetStats","toPromise","currentNode","getVersionsMetadata","repo","reverse","comment","COMMENT_MAIN_FILE_UPLOAD","COMMENT_METADATA_UPDATE","COMMENT_CONTRIBUTOR_UPDATE","COMMENT_CONTENT_UPDATE","COMMENT_LICENSE_UPDATE","COMMENT_NODE_PUBLISHED","COMMENT_PREVIEW_CHANGED","startsWith","COMMENT_EDITOR_UPLOAD","parameters","split","editor","instant","i","splice","getUser","login","usages","reset","CCM_PROP_FORKED_ORIGIN","removeSpacesStoreRef","parent","request","propertyFilter","getForkedChilds","childs","setData","getNodeUsages","getNodeUsagesCollection","c","collectionUsageType","map","getStats","prop","LOM_PROP_LIFECYCLE_VERSION","displayNode","displayCollection","goToCollection","openPermalink","person","propertyToNumber","CCM_PROP_TRACKING_DOWNLOADS","CCM_PROP_TRACKING_VIEWS","reduce","a","b","nativeElement","getContext","statsMax","Math","max","currentChart","destroy","console","log","type","datasets","backgroundColor","borderWidth","options","indexAxis","plugins","legend","tooltip","responsive","layout","padding","left","right","top","bottom","scales","x","ticks","y","beginAtZero","round","RestIamService","NodeService","RestSearchService","RestUsageService","viewQuery","WorkspaceMetadataComponent_Query","WorkspaceMetadataComponent_div_0_Template","property","parseInt","DefaultGroups","ElementType","ListItemSort","OptionItem","Scope","Subject","takeUntil","Closable","CLOSE","DELETE_OR_CANCEL","RecycleMainComponent_ng_template_2_h3_0_Template","RecycleMainComponent_ng_template_2_h3_1_Template","searchQuery","RecycleMainComponent_ng_template_4_Template_mat_checkbox_ngModelChange_5_listener","skipDeleteConfirmation","result_r15","RecycleMainComponent_ng_template_6_div_0_div_4_div_1_Template","restoreStatus","RecycleMainComponent_ng_template_6_div_0_div_4_Template","restoreResult_r11","results","result_r21","RecycleMainComponent_ng_template_6_div_1_div_5_div_1_Template","RecycleMainComponent_ng_template_6_div_1_hr_1_Template","RecycleMainComponent_ng_template_6_div_1_div_5_Template","hasDuplicateNames","RecycleMainComponent_ng_template_6_div_0_Template","RecycleMainComponent_ng_template_6_div_1_Template","hasParentFolderMissing","RecycleMainComponent","loadData","currentQuery","offset","sortBy","sortAscending","archive","search","service","searchField","dataSource","CM_ARCHIVED_DATE","useDefaultOptions","addOptions","allowed","active","direction","destroyed","restoreOption","restoreSingle","group","Primary","deleteOption","deleteSingle","forEach","o","elementType","Node","NodePublishedCopy","observeCurrentInstance","instance","onSearchTriggered","searchString","ngAfterViewInit","list","initOptionsGenerator","actionbar","customOptions","ngOnDestroy","complete","openConfirmDeleteDialog","closable","Standard","contentTemplate","confirmDeleteDialog","set","deleteNodesWithoutConfirmation","restoreFinished","restoreResult","prepareResults","openRestoreDialog","restoreResults","subtitle","avatar","kind","icon","restoreDialog","context","delete","deleteNodes","getSelection","selected","deleteFinished","handleErrors","clear","get","restoreNodes","toPath","result","isLoading","pagination","appendData","setPagination","click","toggle","element","updateSort","text","RestArchiveService","TemporaryStorageService","SearchFieldService","RecycleMainComponent_Query","RecycleMainComponent_Template_es_node_entries_wrapper_sortChange_0_listener","RecycleMainComponent_Template_es_node_entries_wrapper_clickItem_0_listener","RecycleMainComponent_Template_es_node_entries_wrapper_fetchData_0_listener","RecycleMainComponent_ng_template_2_Template","RecycleMainComponent_ng_template_4_Template","RecycleMainComponent_ng_template_6_Template","WorkspaceList","Emitter","rxjs","OptionsHelperDataService","Helper","canDropOnNode","WorkspaceSubTreeComponent_div_5_div_1_es_workspace_sub_tree_11_Template_es_workspace_sub_tree_onLoading_0_listener","_r14","i_r8","index","setLoadingState","WorkspaceSubTreeComponent_div_5_div_1_es_workspace_sub_tree_11_Template_es_workspace_sub_tree_onUpdateOptions_0_listener","ctx_r15","updateOptions","WorkspaceSubTreeComponent_div_5_div_1_es_workspace_sub_tree_11_Template_es_workspace_sub_tree_hasChildren_0_listener","node_r7","_hasChildren","WorkspaceSubTreeComponent_div_5_div_1_es_workspace_sub_tree_11_Template_es_workspace_sub_tree_onClick_0_listener","openPathEvent","WorkspaceSubTreeComponent_div_5_div_1_es_workspace_sub_tree_11_Template_es_workspace_sub_tree_onDrop_0_listener","dropToParent","currentPath","depth","WorkspaceSubTreeComponent_div_5_div_1_Template_div_contextmenu_0_listener","_r22","contextMenu","WorkspaceSubTreeComponent_div_5_div_1_Template_div_nodeDropped_1_listener","onDropped","WorkspaceSubTreeComponent_div_5_div_1_Template_div_click_1_listener","openOrCloseNode","WorkspaceSubTreeComponent_div_5_div_1_Template_button_click_3_listener","toggleNodeExpansion","WorkspaceSubTreeComponent_div_5_div_1_i_4_Template","WorkspaceSubTreeComponent_div_5_div_1_i_5_Template","WorkspaceSubTreeComponent_div_5_div_1_es_workspace_sub_tree_11_Template","ɵɵstyleProp","isSelected","ui","isTouchSubject","_c2","isOpen","ɵɵpropertyInterpolate","WorkspaceSubTreeComponent_div_5_button_2_Template_button_click_0_listener","_r27","loadAll","_c3","moreItems","ctx_r6","WorkspaceSubTreeComponent_div_5_div_1_Template","WorkspaceSubTreeComponent_div_5_button_2_Template","WorkspaceSubTreeComponent_div_5_es_spinner_3_Template","_nodes","loadingMore","WorkspaceSubTreeComponent","MAX_FOLDER_COUNT","_currentPath","expandCurrentPath","optionsService","onClick","onLoading","onDrop","hasChildren","onUpdateOptions","loadingStates","expandedNodes","merge","nodesDeleted","nodeIds","some","includes","currentChildNode","find","state","pos","optionIsShown","optionItem","showCallback","getChildren","FILTER_FOLDERS","count","COUNT_UNLIMITED","concat","showDropdown","dropdownLeft","clientX","dropdownTop","clientY","activeObjects","scope","WorkspaceTree","initComponents","dropdown","refreshComponents","dropdownTrigger","openMenu","total","initArray","dragData","target","source","draggedNodes","mode","action","UIService","_3","WorkspaceSubTreeComponent_Query","WorkspaceSubTreeComponent_Template","WorkspaceSubTreeComponent_div_5_Template","WorkspaceSubTreeComponent_div_6_Template","_r0","menu","AsyncPipe","i8","TranslatePipe","NodeIconPipe","styles","animation","openOverlay","ANIMATION_TIME_FAST","WorkspaceTreeComponent_div_7_Template_es_workspace_sub_tree_onUpdateOptions_1_listener","ctx_r13","WorkspaceTreeComponent_div_7_Template_es_workspace_sub_tree_onDrop_1_listener","drop","WorkspaceTreeComponent_div_7_Template_es_workspace_sub_tree_onClick_1_listener","openNode","WorkspaceTreeComponent_div_15_Template_es_workspace_sub_tree_onUpdateOptions_1_listener","_r18","ctx_r17","WorkspaceTreeComponent_div_15_Template_es_workspace_sub_tree_onDrop_1_listener","WorkspaceTreeComponent_div_15_Template_es_workspace_sub_tree_onClick_1_listener","WorkspaceTreeComponent_div_23_Template_es_workspace_sub_tree_onUpdateOptions_1_listener","WorkspaceTreeComponent_div_23_Template_es_workspace_sub_tree_onDrop_1_listener","WorkspaceTreeComponent_div_23_Template_es_workspace_sub_tree_onClick_1_listener","ctx_r8","WorkspaceTreeComponent_div_31_Template_es_workspace_sub_tree_onUpdateOptions_1_listener","_r26","WorkspaceTreeComponent_div_31_Template_es_workspace_sub_tree_onDrop_1_listener","WorkspaceTreeComponent_div_31_Template_es_workspace_sub_tree_onClick_1_listener","getRootFolderInternalId","WorkspaceTreeComponent_div_37_Template_es_workspace_sub_tree_onUpdateOptions_1_listener","_r30","WorkspaceTreeComponent_div_37_Template_es_workspace_sub_tree_onDrop_1_listener","ctx_r31","WorkspaceTreeComponent_div_37_Template_es_workspace_sub_tree_onClick_1_listener","ctx_r32","WorkspaceTreeComponent","path","pathIds","onOpenNode","onSetRoot","onDeleteNodes","MY_FILES","SHARED_FILES","MY_SHARED_FILES","TO_ME_SHARED_FILES","WORKFLOW_RECEIVE","RECYCLE","canDropOnRecycle","accept","setRoot","root","onNodesDrop","subTree","WorkspaceTreeComponent_Query","WorkspaceTreeComponent_Template_div_click_0_listener","WorkspaceTreeComponent_i_5_Template","WorkspaceTreeComponent_i_6_Template","WorkspaceTreeComponent_div_7_Template","WorkspaceTreeComponent_Template_div_click_8_listener","WorkspaceTreeComponent_i_13_Template","WorkspaceTreeComponent_i_14_Template","WorkspaceTreeComponent_div_15_Template","WorkspaceTreeComponent_Template_div_click_16_listener","WorkspaceTreeComponent_i_21_Template","WorkspaceTreeComponent_i_22_Template","WorkspaceTreeComponent_div_23_Template","WorkspaceTreeComponent_Template_div_click_24_listener","WorkspaceTreeComponent_i_29_Template","WorkspaceTreeComponent_i_30_Template","WorkspaceTreeComponent_div_31_Template","WorkspaceTreeComponent_Template_div_click_32_listener","WorkspaceTreeComponent_div_37_Template","WorkspaceTreeComponent_Template_div_click_38_listener","WorkspaceTreeComponent_Template_div_nodeDropped_38_listener","RouterModule","WorkspacePageComponent","routes","component","WorkspacePageRoutingModule","forChild","imports","exports","delay","first","take","FrameEventsService","RestToolService","mapVCard","OK","canDragDrop","WorkspacePageComponent_es_breadcrumbs_3_Template_es_breadcrumbs_onDrop_0_listener","handleDropOnBreadcrumb","WorkspacePageComponent_es_breadcrumbs_3_Template_es_breadcrumbs_onClick_0_listener","openBreadcrumb","query","canDropOnBreadcrumb","WorkspacePageComponent_div_7_div_1_Template_div_click_0_listener","showSelectRoot","WorkspacePageComponent_div_7_div_2_Template_a_click_1_listener","_r16","WorkspacePageComponent_div_7_div_2_Template_a_click_5_listener","WorkspacePageComponent_div_7_div_2_Template_a_click_9_listener","WorkspacePageComponent_div_7_div_2_Template_a_click_13_listener","WorkspacePageComponent_div_7_div_2_Template_a_click_17_listener","WorkspacePageComponent_div_7_div_2_Template_a_click_21_listener","user","quota","WorkspacePageComponent_div_7_div_3_Template_es_workspace_tree_onDrop_1_listener","_r24","handleDrop","WorkspacePageComponent_div_7_div_3_Template_es_workspace_tree_onSetRoot_1_listener","WorkspacePageComponent_div_7_div_3_Template_es_workspace_tree_onOpenNode_1_listener","WorkspacePageComponent_div_7_div_3_Template_es_workspace_tree_onDeleteNodes_1_listener","WorkspacePageComponent_div_7_div_3_es_user_quota_2_Template","ctx_r10","enabled","selectedNodeTree","isSafe","_r1","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_refreshTree_0_listener","treeComponent","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_displayTypeChange_0_listener","setDisplayType","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_reorderDialogChange_0_listener","reorderDialog","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_onSearchGlobal_0_listener","searchGlobal","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_onDrop_0_listener","ctx_r34","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_onViewNode_0_listener","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_onOpenNode_0_listener","ctx_r36","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template_es_workspace_explorer_onReset_0_listener","resetWorkspace","currentFolder","displayType","cardHasOpenModals$","WorkspacePageComponent_div_7_div_1_Template","WorkspacePageComponent_div_7_div_2_Template","WorkspacePageComponent_div_7_div_3_Template","WorkspacePageComponent_div_7_es_recycle_4_Template","WorkspacePageComponent_div_7_es_workspace_explorer_8_Template","globalProgress","isLoggedIn","VALID_ROOTS","VALID_ROOTS_NODES","USERHOME","allowBinary","allowBinarySubject","createAllowed","createAllowedSubject","currentFolderSubject","searchQuerySubject","appContainer","breadcrumbsService","card","connectors","iam","loadingScreen","mainNavService","mds","ngZone","route","session","storage","userService","toolService","translations","themeService","sharedFolders","editNodeDeleteOnCancel","mainnav","isBlocked","showLtiTools","destroyed$","loadingTask","addLoadingTask","until","denyExplicit","addListener","setRoute","waitForInit","initialize","hasOpenModals","registerScroll","registerUpdateMainNav","remove","getLastLocationStorageId","beforeunloadHandler","handleScroll","scroll","getScrollContainer","scrollTop","onEvent","EVENT_REFRESH","initMainNav","setMainNavConfig","currentScope","create","folder","onCreate","explorer","nodeEntries","addVirtualNodes","onCreateNotAllowed","createNotAllowed","canOpen","searchFieldInstance","enable","placeholder","doSearch","setSearchString","disable","combineLatest","patchMainNavConfig","registerScrollEvents","editConnector","win","connectorType","openConnector","getNodeList","copyNode","moveNode","position","finishMoveCopy","handleNodeError","copy","info","to","params","routeParams","handleParamsUpdate","queryParams","handleQueryParamsUpdate","initUser","observeCurrentUser","notNull","e","_this3","statusCode","STATUS_CODE_OK","goToLogin","valid","isValidLogin","isGuest","hasToolPermissionInstant","TOOLPERMISSION_WORKSPACE","SAFE_SCOPE","logout","prepareActionbar","loadFolders","observeConfig","themeColors","colorSafe","applyFromConfigColors","needsUpdate","oldParams","QUERY_PARAM_LIST_VIEW_TYPE","reurl","file","showNodeInCurrentFolder","lastLocation","pop","openDirectory","replaceUrl","openDirectoryFromRoute","showAlpha","_this4","visibleNodes","setSelection","parameterNode","routeTo","cleared","hideKeyboardIfMobile","doSearchFromRoute","isRootFolder","notAllowedReason","setNodePath","SYS_TYPE_CONTAINER","NODE_RENDER_PARAMETER_DATA_SOURCE","Array","isArray","actionbarRef","invalidate","select","setFixMobileNav","getMainNav","setFixMobileElements","closeMetadata","getNodeParents","getSet","metadataset","DEFAULT","onlyMetadata","updateNodeByParams","getNodesRight","ACCESS_ADD_CHILDREN","recoverScrollposition","useConnector","isSavedSearchObject","routeToSearchNode","isLtiObject","openLtiObject","connectorSupportsEdit","evaluateMediaQuery","MEDIA_QUERY_MAX_WIDTH","MOBILE_TAB_SWITCH_WIDTH","refreshPath","updateNodes","setTimeout","_this5","getCommonParameters","relativeTo","then","Disabled","addToCollection","addNodesToCollection","addToStream","addNodesStream","createVariant","variantNode","getRootFolderId","toMeSharedToggle","TO_ME_SHARED_FILES_PERSONAL","listLTI","window","scrollTo","applyNode","force","addNodeToLms","isDone","done","broadcastEvent","EVENT_NODE_FOLDER_OPENED","canPasteInCurrentLocation","clip","sourceNode","hit","n","copyObjectProperties","_this6","isToggle","Toggles","Unknown","priority","customShowCallback","WORKSPACE_LAST_LOCATION","refreshRoute","queryParamsHandling","_this7","label","color","openDeleteNodesDialog","AppContainerService","BreadcrumbsService","CardService","ConfigurationService","RestConnectorsService","LoadingScreenService","i7","MainNavService","RestMdsService","NgZone","i9","ActivatedRoute","i10","SessionStorageService","i11","UserService","i12","i13","TranslationsService","i14","ThemeService","i15","_4","WorkspacePageComponent_Query","ɵɵresolveWindow","WorkspacePageComponent_es_breadcrumbs_3_Template","WorkspacePageComponent_div_6_Template","WorkspacePageComponent_div_7_Template","WorkspacePageComponent_es_global_progress_8_Template","fade","fromLeft","undefined","SharedModule","WorkspaceExplorerComponent","WorkspacePageModule","declarations","BreadcrumbsComponent","NgIf","CdkDropList","ActionbarComponent","IconDirective","GlobalProgressComponent","SkipTargetDirective","TitleDirective","UserQuotaComponent"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}