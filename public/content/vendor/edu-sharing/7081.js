"use strict";(self.webpackChunkapp_as_web_component=self.webpackChunkapp_as_web_component||[]).push([[7081],{87081:(b,C,r)=>{r.r(C),r.d(C,{ProfilePageModule:()=>ht});var _=r(50555),d=r(22941),v=r(72079),f=r(77504),l=r(52081),g=r(81771),P=r(86825),O=r(64634),t=r(65879),M=r(1189),E=r(5178),p=r(6593),c=r(63030),x=r(96814),h=r(92596),u=r(56223),m=r(17162),I=r(35799),Z=r(32296),w=r(64170),S=r(24516),N=r(56263),y=r(82599),L=r(19374),U=r(66848),R=r(98588),J=r(97185),D=r(99994),F=r(71365);const Q=["avatar"];function k(n,a){1&n&&(t.TgZ(0,"div",3),t._UZ(1,"div",4)(2,"div",5),t.qZA())}function H(n,a){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw(2);t.Q6J("src",e.user.profile.avatar+"&crop=true&width=400&height=400",t.LSH)}}function Y(n,a){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw(2);t.Q6J("src",e.user.profile.avatar+"&crop=true&width=400&height=400",t.LSH)}}function G(n,a){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw(2);t.Q6J("src",e.avatarImage,t.LSH)}}function q(n,a){if(1&n&&t._UZ(0,"es-actionbar",31),2&n){const e=t.oxw(2);t.Akn("flat"),t.Q6J("numberOfAlwaysVisibleOptions",1)("numberOfAlwaysVisibleOptionsMobile",1)("options",e.actions)}}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.edit=!1)}),t._UZ(1,"i",33),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"PROFILES.CANCEL_EDIT")))}function W(n,a){if(1&n&&t._UZ(0,"es-user-avatar",34),2&n){const e=t.oxw(2);t.Q6J("user",e.user)}}function j(n,a){if(1&n&&t._UZ(0,"es-user-avatar",35),2&n){const e=t.oxw(2);t.Q6J("user",e.userEdit)("customImage",e.avatarFile)}}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.clearAvatar())}),t._UZ(1,"i",42),t.qZA()}}function z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",36)(1,"input",37,38),t.NdJ("change",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.updateAvatar(i))}),t.qZA(),t.TgZ(3,"div",39),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(2);return t.KtG(i.click())}),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,B,2,0,"button",40),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,2,"PROFILES.IMG_CHANGE")),t.xp6(2),t.Q6J("ngIf",e.hasAvatar())}}function V(n,a){if(1&n&&(t.TgZ(0,"div",45)(1,"a",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.MGl("href","mailto:",e.user.profile.email,"",t.LSH),t.xp6(1),t.Oqu(e.user.profile.email)}}function X(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",43),t._uU(2),t.ALo(3,"authorityName"),t.qZA(),t.YNc(4,V,3,2,"div",44),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,e.user)),t.xp6(2),t.Q6J("ngIf",e.user.profile.email)}}function $(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",47)(2,"div",48)(3,"mat-form-field",49)(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",50),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.userEdit.profile.vcard.title=i)}),t.qZA()()(),t.TgZ(8,"div",51)(9,"mat-form-field",49)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",50),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.userEdit.profile.firstName=i)}),t.qZA()()(),t.TgZ(14,"div",52)(15,"mat-form-field",49)(16,"mat-label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",50),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.userEdit.profile.lastName=i)}),t.qZA()()()(),t.TgZ(20,"div",53)(21,"mat-form-field",54)(22,"mat-label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",55),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.userEdit.profile.email=i)}),t.qZA()(),t.TgZ(26,"mat-slide-toggle",56),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.profileSettings.showEmail=i)}),t.ALo(27,"translate"),t.TgZ(28,"mat-label",57),t._uU(29),t.ALo(30,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,13,"VCARD.Title")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.vcard.title),t.xp6(4),t.Oqu(t.lcZ(12,15,"USER.firstName")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.firstName),t.xp6(4),t.Oqu(t.lcZ(18,17,"USER.lastName")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.lastName),t.xp6(4),t.Oqu(t.lcZ(24,19,"USER.email")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.email),t.xp6(1),t.s9C("matTooltip",t.lcZ(27,21,"PROFILE_SETTINGS.SHOW_EMAIL_TOOLTIP")),t.Q6J("color","primary-bright")("checked",e.profileSettings.showEmail)("ngModel",e.profileSettings.showEmail),t.xp6(3),t.Oqu(t.lcZ(30,23,"PROFILE_SETTINGS.SHOW_EMAIL_LABEL"))}}function tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.saveEdits())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SAVE")," "))}function et(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.aboutEdit())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PROFILES.EDIT")," "))}function nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.editAbout=!1)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PROFILES.CANCEL_EDIT")," "))}function it(n,a){if(1&n&&(t.TgZ(0,"div",59),t.YNc(1,et,3,3,"button",60),t.YNc(2,nt,3,3,"button",60),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.editAbout&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.editAbout)}}function ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",62)(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"textarea",63),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.userEdit.profile.about=i)}),t.qZA()(),t.TgZ(6,"div",64)(7,"button",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.saveEdits())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,3,"PROFILES.ABOUT_LABEL")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.about),t.xp6(3),t.hij(" ",t.lcZ(9,5,"SAVE")," ")}}function rt(n,a){if(1&n&&(t.TgZ(0,"div",68),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(e.user.profile.about)}}function st(n,a){if(1&n&&(t.TgZ(0,"div",69),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,"PROFILES.NO_ABOUT"+(e.isMe?"_ME":""))," ")}}function at(n,a){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,rt,2,1,"div",66),t.YNc(2,st,3,3,"div",67),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.user.profile.about),t.xp6(1),t.Q6J("ngIf",!e.user.profile.about)}}function lt(n,a){1&n&&t._UZ(0,"i",77)}function ct(n,a){1&n&&t._UZ(0,"i",78)}function pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",79),t._UZ(1,"es-info-message",80),t.ALo(2,"translate"),t.TgZ(3,"mat-form-field",81)(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",82),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(3);return t.KtG(s.userEdit.profile.vcard.orcid=i)}),t.qZA(),t._UZ(8,"mat-hint",83),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-form-field",81)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"input",84),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw(3);return t.KtG(s.userEdit.profile.vcard.gnduri=i)}),t.qZA(),t._UZ(15,"mat-hint",83),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",64)(18,"button",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.savePersistentIds())}),t._uU(19),t.ALo(20,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("@overlay",e.showPersistentIds),t.xp6(1),t.s9C("message",t.lcZ(2,9,"PROFILES.PERSISTENT_ID_INFO")),t.xp6(4),t.Oqu(t.lcZ(6,11,"VCARD.X-ORCID")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.vcard.orcid),t.xp6(1),t.s9C("innerHTML",t.lcZ(9,13,"VCARD_HINT.X-ORCID"),t.oJD),t.xp6(4),t.Oqu(t.lcZ(13,15,"VCARD.X-GND-URI")),t.xp6(2),t.Q6J("ngModel",e.userEdit.profile.vcard.gnduri),t.xp6(1),t.s9C("innerHTML",t.lcZ(16,17,"VCARD_HINT.X-GND-URI"),t.oJD),t.xp6(4),t.hij(" ",t.lcZ(20,19,"SAVE")," ")}}function _t(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"button",72),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showPersistentIds=!i.showPersistentIds)}),t._UZ(3,"i",73),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,lt,1,0,"i",74),t.YNc(8,ct,1,0,"i",75),t.qZA()(),t.YNc(9,pt,21,21,"div",76),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,4,"WORKSPACE.CONTRIBUTOR.PERSISTENT_IDS")),t.xp6(2),t.Q6J("ngIf",e.showPersistentIds),t.xp6(1),t.Q6J("ngIf",!e.showPersistentIds),t.xp6(1),t.Q6J("ngIf",e.showPersistentIds)}}function gt(n,a){1&n&&t._UZ(0,"i",91)}function dt(n,a){1&n&&t._UZ(0,"i",92)}function ft(n,a){1&n&&t._UZ(0,"i",93)}function ut(n,a){1&n&&t._UZ(0,"i",94)}function Pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",95)(1,"es-input-password",96),t.NdJ("valueChange",function(i){t.CHM(e);const s=t.oxw(3);return t.KtG(s.oldPassword=i)}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"es-input-password",97,98),t.NdJ("valueChange",function(i){t.CHM(e);const s=t.oxw(3);return t.KtG(s.password=i)}),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",64)(8,"button",99),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.savePassword())}),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&n){const e=t.MAs(4),o=t.oxw(3);t.Q6J("@overlay",o.changePassword),t.xp6(1),t.s9C("label",t.lcZ(2,12,"OLD_PASSWORD")),t.Q6J("displayStrength",!1)("value",o.oldPassword)("required",!0),t.xp6(2),t.s9C("label",t.lcZ(5,14,"NEW_PASSWORD")),t.s9C("hint",t.lcZ(6,16,"REGISTER.HINT")),t.Q6J("displayStrength",!0)("value",o.password)("required",!0),t.xp6(5),t.Q6J("disabled",!o.oldPassword.trim()||"weak"===e.passwordStrength),t.xp6(1),t.hij(" ",t.lcZ(10,18,"SAVE")," ")}}function Ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",85)(1,"div",71)(2,"button",72),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.editPassword())}),t.YNc(3,gt,1,0,"i",86),t.YNc(4,dt,1,0,"i",87),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,ft,1,0,"i",88),t.YNc(9,ut,1,0,"i",89),t.qZA()(),t.YNc(10,Pt,11,20,"div",90),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.changePassword),t.xp6(1),t.Q6J("ngIf",e.changePassword),t.xp6(2),t.Oqu(t.lcZ(7,6,"CHANGE_PASSWORD")),t.xp6(2),t.Q6J("ngIf",!e.changePassword),t.xp6(1),t.Q6J("ngIf",e.changePassword),t.xp6(1),t.Q6J("ngIf",e.changePassword)}}const Mt=function(n){return{name:n}};function vt(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7)(2,"h1",8),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"authorityName"),t.qZA(),t.TgZ(6,"div",9),t.ALo(7,"authorityColor"),t._UZ(8,"div",5),t.YNc(9,H,1,1,"img",10),t.YNc(10,Y,1,1,"img",10),t.YNc(11,G,1,1,"img",10),t.YNc(12,q,1,5,"es-actionbar",11),t.YNc(13,K,5,3,"button",12),t.YNc(14,W,1,1,"es-user-avatar",13),t.YNc(15,j,1,2,"es-user-avatar",14),t.YNc(16,z,8,4,"div",15),t.YNc(17,X,5,4,"div",16),t.YNc(18,$,31,25,"div",16),t.TgZ(19,"div",17),t.YNc(20,tt,3,3,"button",18),t.qZA()(),t.TgZ(21,"div",19)(22,"div",20)(23,"div")(24,"div",21),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",22),t._uU(28),t.qZA()(),t.TgZ(29,"div")(30,"div",21),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",22),t._uU(34),t.qZA()(),t.TgZ(35,"div")(36,"div",21),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"div",22),t._uU(40),t.qZA()()()(),t.TgZ(41,"div",23),t._UZ(42,"i",24),t.YNc(43,it,3,2,"div",25),t.YNc(44,ot,10,7,"div",26),t.YNc(45,at,3,2,"div",27),t.qZA(),t.YNc(46,_t,10,6,"div",28),t.YNc(47,Ct,11,8,"div",29),t.qZA()()),2&n){const e=t.oxw();let o,i,s;t.xp6(3),t.hij(" ",t.xi3(4,26,"PROFILES.TITLE",t.VKq(39,Mt,t.lcZ(5,29,e.user)))," "),t.xp6(3),t.Udp("background-color",t.lcZ(7,31,e.edit?e.userEdit:e.user)),t.xp6(3),t.Q6J("ngIf",!e.edit&&e.user.profile.avatar),t.xp6(1),t.Q6J("ngIf",e.edit&&!e.avatarFile&&e.userEdit.profile.avatar),t.xp6(1),t.Q6J("ngIf",e.edit&&e.avatarFile),t.xp6(1),t.Q6J("ngIf",e.isMe&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.isMe&&e.edit),t.xp6(1),t.Q6J("ngIf",!e.edit),t.xp6(1),t.Q6J("ngIf",e.edit),t.xp6(1),t.Q6J("ngIf",e.edit),t.xp6(1),t.Q6J("ngIf",!e.edit),t.xp6(1),t.Q6J("ngIf",e.edit),t.xp6(2),t.Q6J("ngIf",e.edit),t.xp6(5),t.hij(" ",t.lcZ(26,33,"PROFILES.STATS.MATERIALS")," "),t.xp6(3),t.hij(" ",null!==(o=null==e.userStats?null:e.userStats.nodeCount)&&void 0!==o?o:"-"," "),t.xp6(3),t.hij(" ",t.lcZ(32,35,"PROFILES.STATS.COLLECTIONS")," "),t.xp6(3),t.hij(" ",null!==(i=null==e.userStats?null:e.userStats.collectionCount)&&void 0!==i?i:"-"," "),t.xp6(3),t.hij(" ",t.lcZ(38,37,"PROFILES.STATS.MATERIALS_CC")," "),t.xp6(3),t.hij(" ",null!==(s=null==e.userStats?null:e.userStats.nodeCountCC)&&void 0!==s?s:"-"," "),t.xp6(3),t.Q6J("ngIf",e.isMe&&e.editProfile),t.xp6(1),t.Q6J("ngIf",e.editAbout),t.xp6(1),t.Q6J("ngIf",!e.editAbout),t.xp6(1),t.Q6J("ngIf",e.isMe&&e.editProfile),t.xp6(1),t.Q6J("ngIf",e.isMe&&e.editProfile&&e.userEditProfile)}}const Ot=[{path:":authority",component:(()=>{class n{constructor(e,o,i,s,T,xt,wt,Tt,bt,At){this.toast=e,this.route=o,this.mainNav=i,this.connector=s,this.translations=T,this.router=xt,this.config=wt,this.sanitizer=Tt,this.loadingScreen=bt,this.iamService=At,this.destroyed=new v.xQ,this.loadingTask=this.loadingScreen.addLoadingTask({until:this.destroyed}),this.editAbout=!1,this.oldPassword="",this.password="",this.showPersistentIds=!1,this.translations.waitForInit().subscribe(()=>{o.params.subscribe(A=>{this.editProfileUrl=this.config.instant("editProfileUrl"),this.editProfile=this.config.instant("editProfile",!0),this.loadUser(A.authority),this.getProfileSetting(A.authority)})}),this.editAction=new l.BA("PROFILES.EDIT","edit",()=>this.beginEdit()),this.editAction.group=l.EM.Edit,this.editAction.showAsAction=!0,this.actions=[this.editAction]}static#t=this.PASSWORD_MIN_LENGTH=5;ngOnInit(){this.mainNav.setMainNavConfig({title:"PROFILES.TITLE_NAV",currentScope:"profiles"})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}loadUser(e){this.toast.showProgressSpinner(),this.connector.isLoggedIn().subscribe(o=>{(0,f.D)(this.iamService.getUser(e),this.iamService.getUserStats(e)).subscribe(([i,s])=>{this.user=i.person,this.userStats=s,this.userEditProfile=i.editProfile,this.toast.closeProgressSpinner(),this.userEdit=O.W.deepCopy(this.user),this.user.profile.vcard instanceof l._W||(this.user.profile.vcard=new l._W(this.user.profile.vcard)),this.userEdit.profile.vcard=this.user.profile.vcard?.copy(),this.loadingTask.isDone||this.loadingTask.done(),this.iamService.getCurrentUserAsync().then(T=>{this.isMe=i.person.authorityName===T.person.authorityName,this.isMe&&o.isGuest&&g.bv.goToLogin(this.router,this.config),this.editAction.isEnabled=this.editProfile&&!(!this.userEditProfile&&!this.editProfileUrl)})},i=>{this.toast.closeProgressSpinner(),this.loadingTask.isDone||this.loadingTask.done(),this.toast.error(null,"PROFILES.LOAD_ERROR")})})}getProfileSetting(e){this.iamService.getProfileSettings(e).subscribe(o=>{this.profileSettings=o},o=>{this.profileSettings=null})}updateAvatar(e){this.avatarElement.nativeElement.files&&this.avatarElement.nativeElement.files.length&&(this.avatarFile=this.avatarElement.nativeElement.files[0],this.avatarImage=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.avatarFile)))}beginEdit(){this.userEditProfile||!this.editProfileUrl?(this.userEdit=O.W.deepCopy(this.user),this.userEdit.profile.vcard=this.user.profile.vcard.copy(),this.edit=!0,this.avatarFile=null):window.location.href=this.editProfileUrl}clearAvatar(){this.avatarFile=null,this.userEdit.profile.avatar=null}hasAvatar(){return this.userEdit.profile.avatar||this.avatarFile}savePassword(){if(this.changePassword){if(this.toast.showProgressSpinner(),this.password.length<n.PASSWORD_MIN_LENGTH)return this.toast.error(null,"PASSWORD_MIN_LENGTH",{length:n.PASSWORD_MIN_LENGTH}),void this.toast.closeProgressSpinner();this.iamService.editUserCredentials(this.user.authorityName,{oldPassword:this.oldPassword,newPassword:this.password}).subscribe(()=>{this.saveAvatar()},o=>{g.bv.errorMessageContains(o,"BadCredentialsException")?(this.toast.error(null,"WRONG_PASSWORD"),this.toast.closeProgressSpinner()):(this.toast.error(o),this.saveAvatar())})}else this.saveAvatar()}saveEdits(){this.userEdit.profile.firstName?.trim()?this.userEdit.profile.lastName?.trim()?this.userEdit.profile.email?.trim()?(this.toast.showProgressSpinner(),this.iamService.editUser(this.user.authorityName,this.userEdit.profile).subscribe(()=>{this.saveProfileSettings()},e=>{this.toast.closeProgressSpinner(),this.toast.error(e)})):this.toast.error(null,"PROFILES.ERROR.EMAIL"):this.toast.error(null,"PROFILES.ERROR.LAST_NAME"):this.toast.error(null,"PROFILES.ERROR.FIRST_NAME")}saveAvatar(){this.user=null,this.userEdit.profile.avatar||this.avatarFile?this.avatarFile?this.iamService.setUserAvatar(this.avatarFile,this.userEdit.authorityName).subscribe(()=>{this.edit=!1,this.editAbout=!1,this.toast.toast("PROFILE_UPDATED"),this.loadUser(this.userEdit.authorityName)},e=>{this.toast.error(e)}):(this.toast.closeProgressSpinner(),this.edit=!1,this.editAbout=!1,this.toast.toast("PROFILE_UPDATED"),this.loadUser(this.userEdit.authorityName)):this.iamService.removeUserAvatar(this.userEdit.authorityName).subscribe(()=>{this.edit=!1,this.editAbout=!1,this.oldPassword="",this.password="",this.changePassword=!1,this.toast.toast("PROFILE_UPDATED"),this.loadUser(this.userEdit.authorityName)},e=>{this.toast.error(e)})}saveProfileSettings(){this.iamService.setProfileSettings(this.profileSettings,this.user.authorityName).subscribe(()=>{this.saveAvatar()},e=>{this.toast.closeProgressSpinner(),this.toast.error(e)})}aboutEdit(){this.userEdit=O.W.deepCopy(this.user),this.userEdit.profile.vcard=this.user.profile.vcard?.copy(),this.editAbout=!0}editPassword(){this.changePassword=!this.changePassword,this.password="",this.oldPassword=""}savePersistentIds(){this.saveEdits()}static#e=this.\u0275fac=function(o){return new(o||n)(t.Y36(M.F),t.Y36(d.gz),t.Y36(E.ZF),t.Y36(g.xD),t.Y36(l.fA),t.Y36(d.F0),t.Y36(g.eB),t.Y36(p.H7),t.Y36(c.O),t.Y36(g.Du))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["es-profile-page"]],viewQuery:function(o,i){if(1&o&&t.Gf(Q,5),2&o){let s;t.iGM(s=t.CRH())&&(i.avatarElement=s.first)}},decls:3,vars:2,consts:[["class","profile-bg",4,"ngIf"],[1,"profiles-wrapper"],["class","profiles",4,"ngIf"],[1,"profile-bg"],[1,"avatar-default"],[1,"profile-gradient"],[1,"profiles"],["role","main","esSkipTarget","MAIN_CONTENT",1,"main"],["esTitle","",1,"cdk-visually-hidden"],[1,"top"],["class","blurred-image","alt","",3,"src",4,"ngIf"],[3,"style","numberOfAlwaysVisibleOptions","numberOfAlwaysVisibleOptionsMobile","options",4,"ngIf"],["mat-button","","class","edit clickable",3,"click",4,"ngIf"],[3,"user",4,"ngIf"],[3,"user","customImage",4,"ngIf"],["class","editAvatar",4,"ngIf"],[4,"ngIf"],[1,"save"],["mat-raised-button","",3,"click",4,"ngIf"],[1,"statsBackground"],[1,"stats"],[1,"stat"],[1,"value"],[1,"about"],["esIcon","edu-quotes",1,"quotes"],["class","about-buttons",4,"ngIf"],["class","about-edit",4,"ngIf"],["class","about",4,"ngIf"],["class","persistent-id",4,"ngIf"],["class","changePassword",4,"ngIf"],["alt","",1,"blurred-image",3,"src"],[3,"numberOfAlwaysVisibleOptions","numberOfAlwaysVisibleOptionsMobile","options"],["mat-button","",1,"edit","clickable",3,"click"],["esIcon","close"],[3,"user"],[3,"user","customImage"],[1,"editAvatar"],["type","file","accept","image/*",1,"hide",3,"change"],["avatar",""],[1,"new-avatar-button",3,"click"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["esIcon","delete"],[1,"name"],["class","mail",4,"ngIf"],[1,"mail"],[3,"href"],[1,"vcard"],[1,"title"],[1,"mat-form-field-bright"],["matInput","","type","text",3,"ngModel","ngModelChange"],[1,"givenname"],[1,"surname"],[1,"email-group-form"],[1,"mat-form-field-bright","email"],["matInput","","type","email",3,"ngModel","ngModelChange"],[3,"color","matTooltip","checked","ngModel","ngModelChange"],[1,"mat-slide-label"],["mat-raised-button","",3,"click"],[1,"about-buttons"],["mat-button","","color","primary","class","edit",3,"click",4,"ngIf"],["mat-button","","color","primary",1,"edit",3,"click"],[1,"about-edit"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","4","id","about",3,"ngModel","ngModelChange"],[1,"change-buttons"],["mat-raised-button","","color","primary",3,"click"],["class","profile",4,"ngIf"],["class","empty",4,"ngIf"],[1,"profile"],[1,"empty"],[1,"persistent-id"],[1,"toggle"],["mat-button","","color","primary",3,"click"],["esIcon","fingerprint"],["esIcon","keyboard_arrow_down",4,"ngIf"],["esIcon","keyboard_arrow_right",4,"ngIf"],["class","persistent-id-inputs",4,"ngIf"],["esIcon","keyboard_arrow_down"],["esIcon","keyboard_arrow_right"],[1,"persistent-id-inputs"],[3,"message"],["floatLabel","always"],["matInput","","id","orcid","pattern","https?:\\/\\/orcid.org\\/\\d{4}(-\\d{4}){3}","placeholder","http://orcid.org/0000-0000-0000-0000",3,"ngModel","ngModelChange"],[3,"innerHTML"],["matInput","","id","gnduri","pattern","https?:\\/\\/d-nb.info\\/gnd\\/(\\d|x|X)+","placeholder","http://d-nb.info/gnd/0000000000",3,"ngModel","ngModelChange"],[1,"changePassword"],["esIcon","lock",4,"ngIf"],["esIcon","lock_open",4,"ngIf"],["aria-hidden","true","esIcon","keyboard_arrow_right",4,"ngIf"],["aria-hidden","true","esIcon","keyboard_arrow_down",4,"ngIf"],["class","password",4,"ngIf"],["esIcon","lock"],["esIcon","lock_open"],["aria-hidden","true","esIcon","keyboard_arrow_right"],["aria-hidden","true","esIcon","keyboard_arrow_down"],[1,"password"],["inputId","oldPassword",3,"label","displayStrength","value","required","valueChange"],["inputId","password",3,"label","hint","displayStrength","value","required","valueChange"],["newPassword",""],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,i){1&o&&(t.YNc(0,k,3,0,"div",0),t.TgZ(1,"div",1),t.YNc(2,vt,48,41,"div",2),t.qZA()),2&o&&(t.Q6J("ngIf",i.user),t.xp6(2),t.Q6J("ngIf",i.user))},dependencies:[x.O5,h.gM,l.nv,l.ar,u.Fj,u.JJ,u.c5,u.On,m.u,I.P,Z.lW,w.KE,w.hX,w.bx,S.Nt,N.IC,y.Rr,L.P,U.M,R.k,J.I,D.F,F.X$],styles:[".vcard[_ngcontent-%COMP%]{padding-top:8px;display:flex;column-gap:15px;width:100%;grid-template-columns:20% 40% 40%}.vcard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .givenname[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%]{width:0}.vcard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .givenname[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%}.vcard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%]{flex-grow:1}.vcard[_ngcontent-%COMP%]   .givenname[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{flex-grow:2}@media screen and (max-width: 500px){.vcard[_ngcontent-%COMP%]{flex-direction:column;row-gap:5px}.vcard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .givenname[_ngcontent-%COMP%], .vcard[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{width:100%}.vcard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:200px}}.profile-bg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.profile-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:fixed;display:block;width:100vw;height:100vh;object-fit:cover}.profile-bg[_ngcontent-%COMP%]   .avatar-default[_ngcontent-%COMP%]{background:url(vendor/edu-sharing/register.jpg) no-repeat;background-size:cover}.profiles-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - var(--mainnavHeight));align-items:center}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]{position:relative;width:480px;margin:auto;display:flex;flex-direction:column;padding-bottom:20px;background:white;box-shadow:0 0 5px #0000004d}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:140%;font-weight:700;margin-top:5px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{white-space:pre-line}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{position:relative;padding:40px 20px 20px;text-align:center;color:var(--light-primary-text);z-index:2;overflow:hidden}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-primary-text)}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   es-user-avatar[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .editAvatar[_ngcontent-%COMP%]{position:relative;z-index:2}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{opacity:.75}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   es-user-avatar[_ngcontent-%COMP%]{display:flex;justify-content:center}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   es-actionbar[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;z-index:10}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]     [mat-button], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]     [mat-flat-button]{background-color:transparent;color:#fff;transition:all var(--transitionNormal)}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]     [mat-button]:disabled, .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]     [mat-flat-button]:disabled{opacity:.25}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]     [mat-button]:hover, .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]     [mat-flat-button]:hover{background-color:#0000001a}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .editAvatar[_ngcontent-%COMP%]{position:absolute;left:calc(50% + 60px);top:82px;-webkit-user-select:none;user-select:none}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .editAvatar[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:10px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .editAvatar[_ngcontent-%COMP%]   .new-avatar-button[_ngcontent-%COMP%]{left:-118px;border-radius:50%;position:absolute;top:-45px;height:120px;width:116px;cursor:pointer;overflow:hidden}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .editAvatar[_ngcontent-%COMP%]   .new-avatar-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);bottom:0;color:#fff;font-size:9pt;left:0;position:absolute;padding-top:7px;padding-bottom:10px;text-align:center;width:100%}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .authorityName[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .changePassword[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%]{max-width:500px;margin:auto;padding:0 25px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .changePassword[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:40px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .changePassword[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{color:var(--primary);text-transform:uppercase;float:left;margin-bottom:20px;width:100%}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .changePassword[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left;display:flex;align-items:center}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .changePassword[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .change-buttons[_ngcontent-%COMP%]{width:100%;text-align:right}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%] > .persistent-id-inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%] > .persistent-id-inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding-bottom:20px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .persistent-id[_ngcontent-%COMP%] > .persistent-id-inputs[_ngcontent-%COMP%]   es-info-message[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:20px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{position:relative}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .about-edit[_ngcontent-%COMP%]{padding-top:10px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{padding-top:25px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 15px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .about-buttons[_ngcontent-%COMP%]{padding-top:10px;text-align:right}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%], .profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{white-space:pre-line}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{color:#aaa}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .quotes[_ngcontent-%COMP%]{position:absolute;top:20px;left:30px;color:#383838}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .statsBackground[_ngcontent-%COMP%]{background-color:#fff;width:100%;box-shadow:0 0 5px #0000004d}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px;display:flex;text-align:center;flex-direction:row}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;align-items:center;padding:0 10px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{color:var(--textLight)}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:30pt}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .authorityName[_ngcontent-%COMP%]{padding-top:20px}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex-grow:1}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%]:hover{background-color:#eee}.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}.email-group-form[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:20px;padding-bottom:20px}.email-group-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex-grow:1}.email-group-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.email-group-form[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]     es-input-password mat-form-field{width:100%}@media screen and (max-width: 900px){.profiles-wrapper[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]{width:100%;left:0;padding-bottom:82px}.email-group-form[_ngcontent-%COMP%]{margin-bottom:31px}}@media only screen and (max-width: 500px){.profiles[_ngcontent-%COMP%]{margin-bottom:40px}.profiles[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;font-size:smaller}.profiles[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.hide[_ngcontent-%COMP%]{display:none}"],data:{animation:[(0,P.X$)("overlay",l.Le.openOverlay(l.Le.ANIMATION_TIME_FAST))]}})}return n})()}];let mt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(Ot),d.Bz]})}return n})(),ht=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[_.m,mt]})}return n})()},19374:(b,C,r)=>{r.d(C,{P:()=>v});var _=r(65879),d=r(79826);let v=(()=>{class f{constructor(g,P){this.elementRef=g,this.skipNav=P}ngOnInit(){this.skipNav.register(this.target,this.elementRef.nativeElement)}ngOnDestroy(){this.skipNav.unregister(this.target)}static#t=this.\u0275fac=function(P){return new(P||f)(_.Y36(_.SBq),_.Y36(d.g))};static#e=this.\u0275dir=_.lG2({type:f,selectors:[["","esSkipTarget",""]],inputs:{target:["esSkipTarget","target"]}})}return f})()},66848:(b,C,r)=>{r.d(C,{M:()=>t});var _=r(72079),d=r(12994),v=r(77504),f=r(96124),l=r(65879),g=r(6593),P=r(52081),O=r(81771);let t=(()=>{class M{constructor(p,c,x,h){this.elementRef=p,this.documentTitle=c,this.translations=x,this.pageHeading=new _.xQ,this.titleOverride=new _.xQ,this.pageTitle=new _.xQ,this.mutationObserver=new MutationObserver(()=>this.updatePageHeading()),this.mutationObserver.observe(this.elementRef.nativeElement,{characterData:!0,subtree:!0}),(0,d.aj)([this.pageHeading,this.titleOverride]).pipe((0,f.U)(([u,m])=>m??u)).subscribe(this.pageTitle),(0,d.aj)([(0,v.D)({branding:h.get("branding"),siteTitle:h.get("siteTitle","edu-sharing")}),this.pageTitle,this.translations.waitForInit()]).subscribe(([u,m])=>this.updateTitle(u,m))}ngOnChanges(p){if(p.esTitle){const c=p.esTitle.currentValue;this.titleOverride.next(""===c?null:c??"")}}ngOnInit(){this.updatePageHeading()}ngOnDestroy(){this.mutationObserver.disconnect()}updatePageHeading(){this.pageHeading.next(this.elementRef.nativeElement.textContent)}updateTitle(p,c){this.documentTitle.setTitle(c?p.branding?c+" - "+p.siteTitle:c:p.siteTitle)}static#t=this.\u0275fac=function(c){return new(c||M)(l.Y36(l.SBq),l.Y36(g.Dx),l.Y36(P.fA),l.Y36(O.eB))};static#e=this.\u0275dir=l.lG2({type:M,selectors:[["","esTitle",""]],inputs:{esTitle:"esTitle"},features:[l.TTD]})}return M})()}}]);